exports.__esModule = true;
var CacheHelper_1 = require("../Libs/CacheHelper");
var StaticAssets_1 = require("../Libs/StaticAssets");
var Settings_1 = require("../Libs/Settings");
var InstallSection = /** @class */ (function () {
    function InstallSection() {
    }
    InstallSection.Render = function () {
        //--------------------------------------------------
        //---------INSTALL----------------------------------
        //--------------------------------------------------
        self.addEventListener("install", function (installEvent) {
            //DEBUG
            if (Settings_1.Settings.debug)
                console.log("Service worker - INSTALL");
            //ADD "precacheItems" TO THE MAIN CACHE
            installEvent.waitUntil(caches
                .open(CacheHelper_1.CacheHelper.mainCacheName)
                .then(function (cache) {
                return cache
                    .addAll(StaticAssets_1.StaticAssets.GetPrecacheURIs())["catch"](function (error) {
                    console.error("Service worker: error when fetching precached files:");
                    console.error(error);
                });
            }));
        });
    };
    return InstallSection;
}());
exports.InstallSection = InstallSection;
