exports.__esModule = true;
var event_1 = require("@drozdik.m/event");
var ResizeArgs_1 = require("../args/ResizeArgs");
exports.ResizeArgs = ResizeArgs_1.ResizeArgs;
var ScrollArgs_1 = require("../args/ScrollArgs");
exports.ScrollArgs = ScrollArgs_1.ScrollArgs;
var WindowEventArgs_1 = require("../args/WindowEventArgs");
exports.WindowEventArgs = WindowEventArgs_1.WindowEventArgs;
var WindowEvents = /** @class */ (function () {
    function WindowEvents() {
    }
    /**
     * Initializes the window events (only once)
     * */
    WindowEvents.Initialize = function () {
        //Init lock
        if (WindowEvents.initialized)
            return;
        WindowEvents.initialized = true;
        //On DOM ready
        document.addEventListener("DOMContentLoaded", function () {
            WindowEvents.OnDOMReady.Invoke(WindowEvents, new WindowEventArgs_1.WindowEventArgs(window.document.body));
        });
        //On document load
        window.addEventListener("load", function () {
            WindowEvents.OnLoad.Invoke(WindowEvents, new WindowEventArgs_1.WindowEventArgs(window.document.body));
        });
        //On document resize
        window.addEventListener("resize", function () {
            WindowEvents.InvokeResize();
        });
        //On document scroll
        window.addEventListener("scroll", function () {
            WindowEvents.InvokeScroll();
        });
    };
    /**
     * Invokes resize event
     * */
    WindowEvents.InvokeResize = function () {
        WindowEvents.OnResize.Invoke(WindowEvents, new WindowEventArgs_1.WindowEventArgs(window.document.body));
        WindowEvents.OnScrollAndResize.Invoke(WindowEvents, new WindowEventArgs_1.WindowEventArgs(window.document.body));
    };
    /**
     * Invokes scroll event
     * */
    WindowEvents.InvokeScroll = function () {
        WindowEvents.OnScroll.Invoke(WindowEvents, new WindowEventArgs_1.WindowEventArgs(window.document.body));
        WindowEvents.OnScrollAndResize.Invoke(WindowEvents, new WindowEventArgs_1.WindowEventArgs(window.document.body));
    };
    /**
     * Returns window width
     * */
    WindowEvents.Width = function () {
        return document.documentElement.clientWidth
            || window.innerWidth
            || document.body.clientWidth;
    };
    /**
     * Returns window height
     * */
    WindowEvents.Height = function () {
        return document.documentElement.clientHeight
            || window.innerHeight
            || document.body.clientHeight;
    };
    WindowEvents.OnDOMReady = new event_1.Event();
    WindowEvents.OnLoad = new event_1.Event();
    WindowEvents.OnResize = new event_1.Event();
    WindowEvents.OnScroll = new event_1.Event();
    WindowEvents.OnScrollAndResize = new event_1.Event();
    WindowEvents.initialized = false;
    return WindowEvents;
}());
exports.WindowEvents = WindowEvents;
WindowEvents.Initialize();
