exports.__esModule = true;
var web_unit_test_1 = require("@drozdik.m/web-unit-test");
var unit_test_1 = require("@drozdik.m/unit-test");
var WindowEvents_1 = require("../../src/WindowEvents");
var unitTest = new unit_test_1.UnitTest("Window Events");
unitTest.AddAsyncTestCase("DOM load", function (Done, Fail) {
    WindowEvents_1.WindowEvents.OnDOMReady.Add(function () {
        Done();
    });
});
unitTest.AddAsyncTestCase("Page load", function (Done, Fail) {
    WindowEvents_1.WindowEvents.OnLoad.Add(function () {
        Done();
    });
});
unitTest.AddAsyncTestCase("Resize", function (Done, Fail) {
    var i = 0;
    WindowEvents_1.WindowEvents.OnResize.Add(function () {
        i++;
    });
    WindowEvents_1.WindowEvents.OnDOMReady.Add(function () {
        var event = document.createEvent("Event");
        event.initEvent("resize", true, true);
        window.dispatchEvent(event);
        try {
            unit_test_1.Assert.AreNotEqual(0, i);
        }
        catch (_a) {
            Fail();
        }
        Done();
    });
});
unitTest.AddAsyncTestCase("Scroll", function (Done, Fail) {
    var i = 0;
    WindowEvents_1.WindowEvents.OnScroll.Add(function () {
        i++;
    });
    WindowEvents_1.WindowEvents.OnDOMReady.Add(function () {
        var event = document.createEvent("Event");
        event.initEvent("scroll", true, true);
        window.dispatchEvent(event);
        try {
            unit_test_1.Assert.AreNotEqual(0, i);
        }
        catch (_a) {
            Fail();
        }
        Done();
    });
});
var browserTestAgent = new web_unit_test_1.BrowserTestAgent(unitTest);
browserTestAgent.Run();
