exports.__esModule = true;
var unit_test_1 = require("@drozdik.m/unit-test");
var web_unit_test_1 = require("@drozdik.m/web-unit-test");
var SlowScroll_1 = require("../../src/SlowScroll");
var unitTest = new unit_test_1.UnitTest("Slow Scroll");
unitTest.AddAsyncTestCase("Scroll to an achor and to top", function (Done, Fail) {
    SlowScroll_1.SlowScroll.AnchorScroll("slowScroll");
    var link = document.getElementById("toBlock2");
    var clickEvent = new Event("click");
    clickEvent.initEvent("click");
    link.dispatchEvent(clickEvent);
    setTimeout(function () {
        try {
            console.log(document.documentElement.scrollTop);
            unit_test_1.Assert.IsTrue(document.documentElement.scrollTop > 100);
            SlowScroll_1.SlowScroll.ToTop();
            setTimeout(function () {
                try {
                    console.log(document.documentElement.scrollTop);
                    unit_test_1.Assert.AreEqual(0, document.documentElement.scrollTop);
                    Done();
                }
                catch (_a) {
                    Fail();
                }
            }, 750);
        }
        catch (_a) {
            Fail();
        }
    }, 750);
});
document.addEventListener("DOMContentLoaded", function () {
    document.documentElement.insertAdjacentHTML("beforeend", "\n    <style>\n        .block{\n            height: 50rem;\n        }\n    </style>\n    <div id=\"block1\" class=\"block\" style=\"background-color: aqua;\">\n        <a href=\"#block2\" id=\"toBlock2\" class=\"slowScroll\">Scroll</a>\n    </div>\n\n    <div id=\"block2\" class=\"block\" style=\"background-color: brown;\">\n        <a href=\"#block3\" class=\"slowScroll\">Scroll</a>\n    </div>\n\n    <div id=\"block3\" class=\"block\" style=\"background-color: darkviolet;\">\n        <a href=\"#block1\" class=\"slowScroll\">Scroll</a>\n    </div>\n\n\n    ");
    var browserTestAgent = new web_unit_test_1.BrowserTestAgent(unitTest);
    browserTestAgent.Run();
});
