exports.__esModule = true;
var pipeline_1 = require("@drozdik.m/pipeline");
var RecaptchaAPI = /** @class */ (function () {
    function RecaptchaAPI() {
    }
    RecaptchaAPI.Load = function () {
        //Return existing pipeline
        if (RecaptchaAPI.LoadingPipeline != null)
            return RecaptchaAPI.LoadingPipeline;
        //Return new pipeline
        return RecaptchaAPI.LoadingPipeline = new pipeline_1.Pipeline(function (resolver, rejector) {
            //Create callback function
            window.RecaptchaAPILoadCallback = function () {
                resolver();
            };
            //Append the script 
            //<script src="https://www.google.com/recaptcha/api.js?onload=CaptchaCallback&render=explicit" async defer></script>
            var body = document.getElementsByTagName("body").item(0);
            var script = document.createElement("script");
            script.setAttribute("type", 'text/javascript');
            script.setAttribute("src", "https://www.google.com/recaptcha/api.js?onload=RecaptchaAPILoadCallback&render=explicit");
            script.setAttribute("async", "async");
            script.setAttribute("defer", "defer");
            body.appendChild(script);
        });
    };
    RecaptchaAPI.LoadingPipeline = null;
    return RecaptchaAPI;
}());
exports.RecaptchaAPI = RecaptchaAPI;
