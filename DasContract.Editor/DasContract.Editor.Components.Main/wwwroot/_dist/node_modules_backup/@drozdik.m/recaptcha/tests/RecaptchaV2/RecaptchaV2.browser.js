exports.__esModule = true;
var web_unit_test_1 = require("@drozdik.m/web-unit-test");
var unit_test_1 = require("@drozdik.m/unit-test");
var recaptchaV2_1 = require("../../src/recaptchaV2");
var unitTest = new unit_test_1.UnitTest("Recaptcha V2");
document.getElementsByTagName("body").item(0).innerHTML = "\n<div id=\"recaptcha1\"></div>\n<div id=\"recaptcha2\"></div>\n<div id=\"recaptcha3\"></div>\n<div id=\"recaptcha4\"></div>\n";
unitTest.AddAsyncTestCase("Create and check RecaptchaV2", function (Done, Fail) {
    try {
        unit_test_1.Assert.AreEqual(document.getElementById("recaptcha1").innerHTML, "");
        var recaptcha = new recaptchaV2_1.RecaptchaV2("recaptcha1", "6LcTYRAUAAAAAPPL_zx6mJBG9shbysJXwLepTBgt");
    }
    catch (_a) {
        Fail();
    }
    var interval = setInterval(function () {
        if (document.getElementById("recaptcha1").innerHTML != "") {
            clearInterval(interval);
            Done();
        }
    }, 50);
});
unitTest.AddAsyncTestCase("Create and check RecaptchaV2 after", function (Done, Fail) {
    setTimeout(function () {
        try {
            unit_test_1.Assert.AreEqual(document.getElementById("recaptcha2").innerHTML, "");
            var recaptcha = new recaptchaV2_1.RecaptchaV2("recaptcha2", "6LcTYRAUAAAAAPPL_zx6mJBG9shbysJXwLepTBgt");
        }
        catch (_a) {
            Fail();
        }
        var interval = setInterval(function () {
            if (document.getElementById("recaptcha2").innerHTML != "") {
                clearInterval(interval);
                Done();
            }
        }, 50);
    }, 2500);
});
//<script src="https://www.google.com/recaptcha/api.js?onload=CaptchaCallback&render=explicit" async defer></script>
var browserTestAgent = new web_unit_test_1.BrowserTestAgent(unitTest);
browserTestAgent.Run();
