exports.__esModule = true;
var pipeline_1 = require("@drozdik.m/pipeline");
var YoutubeAPI = /** @class */ (function () {
    function YoutubeAPI() {
    }
    YoutubeAPI.Load = function () {
        //Return existing pipeline
        if (YoutubeAPI.LoadingPipeline != null)
            return YoutubeAPI.LoadingPipeline;
        //Return new pipeline
        return YoutubeAPI.LoadingPipeline = new pipeline_1.Pipeline(function (resolver, rejector) {
            //Create callback function
            window.onYouTubePlayerAPIReady = function () {
                resolver();
            };
            //Append the script 
            //<script src="https://www.youtube.com/iframe_api" async defer></script>
            var body = document.getElementsByTagName("body").item(0);
            var script = document.createElement("script");
            script.setAttribute("type", 'text/javascript');
            script.setAttribute("src", "https://www.youtube.com/iframe_api");
            script.setAttribute("async", "async");
            script.setAttribute("defer", "defer");
            body.appendChild(script);
        });
    };
    YoutubeAPI.LoadingPipeline = null;
    return YoutubeAPI;
}());
exports.YoutubeAPI = YoutubeAPI;
