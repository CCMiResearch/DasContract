exports.__esModule = true;
var web_unit_test_1 = require("@drozdik.m/web-unit-test");
var unit_test_1 = require("@drozdik.m/unit-test");
var YoutubePlayer_1 = require("../../src/YoutubePlayer");
var unitTest = new unit_test_1.UnitTest("Youtube Player");
document.getElementsByTagName("body").item(0).innerHTML = "\n<div id=\"player1\"></div>\n<div id=\"player2\"></div>\n";
unitTest.AddAsyncTestCase("Create and check YouTube iframe", function (Done, Fail) {
    try {
        unit_test_1.Assert.AreEqual(document.getElementById("player1").innerHTML, "");
        var player = new YoutubePlayer_1.YoutubePlayer("player1");
    }
    catch (_a) {
        Fail();
    }
    var interval = setInterval(function () {
        if (document.getElementById("player1").tagName == "IFRAME") {
            clearInterval(interval);
            Done();
        }
    }, 50);
});
unitTest.AddAsyncTestCase("Create and check YouTube iframe after", function (Done, Fail) {
    setTimeout(function () {
        try {
            unit_test_1.Assert.AreEqual(document.getElementById("player2").innerHTML, "");
            var player = new YoutubePlayer_1.YoutubePlayer("player2");
        }
        catch (_a) {
            Fail();
        }
        var interval = setInterval(function () {
            if (document.getElementById("player2").tagName == "IFRAME") {
                clearInterval(interval);
                Done();
            }
        }, 50);
    }, 2500);
});
var browserTestAgent = new web_unit_test_1.BrowserTestAgent(unitTest);
browserTestAgent.Run();
