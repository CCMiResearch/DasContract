{"version":3,"sources":["../src/Modeler.js"],"names":["EditingManager","DrdModeler","DecisionTableEditor","LiteralExpressionEditor","is","containsDi","Modeler","id","constructor","opens","element","decisionLogic","views","definitionsView","i","length","view","el"],"mappings":";;;;;;;;;;;;;;;;;;AAAA,OAAOA,cAAP,MAA2B,uCAA3B;AAEA,OAAOC,UAAP,MAAuB,wBAAvB;AACA,OAAOC,mBAAP,MAAgC,kCAAhC;AACA,OAAOC,uBAAP,MAAoC,sCAApC;AAEA,SAASC,EAAT,QAAmB,kCAAnB;AACA,SAASC,UAAT,QAA2B,+BAA3B;AAGA;;;;IAGqBC,O;;;;;;;;;;;;;wCAEC;AAElB,aAAO,CACL;AACEC,QAAAA,EAAE,EAAE,KADN;AAEEC,QAAAA,WAAW,EAAEP,UAFf;AAGEQ,QAAAA,KAAK,EAAE;AAHT,OADK,EAML;AACEF,QAAAA,EAAE,EAAE,eADN;AAEEC,QAAAA,WAAW,EAAEN,mBAFf;AAGEO,QAAAA,KAHF,iBAGQC,OAHR,EAGiB;AACb,iBACEN,EAAE,CAACM,OAAD,EAAU,cAAV,CAAF,IACAN,EAAE,CAACM,OAAO,CAACC,aAAT,EAAwB,mBAAxB,CAFJ;AAID;AARH,OANK,EAgBL;AACEJ,QAAAA,EAAE,EAAE,mBADN;AAEEC,QAAAA,WAAW,EAAEL,uBAFf;AAGEM,QAAAA,KAHF,iBAGQC,OAHR,EAGiB;AACb,iBACEN,EAAE,CAACM,OAAD,EAAU,cAAV,CAAF,IACAN,EAAE,CAACM,OAAO,CAACC,aAAT,EAAwB,uBAAxB,CAFJ;AAID;AARH,OAhBK,CAAP;AA4BD;;;oCAEeC,K,EAAO;AAErB,UAAIC,eAAJ;;AAEA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,KAAK,CAACG,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AAErC,YAAME,IAAI,GAAGJ,KAAK,CAACE,CAAD,CAAlB;AACA,YAAMG,EAAE,GAAGD,IAAI,CAACN,OAAhB;;AAEA,YAAIN,EAAE,CAACa,EAAD,EAAK,cAAL,CAAN,EAA4B;AAC1B,iBAAOD,IAAP;AACD;;AAED,YAAIZ,EAAE,CAACa,EAAD,EAAK,iBAAL,CAAN,EAA+B;AAC7BJ,UAAAA,eAAe,GAAGG,IAAlB;;AAEA,cAAIX,UAAU,CAACY,EAAD,CAAd,EAAoB;AAClB,mBAAOD,IAAP;AACD;AACF;AACF;;AAED,aAAOH,eAAe,IAAID,KAAK,CAAC,CAAD,CAA/B;AACD;;;;EAzDkCZ,c;;SAAhBM,O","sourcesContent":["import EditingManager from 'dmn-js-shared/lib/base/EditingManager';\n\nimport DrdModeler from 'dmn-js-drd/lib/Modeler';\nimport DecisionTableEditor from 'dmn-js-decision-table/lib/Editor';\nimport LiteralExpressionEditor from 'dmn-js-literal-expression/lib/Editor';\n\nimport { is } from 'dmn-js-shared/lib/util/ModelUtil';\nimport { containsDi } from 'dmn-js-shared/lib/util/DiUtil';\n\n\n/**\n * The dmn editor.\n */\nexport default class Modeler extends EditingManager {\n\n  _getViewProviders() {\n\n    return [\n      {\n        id: 'drd',\n        constructor: DrdModeler,\n        opens: 'dmn:Definitions'\n      },\n      {\n        id: 'decisionTable',\n        constructor: DecisionTableEditor,\n        opens(element) {\n          return (\n            is(element, 'dmn:Decision') &&\n            is(element.decisionLogic, 'dmn:DecisionTable')\n          );\n        }\n      },\n      {\n        id: 'literalExpression',\n        constructor: LiteralExpressionEditor,\n        opens(element) {\n          return (\n            is(element, 'dmn:Decision') &&\n            is(element.decisionLogic, 'dmn:LiteralExpression')\n          );\n        }\n      }\n    ];\n\n  }\n\n  _getInitialView(views) {\n\n    var definitionsView;\n\n    for (var i = 0; i < views.length; i++) {\n\n      const view = views[i];\n      const el = view.element;\n\n      if (is(el, 'dmn:Decision')) {\n        return view;\n      }\n\n      if (is(el, 'dmn:Definitions')) {\n        definitionsView = view;\n\n        if (containsDi(el)) {\n          return view;\n        }\n      }\n    }\n\n    return definitionsView || views[0];\n  }\n\n}"],"file":"Modeler.js"}