/*! dmn-js - dmn-navigated-viewer v10.2.1 | Copyright (c) 2014-present, camunda Services GmbH | bpmn.io/license */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).DmnJS=t()}(this,function(){"use strict";function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var o=Object.prototype.toString,s=Object.prototype.hasOwnProperty;function c(e){return void 0!==e}function y(e){return"[object Array]"===o.call(e)}function m(e){return"[object Object]"===o.call(e)}function u(e){return"[object Number]"===o.call(e)}function l(e){var t=o.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t||"[object Proxy]"===t}function a(e){return"[object String]"===o.call(e)}function v(e,n){var r;return n=function(t){return l(t)?t:function(e){return e===t}}(n),g(e,function(e,t){if(n(e,t))return r=e,!1}),r}function f(e,n){var r=[];return g(e,function(e,t){n(e,t)&&r.push(e)}),r}function g(e,t){var n;if(!function(e){return void 0===e}(e)){var r,i,o=y(e)?_:d;for(var a in e)if(r=e,i=a,s.call(r,i)&&!1===t(n=e[a],o(a)))return n}}function b(e,n,r){return g(e,function(e,t){r=n(r,e,t)}),r}function w(e,r){return!!b(e,function(e,t,n){return e&&r(t,n)},!0)}function p(e,n){var r=[];return g(e,function(e,t){r.push(n(e,t))}),r}function h(e){return function(n){return w(e,function(e,t){return n[t]===e})}}function d(e){return e}function _(e){return Number(e)}function x(n,r){var i,o,a,s;function t(){var e=Date.now(),t=s+r-e;if(0<t)return c(t);n.apply(a,o),i=s=o=a=void 0}function c(e){i=setTimeout(t,e)}return function(){s=Date.now();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];o=t,a=this,i||c(r)}}function O(e,t){return e.bind(t)}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E.apply(void 0,[e].concat(n))}var j="__fn",S=Array.prototype.slice;function C(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function P(){}function T(){}function D(e,t){this.model=e,this.properties=t}C.prototype.on=function(e,t,n,r){if(e=y(e)?e:[e],l(t)&&(r=n,n=t,t=1e3),!u(t))throw new Error("priority must be a number");var i=n;r&&((i=O(n,r))[j]=n[j]||n);var o=this;e.forEach(function(e){o._addListener(e,{priority:t,callback:i,next:null})})},C.prototype.once=function(t,e,n,r){var i=this;if(l(e)&&(r=n,n=e,e=1e3),!u(e))throw new Error("priority must be a number");function o(){o.__isTomb=!0;var e=n.apply(r,arguments);return i.off(t,o),e}o[j]=n,this.on(t,e,o)},C.prototype.off=function(e,t){e=y(e)?e:[e];var n=this;e.forEach(function(e){n._removeListener(e,t)})},C.prototype.createEvent=function(e){var t=new P;return t.init(e),t},C.prototype.fire=function(e,t){var n,r,i,o;if(o=S.call(arguments),"object"===qe(e)&&(e=(t=e).type),!e)throw new Error("no event type specified");if(r=this._listeners[e]){n=t instanceof P?t:this.createEvent(t);var a=(o[0]=n).type;e!==a&&(n.type=e);try{i=this._invokeListeners(n,o,r)}finally{e!==a&&(n.type=a)}return void 0===i&&n.defaultPrevented&&(i=!1),i}},C.prototype.handleError=function(e){return!1===this.fire("error",{error:e})},C.prototype._destroy=function(){this._listeners={}},C.prototype._invokeListeners=function(e,t,n){for(var r;n&&!e.cancelBubble;)r=this._invokeListener(e,t,n),n=n.next;return r},C.prototype._invokeListener=function(e,t,n){var r;if(n.callback.__isTomb)return r;try{void 0!==(r=function(e,t){return e.apply(null,t)}(n.callback,t))&&(e.returnValue=r,e.stopPropagation()),!1===r&&e.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return r},C.prototype._addListener=function(e,t){var n,r=this._getListeners(e);if(r){for(;r;){if(r.priority<t.priority)return t.next=r,void(n?n.next=t:this._setListeners(e,t));r=(n=r).next}n.next=t}else this._setListeners(e,t)},C.prototype._getListeners=function(e){return this._listeners[e]},C.prototype._setListeners=function(e,t){this._listeners[e]=t},C.prototype._removeListener=function(e,t){var n,r,i,o=this._getListeners(e);if(t)for(;o;)n=o.next,(i=o.callback)!==t&&i[j]!==t||(r?r.next=n:this._setListeners(e,n)),r=o,o=n;else this._setListeners(e,null)},P.prototype.stopPropagation=function(){this.cancelBubble=!0},P.prototype.preventDefault=function(){this.defaultPrevented=!0},P.prototype.init=function(e){k(this,e||{})},T.prototype.get=function(e){return this.$model.properties.get(this,e)},T.prototype.set=function(e,t){this.$model.properties.set(this,e,t)},D.prototype.createType=function(e){var t=this.model,n=this.properties,r=Object.create(T.prototype);g(e.properties,function(e){e.isMany||void 0===e.default||(r[e.name]=e.default)}),n.defineModel(r,t),n.defineDescriptor(r,e);var i=e.ns.name;function o(e){n.define(this,"$type",{value:i,enumerable:!0}),n.define(this,"$attrs",{value:{}}),n.define(this,"$parent",{writable:!0}),g(e,O(function(e,t){this.set(t,e)},this))}return o.prototype=r,o.hasType=r.$instanceOf=this.model.hasType,n.defineModel(o,t),n.defineDescriptor(o,e),o};var N={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},M={String:function(e){return e},Boolean:function(e){return"true"===e},Integer:function(e){return parseInt(e,10)},Real:function(e){return parseFloat(e,10)}};function R(e,t){var n=M[e];return n?n(t):t}function A(e){return!!N[e]}function I(e){return!!M[e]}function B(e,t){var n,r,i=e.split(/:/);if(1===i.length)n=e,r=t;else{if(2!==i.length)throw new Error("expected <prefix:localName> or <localName>, got "+e);n=i[1],r=i[0]}return{name:e=(r?r+":":"")+n,prefix:r,localName:n}}function L(e){this.ns=e,this.name=e.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function $(e,t){this.packageMap={},this.typeMap={},this.packages=[],this.properties=t,g(e,O(this.registerPackage,this))}function V(e,t,n){var r=t[n];if(r in e)throw new Error("package with "+n+" <"+r+"> already defined")}function z(e){this.model=e}function U(e,t,n){Object.defineProperty(e,t.name,{enumerable:!t.isReference,writable:!0,value:n,configurable:!0})}function F(e){this.properties=new z(this),this.factory=new D(this,this.properties),this.registry=new $(e,this.properties),this.typeCache={}}L.prototype.build=function(){return function(t,e){var n={},r=Object(t);return g(e,function(e){e in r&&(n[e]=t[e])}),n}(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},L.prototype.addProperty=function(e,t,n){"boolean"==typeof t&&(n=t,t=void 0),this.addNamedProperty(e,!1!==n);var r=this.properties;void 0!==t?r.splice(t,0,e):r.push(e)},L.prototype.replaceProperty=function(e,t,n){var r=e.ns,i=this.properties,o=this.propertiesByName,a=e.name!==t.name;if(e.isId){if(!t.isId)throw new Error("property <"+t.ns.name+"> must be id property to refine <"+e.ns.name+">");this.setIdProperty(t,!1)}if(e.isBody){if(!t.isBody)throw new Error("property <"+t.ns.name+"> must be body property to refine <"+e.ns.name+">");this.setBodyProperty(t,!1)}var s=i.indexOf(e);if(-1===s)throw new Error("property <"+r.name+"> not found in property list");i.splice(s,1),this.addProperty(t,n?void 0:s,a),o[r.name]=o[r.localName]=t},L.prototype.redefineProperty=function(e,t,n){var r=e.ns.prefix,i=t.split("#"),o=B(i[0],r),a=B(i[1],o.prefix).name,s=this.propertiesByName[a];if(!s)throw new Error("refined property <"+a+"> not found");this.replaceProperty(s,e,n),delete e.redefines},L.prototype.addNamedProperty=function(e,t){var n=e.ns,r=this.propertiesByName;t&&(this.assertNotDefined(e,n.name),this.assertNotDefined(e,n.localName)),r[n.name]=r[n.localName]=e},L.prototype.removeNamedProperty=function(e){var t=e.ns,n=this.propertiesByName;delete n[t.name],delete n[t.localName]},L.prototype.setBodyProperty=function(e,t){if(t&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+e.ns.name+">)");this.bodyProperty=e},L.prototype.setIdProperty=function(e,t){if(t&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+e.ns.name+">)");this.idProperty=e},L.prototype.assertNotDefined=function(e,t){var n=e.name,r=this.propertiesByName[n];if(r)throw new Error("property <"+n+"> already defined; override of <"+r.definedBy.ns.name+"#"+r.ns.name+"> by <"+e.definedBy.ns.name+"#"+e.ns.name+"> not allowed without redefines")},L.prototype.hasProperty=function(e){return this.propertiesByName[e]},L.prototype.addTrait=function(r,i){var e=this.allTypesByName,t=this.allTypes,n=r.name;n in e||(g(r.properties,O(function(e){e=k({},e,{name:e.ns.localName,inherited:i}),Object.defineProperty(e,"definedBy",{value:r});var t=e.replaces,n=e.redefines;t||n?this.redefineProperty(e,t||n,t):(e.isBody&&this.setBodyProperty(e),e.isId&&this.setIdProperty(e),this.addProperty(e))},this)),t.push(r),e[n]=r)},$.prototype.getPackage=function(e){return this.packageMap[e]},$.prototype.getPackages=function(){return this.packages},$.prototype.registerPackage=function(t){t=k({},t);var e=this.packageMap;V(e,t,"prefix"),V(e,t,"uri"),g(t.types,O(function(e){this.registerType(e,t)},this)),e[t.uri]=e[t.prefix]=t,this.packages.push(t)},$.prototype.registerType=function(e,t){var r=B((e=k({},e,{superClass:(e.superClass||[]).slice(),extends:(e.extends||[]).slice(),properties:(e.properties||[]).slice(),meta:k(e.meta||{})})).name,t.prefix),n=r.name,i={};g(e.properties,O(function(e){var t=B(e.name,r.prefix),n=t.name;A(e.type)||(e.type=B(e.type,t.prefix).name),k(e,{ns:t,name:n}),i[n]=e},this)),k(e,{ns:r,name:n,propertiesByName:i}),g(e.extends,O(function(e){var t=this.typeMap[e];t.traits=t.traits||[],t.traits.push(n)},this)),this.definePackage(e,t),this.typeMap[n]=e},$.prototype.mapTypes=function(r,i,e){var t=A(r.name)?{name:r.name}:this.typeMap[r.name],o=this;function n(e){return a(e,!0)}function a(e,t){var n=B(e,A(e)?"":r.prefix);o.mapTypes(n,i,t)}if(!t)throw new Error("unknown type <"+r.name+">");g(t.superClass,e?n:a),i(t,!e),g(t.traits,n)},$.prototype.getEffectiveDescriptor=function(e){var t=B(e),n=new L(t);this.mapTypes(t,function(e,t){n.addTrait(e,t)});var r=n.build();return this.definePackage(r,r.allTypes[r.allTypes.length-1].$pkg),r},$.prototype.definePackage=function(e,t){this.properties.define(e,"$pkg",{value:t})},z.prototype.set=function(e,t,n){var r=this.model.getPropertyDescriptor(e,t),i=r&&r.name;!function(e){return void 0===e}(n)?r?i in e?e[i]=n:U(e,r,n):e.$attrs[t]=n:r?delete e[i]:delete e.$attrs[t]},z.prototype.get=function(e,t){var n=this.model.getPropertyDescriptor(e,t);if(!n)return e.$attrs[t];var r=n.name;return!e[r]&&n.isMany&&U(e,n,[]),e[r]},z.prototype.define=function(e,t,n){Object.defineProperty(e,t,n)},z.prototype.defineDescriptor=function(e,t){this.define(e,"$descriptor",{value:t})},z.prototype.defineModel=function(e,t){this.define(e,"$model",{value:t})},F.prototype.create=function(e,t){var n=this.getType(e);if(!n)throw new Error("unknown type <"+e+">");return new n(t)},F.prototype.getType=function(e){var t=this.typeCache,n=a(e)?e:e.ns.name,r=t[n];return r||(e=this.registry.getEffectiveDescriptor(n),r=t[n]=this.factory.createType(e)),r},F.prototype.createAny=function(e,t,n){var r=B(e),i={$type:e,$instanceOf:function(e){return e===this.$type}},o={name:e,isGeneric:!0,ns:{prefix:r.prefix,localName:r.localName,uri:t}};return this.properties.defineDescriptor(i,o),this.properties.defineModel(i,this),this.properties.define(i,"$parent",{enumerable:!1,writable:!0}),g(n,function(e,t){m(e)&&void 0!==e.value?i[e.name]=e.value:i[t]=e}),i},F.prototype.getPackage=function(e){return this.registry.getPackage(e)},F.prototype.getPackages=function(){return this.registry.getPackages()},F.prototype.getElementDescriptor=function(e){return e.$descriptor},F.prototype.hasType=function(e,t){return void 0===t&&(t=e,e=this),t in e.$model.getElementDescriptor(e).allTypesByName},F.prototype.getPropertyDescriptor=function(e,t){return this.getElementDescriptor(e).propertiesByName[t]},F.prototype.getTypeDescriptor=function(e){return this.registry.typeMap[e]};var W=String.fromCharCode,q=Object.prototype.hasOwnProperty,G=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,H={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};function X(e,t,n,r){return r?q.call(H,r)?H[r]:"&"+r+";":W(t||parseInt(n,16))}function Y(e){return 3<e.length&&-1!==e.indexOf("&")?e.replace(G,X):e}Object.keys(H).forEach(function(e){H[e.toUpperCase()]=H[e]});var K="http://www.w3.org/2001/XMLSchema-instance",Z="xsi",Q="xsi:type",J="non-whitespace outside of root node";function ee(e){return new Error(e)}function te(e){return"missing namespace for prefix <"+e+">"}function ne(e){return{get:e,enumerable:!0}}function re(e){var t,n={};for(t in e)n[t]=e[t];return n}function ie(e){return e+"$uri"}function oe(){return{line:0,column:0}}function ae(e){throw e}function se(e){if(!this)return new se(e);var O,E,k,j,n,S,C,P,T,D=e&&e.proxy,r=ae,N=oe,M=!1,R=!1,t=null,A=!1;function I(e){e instanceof Error||(e=ee(e)),r(t=e,N)}function B(e){n&&(e instanceof Error||(e=ee(e)),n(e,N))}this.on=function(e,t){if("function"!=typeof t)throw ee("required args <name, cb>");switch(e){case"openTag":E=t;break;case"text":O=t;break;case"closeTag":k=t;break;case"error":r=t;break;case"warn":n=t;break;case"cdata":j=t;break;case"attention":P=t;break;case"question":C=t;break;case"comment":S=t;break;default:throw ee("unsupported event: "+e)}return this},this.ns=function(e){if(void 0===e&&(e={}),"object"!==qe(e))throw ee("required args <nsMap={}>");var t,n={};for(t in e)n[t]=e[t];return n[K]=Z,R=!0,T=n,this},this.parse=function(e){if("string"!=typeof e)throw ee("required args <xml=string>");return t=null,function(a){var e,t,n,r,i,o,s,c,u,l,g,f=R?[]:null,b=R?function(e){var t,n,r={};for(t in e)r[n=e[t]]=n,r[ie(n)]=t;return r}(T):null,p=[],w=0,h=!1,d=!1,y=0,m=0,_="",x=0;function v(){if(null!==g)return g;var e,t,n,r,i,o,a,s,c,u,l,f=R&&b.xmlns,p=R&&M?[]:null,h=x,d=_,y=d.length,m={},v={};e:for(;h<y;h++)if(c=!1,!(32===(u=d.charCodeAt(h))||u<14&&8<u)){for((u<65||122<u||90<u&&u<97)&&95!==u&&58!==u&&(B("illegal first char attribute name"),c=!0),l=h+1;l<y;l++)if(!(96<(u=d.charCodeAt(l))&&u<123||64<u&&u<91||47<u&&u<59||46===u||45===u||95===u)){if(32===u||u<14&&8<u){B("missing attribute value"),h=l;continue e}if(61===u)break;B("illegal attribute name char"),c=!0}if("xmlns:xmlns"===(s=d.substring(h,l))&&(B("illegal declaration of xmlns"),c=!0),34===(u=d.charCodeAt(l+1)))-1===(l=d.indexOf('"',h=l+2))&&-1!==(l=d.indexOf("'",h))&&(B("attribute value quote missmatch"),c=!0);else if(39===u)-1===(l=d.indexOf("'",h=l+2))&&-1!==(l=d.indexOf('"',h))&&(B("attribute value quote missmatch"),c=!0);else for(B("missing attribute value quotes"),c=!0,l+=1;l<y&&!(32===(u=d.charCodeAt(l+1))||u<14&&8<u);l++);for(-1===l&&(B("missing closing quotes"),l=y,c=!0),c||(o=d.substring(h,l)),h=l;l+1<y&&!(32===(u=d.charCodeAt(l+1))||u<14&&8<u);l++)h===l&&(B("illegal character after attribute end"),c=!0);if(h=l+1,!c)if(s in v)B("attribute <"+s+"> already defined");else if(v[s]=!0,R)if(M){if(null!==(i="xmlns"===s?"xmlns":120===s.charCodeAt(0)&&"xmlns:"===s.substr(0,6)?s.substr(6):null)){if(e=Y(o),t=ie(i),!(a=T[e])){if("xmlns"===i||t in b&&b[t]!==e)for(;a="ns"+w++,void 0!==b[a];);else a=i;T[e]=a}b[i]!==a&&(r||(b=re(b),r=!0),b[i]=a,"xmlns"===i&&(b[ie(a)]=e,f=a),b[t]=e),m[s]=o;continue}p.push(s,o)}else-1!==(u=s.indexOf(":"))?(n=b[s.substring(0,u)])?((s=f===n?s.substr(u+1):n+s.substr(u))===Q&&(o=-1!==(u=o.indexOf(":"))?(n=o.substring(0,u),(n=b[n]||n)+o.substring(u)):f+":"+o),m[s]=o):B(te(s.substring(0,u))):m[s]=o;else m[s]=o}if(M)for(h=0,y=p.length;h<y;h++){if(s=p[h++],o=p[h],-1!==(u=s.indexOf(":"))){if(!(n=b[s.substring(0,u)])){B(te(s.substring(0,u)));continue}(s=f===n?s.substr(u+1):n+s.substr(u))===Q&&(o=-1!==(u=o.indexOf(":"))?(n=o.substring(0,u),(n=b[n]||n)+o.substring(u)):f+":"+o)}m[s]=o}return g=m}N=function(){for(var e,t=/(\r\n|\r|\n)/g,n=0,r=0,i=0,o=m;i<=y&&(e=t.exec(a))&&(o=e[0].length+e.index,!(y<o));)n+=1,i=o;return{data:-1==y?(r=o,a.substring(m)):0===m?a.substring(m,y):(r=y-i,-1==m?a.substring(y):a.substring(y,m+1)),line:n,column:r}},D&&(l=Object.create({},{name:ne(function(){return c}),originalName:ne(function(){return u}),attrs:ne(v),ns:ne(function(){return b})}));for(;-1!==m;){if(-1===(y=60===a.charCodeAt(m)?m:a.indexOf("<",m)))return p.length?I("unexpected end of file"):0===m?I("missing start tag"):m<a.length&&a.substring(m).trim()&&B(J);if(m!==y)if(p.length){if(O&&(O(a.substring(m,y),Y,N),A))return}else if(a.substring(m,y).trim()&&(B(J),A))return;if(33===(i=a.charCodeAt(y+1))){if(91===(r=a.charCodeAt(y+2))&&"CDATA["===a.substr(y+3,6)){if(-1===(m=a.indexOf("]]>",y)))return I("unclosed cdata");if(j&&(j(a.substring(y+9,m),N),A))return;m+=3;continue}if(45===r&&45===a.charCodeAt(y+3)){if(-1===(m=a.indexOf("--\x3e",y)))return I("unclosed comment");if(S&&(S(a.substring(y+4,m),Y,N),A))return;m+=3;continue}}if(63!==i){for(t=y+1;;t++){if(o=a.charCodeAt(t),isNaN(o))return m=-1,I("unclosed tag");if(34===o)r=a.indexOf('"',t+1),t=-1!==r?r:t;else if(39===o)r=a.indexOf("'",t+1),t=-1!==r?r:t;else if(62===o){m=t;break}}if(33!==i){if(g={},47===i){if(d=!(h=!1),!p.length)return I("missing open tag");if(t=c=p.pop(),r=y+2+t.length,a.substring(y+2,r)!==t)return I("closing tag mismatch");for(;r<m;r++)if(!(32===(i=a.charCodeAt(r))||8<i&&i<14))return I("close tag")}else{if(d=47===a.charCodeAt(m-1)?(t=c=a.substring(y+1,m-1),h=!0):(t=c=a.substring(y+1,m),!(h=!0)),!(96<i&&i<123||64<i&&i<91||95===i||58===i))return I("illegal first char nodeName");for(r=1,n=t.length;r<n;r++)if(!(96<(i=t.charCodeAt(r))&&i<123||64<i&&i<91||47<i&&i<59||45===i||95===i||46==i)){if(32===i||i<14&&8<i){c=t.substring(0,r),g=null;break}return I("invalid nodeName")}d||p.push(c)}if(R){if(e=b,h&&(d||f.push(e),null===g&&(M=-1!==t.indexOf("xmlns",r))&&(x=r,_=t,v(),M=!1)),-1!==(i=(u=c).indexOf(":"))){if(!(s=b[c.substring(0,i)]))return I("missing namespace on <"+u+">");c=c.substr(i+1)}else s=b.xmlns;s&&(c=s+":"+c)}if(h&&(x=r,_=t,E&&(D?E(l,Y,d,N):E(c,v,Y,d,N),A)))return;if(d){if(k&&(k(D?l:c,Y,h,N),A))return;R&&(b=h?e:f.pop())}m+=1}else{if(P&&(P(a.substring(y,m+1),Y,N),A))return;m+=1}}else{if(-1===(m=a.indexOf("?>",y)))return I("unclosed question");if(C&&(C(a.substring(y,m+2),N),A))return;m+=2}}}(e),N=oe,A=!1,t},this.stop=function(){A=!0}}function ce(e){return e.xml&&"lowerCase"===e.xml.tagAlias}var ue={xsi:"http://www.w3.org/2001/XMLSchema-instance",xml:"http://www.w3.org/XML/1998/namespace"},le="xsi:type";function fe(e){return e.xml&&e.xml.serialize}function pe(e){return fe(e)===le}function he(e,t){return ce(t)?e.prefix+":"+function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(e.localName):e.name}function de(e,t){var n=B(e);return function(e,t){var n=e.name,r=e.localName,i=t.xml&&t.xml.typePrefix;return i&&0===r.indexOf(i)?e.prefix+":"+r.slice(i.length):n}(n,t.getPackage(n.prefix))}function ye(e){return new Error(e)}function me(e){return e.$descriptor}function ve(e){k(this,e),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(e){this.references.push(e)},this.addElement=function(e){if(!e)throw ye("expected element");var t,n=this.elementsById,r=me(e).idProperty;if(r&&(t=e.get(r.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(t))throw new Error("illegal ID <"+t+">");if(n[t])throw ye("duplicate ID <"+t+">");n[t]=e}},this.addWarning=function(e){this.warnings.push(e)}}function e(){}function ge(){}function be(){}function we(e,t){this.property=e,this.context=t}function _e(e,t){this.element=t,this.propertyDesc=e}function xe(){}function Oe(e,t,n){this.model=e,this.type=e.getType(t),this.context=n}function Ee(e,t,n){Oe.call(this,e,t,n)}function ke(e,t,n){this.model=e,this.context=n}function je(e){e instanceof F&&(e={model:e}),k(this,{lax:!1},e)}e.prototype.handleEnd=function(){},e.prototype.handleText=function(){},e.prototype.handleNode=function(){},(ge.prototype=Object.create(e.prototype)).handleNode=function(){return this},(be.prototype=Object.create(e.prototype)).handleText=function(e){this.body=(this.body||"")+e},(we.prototype=Object.create(be.prototype)).handleNode=function(e){if(this.element)throw ye("expected no sub nodes");return this.element=this.createReference(e),this},we.prototype.handleEnd=function(){this.element.id=this.body},we.prototype.createReference=function(e){return{property:this.property.ns.name,id:""}},(_e.prototype=Object.create(be.prototype)).handleEnd=function(){var e=this.body||"",t=this.element,n=this.propertyDesc;e=R(n.type,e),n.isMany?t.get(n.name).push(e):t.set(n.name,e)},(xe.prototype=Object.create(be.prototype)).handleNode=function(e){var t=this,n=this.element;return n?t=this.handleChild(e):(n=this.element=this.createElement(e),this.context.addElement(n)),t},(Oe.prototype=Object.create(xe.prototype)).addReference=function(e){this.context.addReference(e)},Oe.prototype.handleText=function(e){if(!me(this.element).bodyProperty)throw ye("unexpected body text <"+e+">");be.prototype.handleText.call(this,e)},Oe.prototype.handleEnd=function(){var e=this.body,t=this.element,n=me(t).bodyProperty;n&&void 0!==e&&(e=R(n.type,e),t.set(n.name,e))},Oe.prototype.createElement=function(e){var r,t=e.attributes,n=this.type,i=me(n),o=this.context,a=new n({}),s=this.model;return g(t,function(e,t){var n=i.propertiesByName[t];n&&n.isReference?n.isMany?g(e.split(" "),function(e){o.addReference({element:a,property:n.ns.name,id:e})}):o.addReference({element:a,property:n.ns.name,id:e}):(n?e=R(n.type,e):"xmlns"!==t&&(r=B(t,i.ns.prefix),s.getPackage(r.prefix)&&o.addWarning({message:"unknown attribute <"+t+">",element:a,property:t,value:e})),a.set(t,e))}),a},Oe.prototype.getPropertyForNode=function(e){var t,n,r=B(e.name),i=this.type,o=this.model,a=me(i),s=r.name,c=a.propertiesByName[s];if(c&&!c.isAttr)return pe(c)&&(t=e.attributes[le])?(t=de(t,o),k({},c,{effectiveType:me(n=o.getType(t)).name})):c;var u=o.getPackage(r.prefix);if(u){if(t=he(r,u),n=o.getType(t),c=v(a.properties,function(e){return!e.isVirtual&&!e.isReference&&!e.isAttribute&&n.hasType(e.type)}))return k({},c,{effectiveType:me(n).name})}else if(c=v(a.properties,function(e){return!e.isReference&&!e.isAttribute&&"Element"===e.type}))return c;throw ye("unrecognized element <"+r.name+">")},Oe.prototype.toString=function(){return"ElementDescriptor["+me(this.type).name+"]"},Oe.prototype.valueHandler=function(e,t){return new _e(e,t)},Oe.prototype.referenceHandler=function(e){return new we(e,this.context)},Oe.prototype.handler=function(e){return"Element"===e?new ke(this.model,e,this.context):new Oe(this.model,e,this.context)},Oe.prototype.handleChild=function(e){var t,n,r,i;if(t=this.getPropertyForNode(e),r=this.element,I(n=t.effectiveType||t.type))return this.valueHandler(t,r);var o=(i=t.isReference?this.referenceHandler(t).handleNode(e):this.handler(n).handleNode(e)).element;return void 0!==o&&(t.isMany?r.get(t.name).push(o):r.set(t.name,o),t.isReference?(k(o,{element:r}),this.context.addReference(o)):o.$parent=r),i},(Ee.prototype=Object.create(Oe.prototype)).createElement=function(e){var t=e.name,n=B(t),r=this.model,i=this.type,o=r.getPackage(n.prefix),a=o&&he(n,o)||t;if(!i.hasType(a))throw ye("unexpected element <"+e.originalName+">");return Oe.prototype.createElement.call(this,e)},(ke.prototype=Object.create(xe.prototype)).createElement=function(e){var t=e.name,n=B(t).prefix,r=e.ns[n+"$uri"],i=e.attributes;return this.model.createAny(t,r,i)},ke.prototype.handleChild=function(e){var t=new ke(this.model,"Element",this.context).handleNode(e),n=this.element,r=t.element;return void 0!==r&&((n.$children=n.$children||[]).push(r),r.$parent=n),t},ke.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},je.prototype.fromXML=function(n,e,r){var i=e.rootHandler;e instanceof Oe?(i=e,e={}):"string"==typeof e?(i=this.handler(e),e={}):"string"==typeof i&&(i=this.handler(i));var t=this.model,a=this.lax,u=new ve(k({},e,{rootHandler:i})),o=new se({proxy:!0}),s=function(){var e=[];return Object.defineProperty(e,"peek",{value:function(){return this[this.length-1]}}),e}();function c(e,t,n){var r=t(),i=r.line,o=r.column,a=r.data;"<"===a.charAt(0)&&-1!==a.indexOf(" ")&&(a=a.slice(0,a.indexOf(" "))+">");var s="unparsable content "+(a?a+" ":"")+"detected\n\tline: "+i+"\n\tcolumn: "+o+"\n\tnested error: "+e.message;if(n)return u.addWarning({message:s,error:e}),!0;throw ye(s)}function l(e,t){return c(e,t,!0)}i.context=u,s.push(i);var f=/^<\?xml /i,p=/ encoding="([^"]+)"/i,h=/^utf-8$/i;function d(e,t){try{s.peek().handleText(e)}catch(e){l(e,t)}}var y=t.getPackages().reduce(function(e,t){return e[t.uri]=t.prefix,e},{"http://www.w3.org/XML/1998/namespace":"xml"});o.ns(y).on("openTag",function(e,r,t,n){var i=e.attrs||{},o=Object.keys(i).reduce(function(e,t){var n=r(i[t]);return e[t]=n,e},{});!function(e,t){var n=s.peek();try{s.push(n.handleNode(e))}catch(e){c(e,t,a)&&s.push(new ge)}}({name:e.name,originalName:e.originalName,attributes:o,ns:e.ns},n)}).on("question",function(e){if(f.test(e)){var t=p.exec(e),n=t&&t[1];n&&!h.test(n)&&u.addWarning({message:"unsupported document encoding <"+n+">, falling back to UTF-8"})}}).on("closeTag",function(){s.pop().handleEnd()}).on("cdata",d).on("text",function(e,t,n){!function(e,t){(e=e.trim())&&d(e,t)}(t(e),n)}).on("error",c).on("warn",l),function(e){setTimeout(e,0)}(function(){var t;try{o.parse(n),function(){var e,t,n=u.elementsById,r=u.references;for(e=0;t=r[e];e++){var i=t.element,o=n[t.id],a=me(i).propertiesByName[t.property];if(o||u.addWarning({message:"unresolved reference <"+t.id+">",element:t.element,property:t.property,value:t.id}),a.isMany){var s=i.get(a.name),c=s.indexOf(t);-1===c&&(c=s.length),o?s[c]=o:s.splice(c,1)}else i.set(a.name,o)}}()}catch(e){t=e}var e=i.element;t||e||(t=ye("failed to parse document as <"+i.type.$descriptor.name+">")),r(t,t?void 0:e,u)})},je.prototype.handler=function(e){return new Ee(this.model,e)};var Se=/<|>|'|"|&|\n\r|\n/g,Ce=/<|>|&/g;function Pe(r){var n={},i={},o={},a=[],s=[];this.byUri=function(e){return i[e]||r&&r.byUri(e)},this.add=function(e,t){i[e.uri]=e,t?a.push(e):s.push(e),this.mapPrefix(e.prefix,e.uri)},this.uriByPrefix=function(e){return n[e||"xmlns"]},this.mapPrefix=function(e,t){n[e||"xmlns"]=t},this.getNSKey=function(e){return void 0!==e.prefix?e.uri+"|"+e.prefix:e.uri},this.logUsed=function(e){var t=e.uri,n=this.getNSKey(e);o[n]=this.byUri(t),r&&r.logUsed(e)},this.getUsed=function(e){var n=this;return[].concat(a,s).filter(function(e){var t=n.getNSKey(e);return o[t]})}}function Te(e,t){return ce(t)?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e):e}function De(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function Ne(e){return a(e)?e:(e.prefix?e.prefix+":":"")+e.localName}var Me={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},Re={"<":"lt",">":"gt","&":"amp"};function Ae(e,t,n){return(e=a(e)?e:""+e).replace(t,function(e){return"&"+n[e]+";"})}function Ie(e){this.tagName=e}function Be(){}function Le(e){this.tagName=e}function $e(e,t){this.body=[],this.attrs=[],this.parent=e,this.propertyDescriptor=t}function Ve(e,t){$e.call(this,e,t)}function ze(){this.value="",this.write=function(e){this.value+=e}}function Ue(t,e){var n=[""];this.append=function(e){return t.write(e),this},this.appendNewLine=function(){return e&&t.write("\n"),this},this.appendIndent=function(){return e&&t.write(n.join("  ")),this},this.indent=function(){return n.push(""),this},this.unindent=function(){return n.pop(),this}}function Fe(i){return i=k({format:!1,preamble:!0},i||{}),{toXML:function(e,t){var n=t||new ze,r=new Ue(n,i.format);if(i.preamble&&r.append('<?xml version="1.0" encoding="UTF-8"?>\n'),(new $e).build(e).serializeTo(r),!t)return n.value}}}function We(e,t){F.call(this,e,t)}Ie.prototype.build=function(e){return this.element=e,this},Ie.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},Be.prototype.serializeValue=Be.prototype.serializeTo=function(e){e.append(this.escape?function(e){return Ae(e,Ce,Re)}(this.value):this.value)},Be.prototype.build=function(e,t){return this.value=t,"String"===e.type&&-1!==t.search(Ce)&&(this.escape=!0),this},De(Le,Be),Le.prototype.serializeTo=function(e){e.appendIndent().append("<"+this.tagName+">"),this.serializeValue(e),e.append("</"+this.tagName+">").appendNewLine()},$e.prototype.build=function(e){var t,n,r=(this.element=e).$descriptor,i=this.propertyDescriptor,o=r.isGeneric;return t=o?this.parseGeneric(e):this.parseNsAttributes(e),this.ns=i?this.nsPropertyTagName(i):this.nsTagName(r),this.tagName=this.addTagName(this.ns),o||(n=function(r){return f(r.$descriptor.properties,function(e){var t=e.name;if(e.isVirtual)return!1;if(!r.hasOwnProperty(t))return!1;var n=r[t];return n!==e.default&&(null!==n&&(!e.isMany||n.length))})}(e),this.parseAttributes(function(e){return f(e,function(e){return e.isAttr})}(n)),this.parseContainments(function(e){return f(e,function(e){return!e.isAttr})}(n))),this.parseGenericAttributes(e,t),this},$e.prototype.nsTagName=function(e){return function(e,t){return t.isGeneric?k({localName:t.ns.localName},e):k({localName:Te(t.ns.localName,t.$pkg)},e)}(this.logNamespaceUsed(e.ns),e)},$e.prototype.nsPropertyTagName=function(e){return function(e,t){return k({localName:t.ns.localName},e)}(this.logNamespaceUsed(e.ns),e)},$e.prototype.isLocalNs=function(e){return e.uri===this.ns.uri},$e.prototype.nsAttributeName=function(e){var t;if(t=a(e)?B(e):e.ns,e.inherited)return{localName:t.localName};var n=this.logNamespaceUsed(t);return this.getNamespaces().logUsed(n),this.isLocalNs(n)?{localName:t.localName}:k({localName:t.localName},n)},$e.prototype.parseGeneric=function(n){var r=this,i=this.body,o=[];return g(n,function(e,t){"$body"===t?i.push((new Be).build({type:"String"},e)):"$children"===t?g(e,function(e){i.push(new $e(r).build(e))}):0!==t.indexOf("$")&&r.parseNsAttribute(n,t,e)&&o.push({name:t,value:e})}),o},$e.prototype.parseNsAttribute=function(e,t,n){var r,i=e.$model,o=B(t);if("xmlns"===o.prefix&&(r={prefix:o.localName,uri:n}),o.prefix||"xmlns"!==o.localName||(r={uri:n}),!r)return{name:t,value:n};if(i&&i.getPackage(n))this.logNamespace(r,!0,!0);else{var a=this.logNamespaceUsed(r,!0);this.getNamespaces().logUsed(a)}},$e.prototype.parseNsAttributes=function(r,e){var i=this,t=r.$attrs,o=[];return g(t,function(e,t){var n=i.parseNsAttribute(r,t,e);n&&o.push(n)}),o},$e.prototype.parseGenericAttributes=function(n,e){var r=this;g(e,function(t){if(t.name!==le)try{r.addAttribute(r.nsAttributeName(t.name),t.value)}catch(e){console.warn("missing namespace information for ",t.name,"=",t.value,"on",n,e)}})},$e.prototype.parseContainments=function(e){var o=this,a=this.body,s=this.element;g(e,function(n){var e=s.get(n.name),t=n.isReference;if(n.isMany||(e=[e]),n.isBody)a.push((new Be).build(n,e[0]));else if(I(n.type))g(e,function(e){a.push(new Le(o.addTagName(o.nsPropertyTagName(n))).build(n,e))});else if(t)g(e,function(e){a.push(new Ie(o.addTagName(o.nsPropertyTagName(n))).build(e))});else{var r=pe(n),i=function(e){return"property"===fe(e)}(n);g(e,function(e){var t;t=r?new Ve(o,n):i?new $e(o,n):new $e(o),a.push(t.build(e))})}})},$e.prototype.getNamespaces=function(e){var t,n=this.namespaces,r=this.parent;return n||(t=r&&r.getNamespaces(),e||!t?this.namespaces=n=new Pe(t):n=t),n},$e.prototype.logNamespace=function(e,t,n){var r=this.getNamespaces(n),i=e.uri,o=e.prefix,a=r.byUri(i);return"xml"===o||a&&!n||r.add(e,t),r.mapPrefix(o,i),e},$e.prototype.logNamespaceUsed=function(e,t){var n,r,i,o=this.element.$model,a=this.getNamespaces(t),s=e.prefix,c=e.uri;if(!s&&!c)return{localName:e.localName};if(i=ue[s]||o&&(o.getPackage(s)||{}).uri,!(c=c||i||a.uriByPrefix(s)))throw new Error("no namespace uri given for prefix <"+s+">");if(!(e=a.byUri(c))){for(n=s,r=1;a.uriByPrefix(n);)n=s+"_"+r++;e=this.logNamespace({prefix:n,uri:c},i===c)}return s&&a.mapPrefix(s,c),e},$e.prototype.parseAttributes=function(e){var r=this,i=this.element;g(e,function(e){var t=i.get(e.name);if(e.isReference)if(e.isMany){var n=[];g(t,function(e){n.push(e.id)}),t=n.join(" ")}else t=t.id;r.addAttribute(r.nsAttributeName(e),t)})},$e.prototype.addTagName=function(e){var t=this.logNamespaceUsed(e);return this.getNamespaces().logUsed(t),Ne(e)},$e.prototype.addAttribute=function(e,t){var n=this.attrs;a(t)&&(t=function(e){return Ae(e,Se,Me)}(t)),n.push({name:e,value:t})},$e.prototype.serializeAttributes=function(t){var e=this.attrs,n=this.namespaces;n&&(e=function(e){return p(e.getUsed(),function(e){return{name:"xmlns"+(e.prefix?":"+e.prefix:""),value:e.uri}})}(n).concat(e)),g(e,function(e){t.append(" ").append(Ne(e.name)).append('="').append(e.value).append('"')})},$e.prototype.serializeTo=function(t){var e=this.body[0],n=e&&e.constructor!==Be;t.appendIndent().append("<"+this.tagName),this.serializeAttributes(t),t.append(e?">":" />"),e&&(n&&t.appendNewLine().indent(),g(this.body,function(e){e.serializeTo(t)}),n&&t.unindent().appendIndent(),t.append("</"+this.tagName+">")),t.appendNewLine()},De(Ve,$e),Ve.prototype.parseNsAttributes=function(e){var t=$e.prototype.parseNsAttributes.call(this,e),n=e.$descriptor;if(n.name===this.propertyDescriptor.type)return t;var r=this.typeNs=this.nsTagName(n);this.getNamespaces().logUsed(this.typeNs);var i=e.$model.getPackage(r.uri),o=i.xml&&i.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName(le),(r.prefix?r.prefix+":":"")+o+n.ns.localName),t},Ve.prototype.isLocalNs=function(e){return e.uri===(this.typeNs||this.ns).uri},(We.prototype=Object.create(F.prototype)).fromXML=function(e,t,n,r){a(t)||(r=n,n=t,t="dmn:Definitions"),l(n)&&(r=n,n={});var i=new je(k({model:this,lax:!0},n)),o=i.handler(t);i.fromXML(e,o,r)},We.prototype.toXML=function(e,t,n){l(t)&&(n=t,t={});var r,i,o=new Fe(t);try{r=o.toXML(e)}catch(e){i=e}return n(i,r)};var Ge={dc:{name:"DC",prefix:"dc",uri:"http://www.omg.org/spec/DMN/20180521/DC/",types:[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],associations:[],enumerations:[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}]},di:{name:"DI",prefix:"di",uri:"http://www.omg.org/spec/DMN/20180521/DI/",types:[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]}],associations:[],enumerations:[],xml:{tagAlias:"lowerCase"}},dmn:{name:"DMN",prefix:"dmn",uri:"https://www.omg.org/spec/DMN/20191111/MODEL/",types:[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,default:"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String",default:"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],enumerations:[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],associations:[],xml:{tagAlias:"lowerCase"}},dmndi:{name:"DMNDI",prefix:"dmndi",uri:"https://www.omg.org/spec/DMN/20191111/DMNDI/",types:[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"dmn:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],associations:[],enumerations:[]},biodi:{name:"bpmn.io DI for DMN",uri:"http://bpmn.io/schema/dmn/biodi/2.0",prefix:"biodi",xml:{tagAlias:"lowerCase"},types:[{name:"DecisionTable",isAbstract:!0,extends:["dmn:DecisionTable"],properties:[{name:"annotationsWidth",isAttr:!0,type:"Integer"}]},{name:"OutputClause",isAbstract:!0,extends:["dmn:OutputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]},{name:"InputClause",isAbstract:!0,extends:["dmn:InputClause"],properties:[{name:"width",isAttr:!0,type:"Integer"}]}]}};function He(e,t){return new We(k({},Ge,e),t)}var Xe={name:"Camunda",uri:"http://camunda.org/schema/1.0/dmn",prefix:"camunda",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"Definitions",isAbstract:!0,extends:["dmn:Definitions"],properties:[{name:"diagramRelationId",isAttr:!0,type:"String"}]},{name:"Decision",isAbstract:!0,extends:["dmn:Decision"],properties:[{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"}]},{name:"InputClause",extends:["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}],emumerations:[]};function Ye(e,t,n){return 2==arguments.length?e.getAttribute(t):null===n?e.removeAttribute(t):(e.setAttribute(t,n),e)}function Ke(e,t){if(Ze)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var Ze=[].indexOf,Qe=/\s+/,Je=Object.prototype.toString;function et(e){return new tt(e)}function tt(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function nt(e){for(var t;e.childNodes.length;)t=e.childNodes[0],e.removeChild(t);return e}tt.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Ke(t,e)||t.push(e),this.el.className=t.join(" "),this},tt.prototype.remove=function(e){if("[object RegExp]"==Je.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Ke(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},tt.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},tt.prototype.toggle=function(e,t){return this.list?void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e):void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},tt.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Qe);return""===e[0]&&e.shift(),e},tt.prototype.has=tt.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Ke(this.array(),e)};var rt="undefined"!=typeof Element?Element.prototype:{},it=rt.matches||rt.matchesSelector||rt.webkitMatchesSelector||rt.mozMatchesSelector||rt.msMatchesSelector||rt.oMatchesSelector,ot=function(e,t){if(!e||1!==e.nodeType)return!1;if(it)return it.call(e,t);for(var n=e.parentNode.querySelectorAll(t),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1};function at(e,t,n){for(var r=n?e:e.parentNode;r&&r.nodeType!==document.DOCUMENT_NODE&&r.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){if(ot(r,t))return r;r=r.parentNode}return ot(r,t)?r:null}var st=window.addEventListener?"addEventListener":"attachEvent",ct=window.removeEventListener?"removeEventListener":"detachEvent",ut="addEventListener"!=st?"on":"",lt={bind:function(e,t,n,r){return e[st](ut+t,n,r||!1),n},unbind:function(e,t,n,r){return e[ct](ut+t,n,r||!1),n}},ft=["focus","blur"];var pt,ht={bind:function(n,r,e,i,t){return-1!==ft.indexOf(e)&&(t=!0),lt.bind(n,e,function(e){var t=e.target||e.srcElement;e.delegateTarget=at(t,r,!0),e.delegateTarget&&i.call(n,e)},t)},unbind:function(e,t,n,r){return-1!==ft.indexOf(t)&&(r=!0),lt.unbind(e,t,n,r)}},dt=function(e,t){if("string"!=typeof e)throw new TypeError("String expected");t=t||document;var n=/<([\w:]+)/.exec(e);if(!n)return t.createTextNode(e);e=e.replace(/^\s+|\s+$/g,"");var r=n[1];if("body"==r){return(i=t.createElement("html")).innerHTML=e,i.removeChild(i.lastChild)}var i,o=mt[r]||mt._default,a=o[0],s=o[1],c=o[2];(i=t.createElement("div")).innerHTML=s+e+c;for(;a--;)i=i.lastChild;if(i.firstChild==i.lastChild)return i.removeChild(i.firstChild);var u=t.createDocumentFragment();for(;i.firstChild;)u.appendChild(i.removeChild(i.firstChild));return u},yt=!1;"undefined"!=typeof document&&((pt=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',yt=!pt.getElementsByTagName("link").length,pt=void 0);var mt={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:yt?[1,"X<div>","</div>"]:[0,"",""]};function vt(e,t){return(t=t||document).querySelector(e)}function gt(e){e.parentNode&&e.parentNode.removeChild(e)}function bt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function wt(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _t(e){return(_t="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}mt.td=mt.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],mt.option=mt.optgroup=[1,'<select multiple="multiple">',"</select>"],mt.thead=mt.tbody=mt.colgroup=mt.caption=mt.tfoot=[1,"<table>","</table>"],mt.polyline=mt.ellipse=mt.polygon=mt.circle=mt.text=mt.line=mt.path=mt.rect=mt.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var Et={width:"100%",height:"100%",position:"relative"},kt=function(){function n(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),Ot(this,"_viewsChanged",function(){e._emit("views.changed",{views:e._views,activeView:e._activeView})}),this._eventBus=new C,this._viewsChanged=x(this._viewsChanged,0),this._views=[],this._viewers={},this._init(t)}return function(e,t,n){t&&xt(e.prototype,t),n&&xt(e,n)}(n,[{key:"importXML",value:function(o,a,s){var c=this;"object"!==_t(a)&&(s=a,a={open:!0}),"function"!=typeof s&&(s=jt),o=this._emit("import.parse.start",{xml:o})||o,this._moddle.fromXML(o,"dmn:Definitions",function(e,t,n){t=c._emit("import.parse.complete",{error:e,definitions:t,context:n})||t;var r=n.warnings;if(c._setDefinitions(t),(e=e&&(function(e,t){if("failed to parse document as <dmn:Definitions>"!==e.message)return null;var n=-1!==t.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')?"1.1":-1!==t.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')&&"1.2";return n?(e=new Error("unsupported DMN "+n+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+n+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",e),e):null}(e,o)||function(e){var t=/unparsable content <([^>]+)> detected([\s\S]*)$/.exec(e.message);return t?(e.message="unparsable content <"+t[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+t[2],e):null}(e)||e))||!a.open)return c._emit("import.done",{error:e,warmings:r}),s(e,r);var i=c._activeView||c._getInitialView(c._views);if(!i)return s(new Error("no displayable contents"));c.open(i,function(e,t){var n=[].concat(r,t||[]);c._emit("import.done",{error:e,warnings:n}),s(e,n)})})}},{key:"getDefinitions",value:function(){return this._definitions}},{key:"getActiveView",value:function(){return this._activeView}},{key:"getActiveViewer",value:function(){var e=this.getActiveView();return e&&this._getViewer(e)}},{key:"getView",value:function(t){return this._views.filter(function(e){return e.element===t})[0]}},{key:"getViews",value:function(){return this._views}},{key:"saveXML",value:function(e,n){var r=this;"function"==typeof e&&(n=e,e={});var t=this._definitions;if(!t)return n(new Error("no definitions loaded"));t=this._emit("saveXML.start",{definitions:t})||t,this._moddle.toXML(t,e,function(e,t){try{t=r._emit("saveXML.serialized",{error:e,xml:t})||t,r._emit("saveXML.done",{error:e,xml:t})}catch(e){console.error("error in saveXML life-cycle listener",e)}n(e,t)})}},{key:"on",value:function(){var e;(e=this._eventBus).on.apply(e,arguments)}},{key:"off",value:function(){var e;(e=this._eventBus).off.apply(e,arguments)}},{key:"once",value:function(){var e;(e=this._eventBus).once.apply(e,arguments)}},{key:"attachTo",value:function(e){e.get&&e.constructor.prototype.jquery&&(e=e.get(0)),"string"==typeof e&&(e=vt(e)),e.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){this._emit("detach",{}),gt(this._container)}},{key:"destroy",value:function(){var t=this;Object.keys(this._viewers).forEach(function(e){Tt(t._viewers[e],"destroy")}),gt(this._container)}},{key:"_init",value:function(e){this._options=e,this._moddle=this._createModdle(e),this._viewers={},this._views=[];var t=dt('<div class="dmn-js-parent"></div>'),n=k({},Et,e);k(t.style,{width:St(n.width),height:St(n.height),position:n.position}),this._container=t,e.container&&this.attachTo(e.container)}},{key:"open",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:jt;this._switchView(e,n)}},{key:"_setDefinitions",value:function(e){this._definitions=e,this._updateViews()}},{key:"_updateViews",value:function(){var e=this._definitions;if(!e)return this._views=[],void this._switchView(null);var t=this._getViewProviders(),n=[e].concat(wt(e.drgElement||[])),r=this._views,i=[],o=!0,a=!1,s=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value,f=v(t,function(e){return"string"==typeof e.opens?e.opens===l.$type:e.opens(l)});if(f){var p={element:l,id:l.id,name:l.name,type:f.id};i.push(p)}}}catch(e){a=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}var h,d=this._activeView;if(d&&!(h=v(i,function(e){return Ct(d,e)})||this._getInitialView(i)))return this._switchView(null);var y=!Ct(d,h)||Pt(d,h),m=r.length!==i.length||!w(i,function(t){return v(r,function(e){return Ct(e,t)&&!Pt(e,t)})});this._activeView=h,this._views=i,(y||m)&&this._viewsChanged()}},{key:"_getInitialView",value:function(e){return e[0]}},{key:"_switchView",value:function(n,e){function r(e,t){i._viewsChanged(),o(e,t)}var t,i=this,o=1<arguments.length&&void 0!==e?e:jt,a=this.getActiveView(),s=n&&this._getViewer(n),c=n&&n.element;if(a&&(t=this._getViewer(a))!==s&&(Tt(t,"clear"),t.detach()),this._activeView=n,s)return t!==s&&s.attachTo(this._container),this._emit("import.render.start",{view:n,element:c}),s.open(c,function(e,t){i._emit("import.render.complete",{view:n,error:e,warnings:t}),r(e,t)});r()}},{key:"_getViewer",value:function(e){var t=e.type,n=this._viewers[t];return n||(n=this._viewers[t]=this._createViewer(e.type),this._emit("viewer.created",{type:t,viewer:n})),n}},{key:"_createViewer",value:function(t){var e=v(this._getViewProviders(),function(e){return e.id===t});if(!e)throw new Error("no provider for view type <"+t+">");var n=e.constructor,r=this._options[t]||{};return new n(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(n,!0).forEach(function(e){Ot(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bt(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this._options.common||{},{},r,{additionalModules:[].concat(wt(r.additionalModules||[]),[{_parent:["value",this],moddle:["value",this._moddle]}])}))}},{key:"_emit",value:function(){var e;return(e=this._eventBus).fire.apply(e,arguments)}},{key:"_createModdle",value:function(e){return new He(k({camunda:Xe},e.moddleExtensions))}},{key:"_getViewProviders",value:function(){return[]}}]),n}();function jt(){}function St(e){return e+(u(e)?"px":"")}function Ct(e,t){return c(e)?!!c(t)&&(e.element===t.element||e.id===t.id):!c(t)}function Pt(e,t){return!e||!t||e.name!==t.name}function Tt(e,t){l(e[t])&&e[t]()}function Dt(e,t){return e(t={exports:{}},t.exports),t.exports}var Nt=Dt(function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;function n(){}n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Mt=/^class /;function Rt(e){return"[object Array]"===Object.prototype.toString.call(e)}function At(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function It(){var e=Array.prototype.slice.call(arguments);1===e.length&&Rt(e[0])&&(e=e[0]);var t=e.pop();return t.$inject=e,t}var Bt=/constructor\s*[^(]*\(\s*([^)]*)\)/m,Lt=/^(?:async )?(?:function\s*)?[^(]*\(\s*([^)]*)\)/m,$t=/\/\*([^*]*)\*\//m;function Vt(e){if("function"!=typeof e)throw new Error('Cannot annotate "'+e+'". Expected a function!');var t=e.toString().match(function(e){return Mt.test(e.toString())}(e)?Bt:Lt);return t&&t[1]&&t[1].split(",").map(function(e){return(t=e.match($t))?t[1].trim():e.trim()})||[]}function zt(e,i){i=i||{get:function(e,t){if(s.push(e),!1===t)return null;throw u('No provider for "'+e+'"!')}};function o(e,t){if(!h[e]&&-1!==e.indexOf(".")){for(var n=e.split("."),r=o(n.shift());n.length;)r=r[n.shift()];return r}if(At(c,e))return c[e];if(At(h,e)){if(-1!==s.indexOf(e))throw s.push(e),u("Cannot resolve circular dependency!");return s.push(e),c[e]=h[e][0](h[e][1]),s.pop(),c[e]}return i.get(e,t)}function a(e,t){if(void 0===t&&(t={}),"function"!=typeof e){if(!Rt(e))throw new Error('Cannot invoke "'+e+'". Expected a function!');e=It(e.slice())}return{fn:e,dependencies:(e.$inject||Vt(e)).map(function(e){return At(t,e)?t[e]:o(e)})}}function t(e){var t=a(e),n=t.fn,r=t.dependencies;return new(Function.prototype.bind.apply(n,[null].concat(r)))}function n(e,t,n){var r=a(e,n),i=r.fn,o=r.dependencies;return i.apply(t,o)}function p(t){return It(function(e){return t.get(e)})}var s=[],h=this._providers=Object.create(i._providers||null),c=this._instances=Object.create(null),d=c.injector=this,u=function(e){var t=s.join(" -> ");return s.length=0,new Error(t?e+" (Resolving: "+t+")":e)},l={factory:n,type:t,value:function(e){return e}};e.forEach(function(r){function i(e,t){return"value"!==e&&Rt(t)&&(t=It(t.slice())),t}if(r instanceof function(){var n=[];this.factory=function(e,t){return n.push([e,"factory",t]),this},this.value=function(e,t){return n.push([e,"value",t]),this},this.type=function(e,t){return n.push([e,"type",t]),this},this.forEach=function(e){n.forEach(e)}})r.forEach(function(e){var t=e[0],n=e[1],r=e[2];h[t]=[l[n],i(n,r),n]});else if("object"===qe(r))if(r.__exports__){var e=Object.keys(r).reduce(function(e,t){return"__"!==t.substring(0,2)&&(e[t]=r[t]),e},Object.create(null)),t=new zt((r.__modules__||[]).concat([e]),d),n=It(function(e){return t.get(e)});r.__exports__.forEach(function(e){h[e]=[n,e,"private",t]})}else Object.keys(r).forEach(function(e){if("private"!==r[e][2]){var t=r[e][0],n=r[e][1];h[e]=[l[t],i(t,n),t]}else h[e]=r[e]})}),this.get=o,this.invoke=n,this.instantiate=t,this.createChild=function(e,t){if(t&&t.length){var n,r,i,o,a=Object.create(null),s=Object.create(null),c=[],u=[],l=[];for(var f in h)n=h[f],-1!==t.indexOf(f)&&("private"===n[2]?-1===(r=c.indexOf(n[3]))?(i=n[3].createChild([],t),o=p(i),c.push(n[3]),u.push(i),l.push(o),a[f]=[o,f,"private",i]):a[f]=[l[r],f,"private",u[r]]:a[f]=[n[2],n[1]],s[f]=!0),"factory"!==n[2]&&"type"!==n[2]||!n[1].$scope||t.forEach(function(e){-1!==n[1].$scope.indexOf(e)&&(a[f]=[n[2],n[1]],s[e]=!0)});t.forEach(function(e){if(!s[e])throw new Error('No provider for "'+e+'". Cannot use provider from the parent!')}),e.unshift(a)}return new zt(e,d)}}var Ut=Dt(function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}),Ft=1e3;function Wt(e,t){var o=this;t=t||Ft,e.on(["render.shape","render.connection"],t,function(e,t){var n=e.type,r=t.element,i=t.gfx;if(o.canRender(r))return"render.shape"===n?o.drawShape(i,r):o.drawConnection(i,r)}),e.on(["render.getShapePath","render.getConnectionPath"],t,function(e,t){if(o.canRender(t))return"render.getShapePath"===e.type?o.getShapePath(t):o.getConnectionPath(t)})}function qt(e,t){return t.appendChild(function(e,t){if(e.ownerDocument!==t.ownerDocument)try{return t.ownerDocument.importNode(e,!0)}catch(e){}return e}(e,t))}function Gt(e,t){return qt(t,e),e}Wt.prototype.canRender=function(){},Wt.prototype.drawShape=function(){},Wt.prototype.drawConnection=function(){},Wt.prototype.getShapePath=function(){},Wt.prototype.getConnectionPath=function(){};var Ht=2,Xt={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":Ht,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":Ht,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1};function Yt(e,t,n){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=Xt[r];i?(i===Ht&&"number"==typeof n&&(n=String(n)+"px"),e.style[r]=n):e.setAttributeNS(null,t,n)}function Kt(e,t,n){if("string"==typeof t){if(void 0===n)return function(e,t){return Xt[t]?e.style[t]:e.getAttributeNS(null,t)}(e,t);Yt(e,t,n)}else!function(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)Yt(e,r,t[r])}(e,t);return e}function Zt(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}var Qt=/\s+/,Jt=Object.prototype.toString;function en(e){return void 0!==e}function tn(e){return new nn(e)}function nn(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}function rn(e){var t=e.parentNode;return t&&t.removeChild(e),e}nn.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~Zt(t,e)||t.push(e),en(this.el.className.baseVal)?this.el.className.baseVal=t.join(" "):this.el.className=t.join(" "),this},nn.prototype.remove=function(e){if("[object RegExp]"===Jt.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=Zt(t,e);return~n&&t.splice(n,1),this.el.className.baseVal=t.join(" "),this},nn.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},nn.prototype.toggle=function(e,t){return this.list?en(t)?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e):en(t)?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this},nn.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(Qt);return""===e[0]&&e.shift(),e},nn.prototype.has=nn.prototype.contains=function(e){return this.list?this.list.contains(e):!!~Zt(this.array(),e)};var on={svg:"http://www.w3.org/2000/svg"},an='<svg xmlns="'+on.svg+'"';function sn(e){var t=!1;"<svg"===e.substring(0,4)?-1===e.indexOf(on.svg)&&(e=an+e.substring(4)):(e=an+">"+e+"</svg>",t=!0);var n=function(e){var t;return(t=new DOMParser).async=!1,t.parseFromString(e,"text/xml")}(e);if(!t)return n;for(var r=document.createDocumentFragment(),i=n.firstChild;i.firstChild;)r.appendChild(i.firstChild);return r}function cn(e,t){var n;return n="<"===e.charAt(0)?(n=sn(e).firstChild,document.importNode(n,!0)):document.createElementNS(on.svg,e),t&&Kt(n,t),n}var un=cn("svg");function ln(e,t){var n,r,i=Object.keys(t);for(n=0;r=i[n];n++)e[r]=t[r];return e}var fn=/([&<>]{1})/g,pn=/([\n\r"]{1})/g,hn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"};function dn(e,t){return e.replace(t,function(e,t){return hn[t]||t})}function yn(e,t){var n,r,i,o,a;switch(e.nodeType){case 3:t.push(dn(e.textContent,fn));break;case 1:if(t.push("<",e.tagName),e.hasAttributes())for(n=0,r=(i=e.attributes).length;n<r;++n)o=i.item(n),t.push(" ",o.name,'="',dn(o.value,pn),'"');if(e.hasChildNodes()){for(t.push(">"),n=0,r=(a=e.childNodes).length;n<r;++n)yn(a.item(n),t);t.push("</",e.tagName,">")}else t.push("/>");break;case 8:t.push("\x3c!--",dn(e.nodeValue,fn),"--\x3e");break;case 4:t.push("<![CDATA[",e.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+e.nodeType)}return t}function mn(e,t){var n=sn(t);if(!function(e){for(var t;t=e.firstChild;)rn(t)}(e),t){!function(e){return"#document-fragment"===e.nodeName}(n)&&(n=n.documentElement);for(var r=function(e){return Array.prototype.slice.call(e)}(n.childNodes),i=0;i<r.length;i++)qt(r[i],e)}}function vn(e,t){if(void 0===t)return function(e){for(var t=e.firstChild,n=[];t;)yn(t,n),t=t.nextSibling;return n.join("")}(e);try{mn(e,t)}catch(e){throw new Error("error parsing SVG: "+e.message)}return e}function gn(e,t){var n=e.transform.baseVal;return t&&(Array.isArray(t)||(t=[t]),function(e,t){var n,r,i,o;for(e.clear(),n=0;r=t[n];n++)e.appendItem((i=e,(o=r)instanceof SVGMatrix?i.createSVGTransformFromMatrix(o):o))}(n,t)),n.consolidate()}function bn(e){return e.join(",").replace(/,?([A-z]),?/g,"$1")}function wn(e){for(var t,n="",r=0;t=e[r];r++)n+=t.x+","+t.y+" ";return n}function _n(e,t){var n=cn("polyline");return Kt(n,{points:wn(e)}),t&&Kt(n,t),n}function xn(e,a){var s,c,u,l;return a=!!a,y(e)||(e=[e]),g(e,function(e){var t=e;e.waypoints&&!a&&(t=xn(e.waypoints,!0));var n=t.x,r=t.y,i=t.height||0,o=t.width||0;(n<s||void 0===s)&&(s=n),(r<c||void 0===c)&&(c=r),(u<n+o||void 0===u)&&(u=n+o),(l<r+i||void 0===l)&&(l=r+i)}),{x:s,y:c,height:l-c,width:u-s}}function On(e){return!(!e||!e.isFrame)}function En(e,t){Wt.call(this,e,1),this.CONNECTION_STYLE=t.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=t.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=t.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Ut(En,Wt),En.prototype.canRender=function(){return!0},En.prototype.drawShape=function(e,t){var n=cn("rect");return Kt(n,{x:0,y:0,width:t.width||0,height:t.height||0}),On(t)?Kt(n,this.FRAME_STYLE):Kt(n,this.SHAPE_STYLE),Gt(e,n),n},En.prototype.drawConnection=function(e,t){var n=_n(t.waypoints,this.CONNECTION_STYLE);return Gt(e,n),n},En.prototype.getShapePath=function(e){var t=e.x,n=e.y,r=e.width;return bn([["M",t,n],["l",r,0],["l",0,e.height],["l",-r,0],["z"]])},En.prototype.getConnectionPath=function(e){var t,n,r=e.waypoints,i=[];for(t=0;n=r[t];t++)n=n.original||n,i.push([0===t?"M":"L",n.x,n.y]);return bn(i)},En.$inject=["eventBus","styles"];var kn={__init__:["defaultRenderer"],defaultRenderer:["type",En],styles:["type",function(){var r={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},i=this;this.cls=function(e,t,n){return k(this.style(t,n),{class:e})},this.style=function(e,t){y(e)||t||(t=e,e=[]);var n=b(e,function(e,t){return k(e,r[t]||{})},{});return t?k(n,t):n},this.computeStyle=function(e,t,n){return y(t)||(n=t,t=[]),i.style(t||[],k({},n,e||{}))}}]};function jn(e,t){return Math.round(e*t)/t}function Sn(e){return u(e)?e+"px":e}function Cn(e,t,n){var r=cn("g");tn(r).add(t);var i=void 0!==n?n:e.childNodes.length-1;return e.insertBefore(r,e.childNodes[i]||null),r}var Pn={shape:["x","y","width","height"],connection:["waypoints"]};function Tn(e,t,n,r){this._eventBus=t,this._elementRegistry=r,this._graphicsFactory=n,this._init(e||{})}function Dn(e,t){var n="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttribute("transform",n)}Tn.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],Tn.prototype._init=function(e){var t=this._eventBus,n=this._container=function(e){var t=(e=k({},{width:"100%",height:"100%"},e)).container||document.body,n=document.createElement("div");return n.setAttribute("class","djs-container"),k(n.style,{position:"relative",overflow:"hidden",width:Sn(e.width),height:Sn(e.height)}),t.appendChild(n),n}(e),r=this._svg=cn("svg");Kt(r,{width:"100%",height:"100%"}),Gt(n,r);var i=this._viewport=Cn(r,"viewport");!(this._layers={})!==e.deferUpdate&&(this._viewboxChanged=x(O(this._viewboxChanged,this),300)),t.on("diagram.init",function(){t.fire("canvas.init",{svg:r,viewport:i})},this),t.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),t.on("diagram.destroy",500,this._destroy,this),t.on("diagram.clear",500,this._clear,this)},Tn.prototype._destroy=function(e){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var t=this._container.parentNode;t&&t.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},Tn.prototype._clear=function(){var n=this;this._elementRegistry.getAll().forEach(function(e){var t=function(e){return"waypoints"in e?"connection":"x"in e?"shape":"root"}(e);"root"===t?n.setRootElement(null,!0):n._removeElement(e,t)}),delete this._cachedViewbox},Tn.prototype.getDefaultLayer=function(){return this.getLayer("base",0)},Tn.prototype.getLayer=function(e,t){if(!e)throw new Error("must specify a name");var n=this._layers[e];if(n=n||(this._layers[e]=this._createLayer(e,t)),void 0!==t&&n.index!==t)throw new Error("layer <"+e+"> already created at index <"+t+">");return n.group},Tn.prototype._createLayer=function(e,n){n=n||0;var t=b(this._layers,function(e,t){return n>=t.index&&e++,e},0);return{group:Cn(this._viewport,"layer-"+e,t),index:n}},Tn.prototype.getContainer=function(){return this._container},Tn.prototype._updateMarker=function(e,t,n){var r;e.id||(e=this._elementRegistry.get(e)),(r=this._elementRegistry._elements[e.id])&&(g([r.gfx,r.secondaryGfx],function(e){e&&(n?tn(e).add(t):tn(e).remove(t))}),this._eventBus.fire("element.marker.update",{element:e,gfx:r.gfx,marker:t,add:!!n}))},Tn.prototype.addMarker=function(e,t){this._updateMarker(e,t,!0)},Tn.prototype.removeMarker=function(e,t){this._updateMarker(e,t,!1)},Tn.prototype.hasMarker=function(e,t){return e.id||(e=this._elementRegistry.get(e)),tn(this.getGraphics(e)).has(t)},Tn.prototype.toggleMarker=function(e,t){this.hasMarker(e,t)?this.removeMarker(e,t):this.addMarker(e,t)},Tn.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},Tn.prototype.setRootElement=function(e,t){e&&this._ensureValid("root",e);var n=this._rootElement,r=this._elementRegistry,i=this._eventBus;if(n){if(!t)throw new Error("rootElement already set, need to specify override");i.fire("root.remove",{element:n}),i.fire("root.removed",{element:n}),r.remove(n)}if(e){var o=this.getDefaultLayer();i.fire("root.add",{element:e}),r.add(e,o,this._svg),i.fire("root.added",{element:e,gfx:o})}return this._rootElement=e},Tn.prototype._ensureValid=function(e,t){if(!t.id)throw new Error("element must have an id");if(this._elementRegistry.get(t.id))throw new Error("element with id "+t.id+" already exists");var n=Pn[e];if(!w(n,function(e){return void 0!==t[e]}))throw new Error("must supply { "+n.join(", ")+" } with "+e)},Tn.prototype._setParent=function(e,t,n){!function(e,t,n){if(e&&t){"number"!=typeof n&&(n=-1);var r=e.indexOf(t);if(-1!==r){if(r===n)return;if(-1===n)return;e.splice(r,1)}-1!==n?e.splice(n,0,t):e.push(t)}}(t.children,e,n),e.parent=t},Tn.prototype._addElement=function(e,t,n,r){n=n||this.getRootElement();var i=this._eventBus,o=this._graphicsFactory;this._ensureValid(e,t),i.fire(e+".add",{element:t,parent:n}),this._setParent(t,n,r);var a=o.create(e,t,r);return this._elementRegistry.add(t,a),o.update(e,t,a),i.fire(e+".added",{element:t,gfx:a}),t},Tn.prototype.addShape=function(e,t,n){return this._addElement("shape",e,t,n)},Tn.prototype.addConnection=function(e,t,n){return this._addElement("connection",e,t,n)},Tn.prototype._removeElement=function(e,t){var n=this._elementRegistry,r=this._graphicsFactory,i=this._eventBus;if(e=n.get(e.id||e))return i.fire(t+".remove",{element:e}),r.remove(e),function(e,t){if(!e||!t)return;var n=e.indexOf(t);-1!==n&&e.splice(n,1)}(e.parent&&e.parent.children,e),e.parent=null,i.fire(t+".removed",{element:e}),n.remove(e),e},Tn.prototype.removeShape=function(e){return this._removeElement(e,"shape")},Tn.prototype.removeConnection=function(e){return this._removeElement(e,"connection")},Tn.prototype.getGraphics=function(e,t){return this._elementRegistry.getGraphics(e,t)},Tn.prototype._changeViewbox=function(e){this._eventBus.fire("canvas.viewbox.changing"),e.apply(this),this._cachedViewbox=null,this._viewboxChanged()},Tn.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},Tn.prototype.viewbox=function(t){if(void 0===t&&this._cachedViewbox)return this._cachedViewbox;var e,n,r,i,o,a,s=this._viewport,c=this.getSize();return t?(this._changeViewbox(function(){i=Math.min(c.width/t.width,c.height/t.height);var e=this._svg.createSVGMatrix().scale(i).translate(-t.x,-t.y);gn(s,e)}),t):(e=this.getDefaultLayer().getBBox(),n=(r=gn(s))?r.matrix:function(e,t,n,r,i,o){var a=un.createSVGMatrix();switch(arguments.length){case 0:return a;case 1:return ln(a,e);case 6:return ln(a,{a:e,b:t,c:n,d:r,e:i,f:o})}}(),i=jn(n.a,1e3),o=jn(-n.e||0,1e3),a=jn(-n.f||0,1e3),t=this._cachedViewbox={x:o?o/i:0,y:a?a/i:0,width:c.width/i,height:c.height/i,scale:i,inner:{width:e.width,height:e.height,x:e.x,y:e.y},outer:c})},Tn.prototype.scroll=function(e){var t=this._viewport,n=t.getCTM();return e&&this._changeViewbox(function(){e=k({dx:0,dy:0},e||{}),n=this._svg.createSVGMatrix().translate(e.dx,e.dy).multiply(n),Dn(t,n)}),{x:n.e,y:n.f}},Tn.prototype.zoom=function(e,t){return e?"fit-viewport"===e?this._fitViewport(t):(this._changeViewbox(function(){"object"!==qe(t)&&(n=this.viewbox().outer,t={x:n.width/2,y:n.height/2}),r=this._setZoom(e,t)}),jn(r.a,1e3)):this.viewbox(e).scale;var n,r},Tn.prototype._fitViewport=function(e){var t,n,r=this.viewbox(),i=r.outer,o=r.inner;return n=0<=o.x&&0<=o.y&&o.x+o.width<=i.width&&o.y+o.height<=i.height&&!e?{x:0,y:0,width:Math.max(o.width+o.x,i.width),height:Math.max(o.height+o.y,i.height)}:(t=Math.min(1,i.width/o.width,i.height/o.height),{x:o.x+(e?o.width/2-i.width/t/2:0),y:o.y+(e?o.height/2-i.height/t/2:0),width:i.width/t,height:i.height/t}),this.viewbox(n),this.viewbox(!1).scale},Tn.prototype._setZoom=function(e,t){var n,r,i,o,a=this._svg,s=this._viewport,c=a.createSVGMatrix(),u=a.createSVGPoint(),l=(r=s.getCTM()).a;return o=t?(n=k(u,t).matrixTransform(r.inverse()),i=c.translate(n.x,n.y).scale(1/l*e).translate(-n.x,-n.y),r.multiply(i)):c.scale(e),Dn(this._viewport,o),o},Tn.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},Tn.prototype.getAbsoluteBBox=function(e){var t,n=this.viewbox();e.waypoints?t=this.getGraphics(e).getBBox():t=e;return{x:t.x*n.scale-n.x*n.scale,y:t.y*n.scale-n.y*n.scale,width:t.width*n.scale,height:t.height*n.scale}},Tn.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")};var Nn="data-element-id";function Mn(e){this._elements={},this._eventBus=e}Mn.$inject=["eventBus"],Mn.prototype.add=function(e,t,n){var r=e.id;this._validateId(r),Kt(t,Nn,r),n&&Kt(n,Nn,r),this._elements[r]={element:e,gfx:t,secondaryGfx:n}},Mn.prototype.remove=function(e){var t=this._elements,n=e.id||e,r=n&&t[n];r&&(Kt(r.gfx,Nn,""),r.secondaryGfx&&Kt(r.secondaryGfx,Nn,""),delete t[n])},Mn.prototype.updateId=function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t});var n=this.getGraphics(e),r=this.getGraphics(e,!0);this.remove(e),e.id=t,this.add(e,n,r)},Mn.prototype.get=function(e){var t;t="string"==typeof e?e:e&&Kt(e,Nn);var n=this._elements[t];return n&&n.element},Mn.prototype.filter=function(n){var r=[];return this.forEach(function(e,t){n(e,t)&&r.push(e)}),r},Mn.prototype.find=function(e){for(var t=this._elements,n=Object.keys(t),r=0;r<n.length;r++){var i=t[n[r]],o=i.element;if(e(o,i.gfx))return o}},Mn.prototype.getAll=function(){return this.filter(function(e){return e})},Mn.prototype.forEach=function(i){var o=this._elements;Object.keys(o).forEach(function(e){var t=o[e],n=t.element,r=t.gfx;return i(n,r)})},Mn.prototype.getGraphics=function(e,t){var n=e.id||e,r=this._elements[n];return r&&(t?r.secondaryGfx:r.gfx)},Mn.prototype._validateId=function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")};var Rn={extend:function(e,r,t,i){var o=t.inverse;return Object.defineProperty(e,"remove",{value:function(e){var t=this.indexOf(e);return-1!==t&&(this.splice(t,1),r.unset(e,o,i)),e}}),Object.defineProperty(e,"contains",{value:function(e){return-1!==this.indexOf(e)}}),Object.defineProperty(e,"add",{value:function(e,t){var n=this.indexOf(e);if(void 0===t){if(-1!==n)return;t=this.length}-1!==n&&this.splice(n,1),this.splice(t,0,e),-1===n&&r.set(e,o,i)}}),Object.defineProperty(e,"__refs_collection",{value:!0}),e},isExtended:function(e){return!0===e.__refs_collection}};function An(t,n,r){var e=Rn.extend(r[n.name]||[],t,n,r);Object.defineProperty(r,n.name,{enumerable:n.enumerable,value:e}),e.length&&e.forEach(function(e){t.set(e,n.inverse,r)})}function In(e,t){if(!(this instanceof In))return new In(e,t);(e.inverse=t).inverse=e,this.props={},this.props[e.name]=e,this.props[t.name]=t}In.prototype.bind=function(e,t){if("string"==typeof t){if(!this.props[t])throw new Error("no property <"+t+"> in ref");t=this.props[t]}t.collection?An(this,t,e):function(n,e,r){var i=e.inverse,o=r[e.name];Object.defineProperty(r,e.name,{configurable:e.configurable,enumerable:e.enumerable,get:function(){return o},set:function(e){if(e!==o){var t=o;o=null,t&&n.unset(t,i,r),o=e,n.set(o,i,r)}}})}(this,t,e)},In.prototype.ensureRefsCollection=function(e,t){var n=e[t.name];return Rn.isExtended(n)||An(this,t,e),n},In.prototype.ensureBound=function(e,t){!function(e,t){return Object.prototype.hasOwnProperty.call(e,t.name||t)}(e,t)&&this.bind(e,t)},In.prototype.unset=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).remove(n):e[t.name]=void 0)},In.prototype.set=function(e,t,n){e&&(this.ensureBound(e,t),t.collection?this.ensureRefsCollection(e,t).add(n):e[t.name]=n)};var Bn=In,Ln=Rn;Bn.Collection=Ln;var $n=new Bn({name:"children",enumerable:!0,collection:!0},{name:"parent"}),Vn=new Bn({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),zn=new Bn({name:"attachers",collection:!0},{name:"host"}),Un=new Bn({name:"outgoing",collection:!0},{name:"source"}),Fn=new Bn({name:"incoming",collection:!0},{name:"target"});function Wn(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(e){var t=this.label,n=this.labels;!e&&t?n.remove(t):n.add(e,0)}}),$n.bind(this,"parent"),Vn.bind(this,"labels"),Un.bind(this,"outgoing"),Fn.bind(this,"incoming")}function qn(){Wn.call(this),$n.bind(this,"children"),zn.bind(this,"host"),zn.bind(this,"attachers")}function Gn(){qn.call(this)}function Hn(){qn.call(this),Vn.bind(this,"labelTarget")}function Xn(){Wn.call(this),Un.bind(this,"source"),Fn.bind(this,"target")}Ut(qn,Wn),Ut(Gn,qn),Ut(Hn,qn),Ut(Xn,Wn);var Yn={connection:Xn,shape:qn,label:Hn,root:Gn};function Kn(){this._uid=12}function Zn(e,t,n){var r=function(e){return e?un.createSVGTransformFromMatrix(e):un.createSVGTransform()}();r.setTranslate(t,n),gn(e,r)}function Qn(e,t){this._eventBus=e,this._elementRegistry=t}function Jn(e,t,n){var r=n||t.firstChild;e!==r&&t.insertBefore(e,r)}Kn.prototype.createRoot=function(e){return this.create("root",e)},Kn.prototype.createLabel=function(e){return this.create("label",e)},Kn.prototype.createShape=function(e){return this.create("shape",e)},Kn.prototype.createConnection=function(e){return this.create("connection",e)},Kn.prototype.create=function(e,t){return(t=k({},t||{})).id||(t.id=e+"_"+this._uid++),function(e,t){var n=Yn[e];if(!n)throw new Error("unknown type: <"+e+">");return k(new n,t)}(e,t)},Qn.$inject=["eventBus","elementRegistry"],Qn.prototype._getChildrenContainer=function(e){var t,n=this._elementRegistry.getGraphics(e);return e.parent?(t=function(e){return e.parentNode.childNodes[1]}(n))||(tn(t=cn("g")).add("djs-children"),Gt(n.parentNode,t)):t=n,t},Qn.prototype._clear=function(e){var t=function(e){return e.childNodes[0]}(e);return nt(t),t},Qn.prototype._createContainer=function(e,t,n,r){var i=cn("g");tn(i).add("djs-group"),void 0!==n?Jn(i,t,t.childNodes[n]):Gt(t,i);var o=cn("g");tn(o).add("djs-element"),tn(o).add("djs-"+e),r&&tn(o).add("djs-frame"),Gt(i,o);var a=cn("g");return tn(a).add("djs-visual"),Gt(o,a),o},Qn.prototype.create=function(e,t,n){var r=this._getChildrenContainer(t.parent);return this._createContainer(e,r,n,On(t))},Qn.prototype.updateContainments=function(e){var r=this,i=this._elementRegistry;g(b(e,function(e,t){return t.parent&&(e[t.parent.id]=t.parent),e},{}),function(e){var t=e.children;if(t){var n=r._getChildrenContainer(e);g(t.slice().reverse(),function(e){Jn(i.getGraphics(e).parentNode,n)})}})},Qn.prototype.drawShape=function(e,t){return this._eventBus.fire("render.shape",{gfx:e,element:t})},Qn.prototype.getShapePath=function(e){return this._eventBus.fire("render.getShapePath",e)},Qn.prototype.drawConnection=function(e,t){return this._eventBus.fire("render.connection",{gfx:e,element:t})},Qn.prototype.getConnectionPath=function(e){return this._eventBus.fire("render.getConnectionPath",e)},Qn.prototype.update=function(e,t,n){if(t.parent){var r=this._clear(n);if("shape"===e)this.drawShape(r,t),Zn(n,t.x,t.y);else{if("connection"!==e)throw new Error("unknown type: "+e);this.drawConnection(r,t)}t.hidden?Kt(n,"display","none"):Kt(n,"display","block")}},Qn.prototype.remove=function(e){rn(this._elementRegistry.getGraphics(e).parentNode)};var er={__depends__:[kn],__init__:["canvas"],canvas:["type",Tn],elementRegistry:["type",Mn],elementFactory:["type",Kn],eventBus:["type",C],graphicsFactory:["type",Qn]};function tr(e){var n=[],r=[];function i(e){return 0<=n.indexOf(e)}e.forEach(function e(t){i(t)||((t.__depends__||[]).forEach(e),i(t)||(function(e){n.push(e)}(t),(t.__init__||[]).forEach(function(e){r.push(e)})))});var t=new zt(n);return r.forEach(function(e){try{t["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}}),t}function nr(e,t){this.injector=t=t||function(e){return tr([{config:["value",e=e||{}]},er].concat(e.modules||[]))}(e),this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("diagram.init")}function rr(e,t){var n=ir(e);return n&&"function"==typeof n.$instanceOf&&n.$instanceOf(t)}function ir(e){return e&&e.businessObject||e}nr.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},nr.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")};var or=new Bn({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0});function ar(i,e){var o=[];function a(t){try{return t.di&&function(e){if(e.gfx)throw new Error("already rendered "+e.id);return i.element(e)}(t)}catch(e){n(e.message,{element:t,error:e})}}function s(e){!function(e){var t=e.dmnElementRef;t?t.di?n("multiple DI elements defined for element",{element:t}):(or.bind(t,"di"),t.di=e):n("no DMN element referenced in element",{element:e})}(e)}function c(e){o.push(e)}function n(e,t){i.error(e,t)}return{handleDefinitions:function(e,t){var n=e.dmnDI;if(!n)throw new Error("no dmndi:DMNDI");var r=n.diagrams||[];if(t&&-1===r.indexOf(t))throw new Error("diagram not part of dmndi:DMNDI");if(!t&&r&&r.length&&(t=r[0]),!t)throw new Error("no diagram to display");(function(e){g(e.diagramElements,s)})(e.di=t),function(e){i.root(e)}(e),function(e){g(e,function(e){a(e),function(t){g(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(e){g(t[e],function(e){c(function(){a(e)})})})}(e)})}(e.get("drgElement")),function(e){g(e,function(e){rr(e,"dmn:Association")?function(e){c(function(){a(e)})}(e):a(e)})}(e.get("artifact")),g(o,function(e){e()})}}}function sr(e,r,i,o){Wt.call(this,e);var c={};function a(e){return"url(#"+c[e].id+")"}function t(s){function e(e,t){var n=k({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},t.attrs),r=t.ref||{x:0,y:0},i=t.scale||1;"none"===n.strokeDasharray&&(n.strokeDasharray=[1e4,1]);var o=cn("marker");Kt(t.element,n),Gt(o,t.element),Kt(o,{id:e,viewBox:"0 0 20 20",refX:r.x,refY:r.y,markerWidth:20*i,markerHeight:20*i,orient:"auto"});var a=vt("defs",s);return a||(a=cn("defs"),Gt(s,a)),Gt(a,o),function(e,t){c[e]=t}(e,o)}var t=cn("path");Kt(t,{d:"M 11 5 L 1 10 L 11 15"}),e("association-start",{element:t,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var n=cn("path");Kt(n,{d:"M 1 5 L 11 10 L 1 15"}),e("association-end",{element:n,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:12,y:10},scale:.5});var r=cn("path");Kt(r,{d:"M 1 5 L 11 10 L 1 15 Z"}),e("information-requirement-end",{element:r,ref:{x:11,y:10},scale:1});var i=cn("path");Kt(i,{d:"M 1 3 L 11 10 L 1 17"}),e("knowledge-requirement-end",{element:i,attrs:{fill:"none",stroke:"black",strokeWidth:2},ref:{x:11,y:10},scale:.8});var o=cn("circle");Kt(o,{cx:3,cy:3,r:3}),e("authority-requirement-end",{element:o,ref:{x:3,y:3},scale:.9})}function s(e,t,n){return y(t)||(n=t,t=[]),i.style(t||[],k(n,e||{}))}function u(e,t,n,r,i,o){m(i)&&(o=i,i=0),i=i||0,o=s(o,{stroke:"black",strokeWidth:2,fill:"white"});var a=cn("rect");return Kt(a,{x:i,y:i,width:t-2*i,height:n-2*i,rx:r,ry:r}),Kt(a,o),Gt(e,a),a}function l(e,t,n){var r=o.createText(t||"",n);return Ye(r,"class","djs-label"),Gt(e,r),r}function f(e,t,n){return l(e,function(e){return ir(e).name}(t),{box:t,align:n,padding:5})}function p(e,t,n){n=s(n,["no-fill"],{strokeWidth:2,stroke:"black"});var r=cn("path");return Kt(r,{d:t}),Kt(r,n),Gt(e,r),r}var h={"dmn:Decision":function(e,t,n){var r=u(e,t.width,t.height,0,n);return f(e,t,"center-middle"),r},"dmn:KnowledgeSource":function(e,t){var n=p(e,r.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.075}}),{strokeWidth:2,fill:"white",stroke:"black"});return f(e,t,"center-middle"),n},"dmn:BusinessKnowledgeModel":function(e,t){var n=p(e,r.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:.3}}),{strokeWidth:2,fill:"white",stroke:"black"});return f(e,t,"center-middle"),n},"dmn:InputData":function(e,t,n){var r=u(e,t.width,t.height,22,n);return f(e,t,"center-middle"),r},"dmn:TextAnnotation":function(e,t){var n=u(e,t.width,t.height,0,0,{fill:"none",stroke:"none"});return p(e,r.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:t.width,containerHeight:t.height,position:{mx:0,my:0}})),l(e,cr(t).text||"",{box:t,align:"left-top",padding:5}),n},"dmn:Association":function(e,t,n){var r=cr(t);return n=k({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},n||{}),"One"!==r.associationDirection&&"Both"!==r.associationDirection||(n.markerEnd=a("association-end")),"Both"===r.associationDirection&&(n.markerStart=a("association-start")),d(e,t.waypoints,n)},"dmn:InformationRequirement":function(e,t,n){return n=k({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:a("information-requirement-end")},n||{}),d(e,t.waypoints,n)},"dmn:KnowledgeRequirement":function(e,t,n){return n=k({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:a("knowledge-requirement-end")},n||{}),d(e,t.waypoints,n)},"dmn:AuthorityRequirement":function(e,t,n){return n=k({strokeWidth:1.5,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:a("authority-requirement-end")},n||{}),d(e,t.waypoints,n)}};function d(e,t,n){var r=_n(t,n=s(n,["no-fill"],{stroke:"black",strokeWidth:2,fill:"none"}));return Gt(e,r),r}this.canRender=function(e){return rr(e,"dmn:DMNElement")||rr(e,"dmn:InformationRequirement")||rr(e,"dmn:KnowledgeRequirement")||rr(e,"dmn:AuthorityRequirement")},this.drawShape=function(e,t){var n=h[t.type];return n?n(e,t):Wt.prototype.drawShape.apply(this,[e,t])},this.drawConnection=function(e,t){var n=t.type,r=h[n];return r?r(e,t):Wt.prototype.drawConnection.apply(this,[e,t])},e.on("canvas.init",function(e){t(e.svg)})}function cr(e){return e.businessObject}Nt(sr,Wt),sr.$inject=["eventBus","pathMap","styles","textRenderer"];var ur=0,lr={width:150,height:50};function fr(e,t){var n;t.textContent=e;try{var r,i=""===e;return t.textContent=i?"dummy":e,r={width:(n=t.getBBox()).width+2*n.x,height:n.height},i&&(r.width=0),r}catch(e){return{width:0,height:0}}}function pr(e,t,n){for(var r,i=e.shift(),o=i;;){if((r=fr(o,n)).width=o?r.width:0," "===o||""===o||r.width<Math.round(t)||o.length<2)return hr(e,o,i,r);o=yr(o,r.width,t)}}function hr(e,t,n,r){if(t.length<n.length){var i=n.slice(t.length).trim();e.unshift(i)}return{width:r.width,height:r.height,text:t}}var dr="";function yr(e,t,n){var r=Math.max(e.length*(n/t),1),i=function(e,t){var n,r=e.split(/(\s|-|\u00AD)/g),i=[],o=0;if(1<r.length)for(;n=r.shift();){if(!(n.length+o<t)){"-"!==n&&n!==dr||i.pop();break}i.push(n),o+=n.length}var a=i[i.length-1];return a&&a===dr&&(i[i.length-1]="-"),i.join("")}(e,r);return i=i||e.slice(0,Math.max(Math.round(r-1),1))}function mr(e){this._config=k({},{size:lr,padding:ur,style:{},align:"center-top"},e||{})}mr.prototype.createText=function(e,t){return this.layoutText(e,t).element},mr.prototype.getDimensions=function(e,t){return this.layoutText(e,t).dimensions},mr.prototype.layoutText=function(e,t){var n=k({},this._config.size,t.box),r=k({},this._config.style,t.style),i=function(e){var t=e.split("-");return{horizontal:t[0]||"center",vertical:t[1]||"top"}}(t.align||this._config.align),o=function(e){return m(e)?k({top:0,left:0,right:0,bottom:0},e):{top:e,left:e,right:e,bottom:e}}(void 0!==t.padding?t.padding:this._config.padding),a=t.fitBox||!1,s=function(e){if("fontSize"in e&&"lineHeight"in e)return e.lineHeight*parseInt(e.fontSize,10)}(r),c=e.split(/\u00AD?\r?\n/),u=[],l=n.width-o.left-o.right,f=cn("text");for(Kt(f,{x:0,y:0}),Kt(f,r),Gt(function(){var e=document.getElementById("helper-svg");return e||(Kt(e=cn("svg"),{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(e)),e}(),f);c.length;)u.push(pr(c,l,f));"middle"===i.vertical&&(o.top=o.bottom=0);var p=b(u,function(e,t,n){return e+(s||t.height)},0)+o.top+o.bottom,h=b(u,function(e,t,n){return t.width>e?t.width:e},0),d=o.top;"middle"===i.vertical&&(d+=(n.height-p)/2),d-=(s||u[0].height)/4;var y=cn("text");return Kt(y,r),g(u,function(e){var t;switch(d+=s||e.height,i.horizontal){case"left":t=o.left;break;case"right":t=(a?h:l)-o.right-e.width;break;default:t=Math.max(((a?h:l)-e.width)/2+o.left,0)}var n=cn("tspan");Kt(n,{x:t,y:d}),n.textContent=e.text,Gt(y,n)}),rn(f),{dimensions:{width:h,height:p},element:y}};function vr(e){var r=k({fontFamily:"Arial, sans-serif",fontSize:12,fontWeight:"normal",lineHeight:1.2},e&&e.defaultStyle||{}),t=parseInt(r.fontSize,10)-1,i=k({},r,{fontSize:t},e&&e.externalStyle||{}),o=new mr({style:r});this.getExternalLabelBounds=function(e,t){var n=o.getDimensions(t,{box:{width:90,height:30,x:e.width/2+e.x,y:e.height/2+e.y},style:i});return{x:Math.round(e.x+e.width/2-n.width/2),y:Math.round(e.y),width:Math.ceil(n.width),height:Math.ceil(n.height)}},this.getTextAnnotationBounds=function(e,t){var n=o.getDimensions(t,{box:e,style:r,align:"left-top",padding:5});return{x:e.x,y:e.y,width:e.width,height:Math.max(30,Math.round(n.height))}},this.createText=function(e,t){return o.createText(e,t||{})},this.getDefaultStyle=function(){return r},this.getExternalStyle=function(){return i}}vr.$inject=["config.textRenderer"];var gr=/\{([^}]+)\}/g,br=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g;var wr={__init__:["drdRenderer"],drdRenderer:["type",sr],textRenderer:["type",vr],pathMap:["type",function(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(e){return this.pathMap[e].d},this.getScaledPath=function(e,t){var n,r,i=this.pathMap[e];r=t.abspos?(n=t.abspos.x,t.abspos.y):(n=t.containerWidth*t.position.mx,t.containerHeight*t.position.my);var o={};if(t.position){for(var a=t.containerHeight/i.height*t.yScaleFactor,s=t.containerWidth/i.width*t.xScaleFactor,c=0;c<i.heightElements.length;c++)o["y"+c]=i.heightElements[c]*a;for(var u=0;u<i.widthElements.length;u++)o["x"+u]=i.widthElements[u]*s}return function(e,n){return String(e).replace(gr,function(e,t){return function(e,t,n){var o=n;return t.replace(br,function(e,t,n,r,i){t=t||r,o&&(t in o&&(o=o[t]),"function"==typeof o&&i&&(o=o()))}),o=(null==o||o==n?e:o)+""}(e,t,n)})}(i.d,{mx:n,my:r,e:o})}}]};function _r(e,t,n,r){this._eventBus=e,this._canvas=t,this._elementRegistry=r,this._elementFactory=n}function xr(e,t){return k({id:e.id,type:e.$type,businessObject:e},t)}function Or(e){return e.split("#").pop()}_r.$inject=["eventBus","canvas","elementFactory","elementRegistry"],_r.prototype.root=function(e){var t=this._elementFactory.createRoot(xr(e));return this._canvas.setRootElement(t),t},_r.prototype.add=function(e){var t,n,r,i,o,a,s=this._elementFactory,c=this._canvas,u=this._eventBus,l=e.di;if(l.$instanceOf("dmndi:DMNShape"))a=l.bounds,o=xr(e,{x:Math.round(a.x),y:Math.round(a.y),width:Math.round(a.width),height:Math.round(a.height)}),t=s.createShape(o),c.addShape(t),u.fire("drdElement.added",{element:t,di:l});else{if(!l.$instanceOf("dmndi:DMNEdge"))throw new Error("unknown di for element "+e.id);n=function(e){var t=e.waypoint;if(t)return p(t,function(e){var t={x:e.x,y:e.y};return k({original:t},t)})}(l),r=this._getSource(e),i=this._getTarget(e),r&&i&&(o=xr(e,{hidden:!1,source:r,target:i,waypoints:n}),t=s.createConnection(o),c.addConnection(t),u.fire("drdElement.added",{element:t,di:l}))}return t},_r.prototype._getSource=function(e){var t,n;if(rr(e,"dmn:Association")?n=e.sourceRef:rr(e,"dmn:InformationRequirement")?n=e.requiredDecision||e.requiredInput:rr(e,"dmn:KnowledgeRequirement")?n=e.requiredKnowledge:rr(e,"dmn:AuthorityRequirement")&&(n=e.requiredDecision||e.requiredInput||e.requiredAuthority),n&&(t=n.href),t)return this._getShape(Or(t))},_r.prototype._getTarget=function(e){return rr(e,"dmn:Association")?e.targetRef&&this._getShape(Or(e.targetRef.href)):this._getShape(e.$parent.id)},_r.prototype._getShape=function(e){return this._elementRegistry.get(e)};var Er={__depends__:[wr,{drdImporter:["type",_r]}]};var kr={translate:["value",function(e,n){return n=n||{},e.replace(/{([^}]+)}/g,function(e,t){return n[t]||"{"+t+"}"})}]};function jr(e){return e.originalEvent||e.srcEvent}function Sr(e){return e.pointers&&e.pointers.length&&(e=e.pointers[0]),e.touches&&e.touches.length&&(e=e.touches[0]),e?{x:e.clientX,y:e.clientY}:null}function Cr(e,t){return(jr(e)||e).button===t}function Pr(e){return Cr(e,0)}function Tr(e){var t=jr(e)||e;return!!Pr(e)&&(/mac/i.test(navigator.platform)?t.metaKey:t.ctrlKey)}function Dr(e){return!0}function Nr(e){return Pr(e)||function(e){return Cr(e,1)}(e)}function Mr(o,a,n){var r=this;function s(e,t,n){var r,i;!function(e,t){return!(l[e]||Pr)(t)}(e,t)&&(n?i=a.getGraphics(n):(r=t.delegateTarget||t.target)&&(i=r,n=a.get(i)),i&&n&&!1===o.fire(e,{element:n,gfx:i,originalEvent:t})&&(t.stopPropagation(),t.preventDefault()))}var c={};function i(e){return c[e]}var u={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},l={"element.contextmenu":Dr,"element.mousedown":Nr,"element.mouseup":Nr,"element.click":Nr,"element.dblclick":Nr};var f="svg, .djs-element";function p(e,t,n,r){var i=c[n]=function(e){s(n,e)};r&&(l[n]=r),i.$delegate=ht.bind(e,f,t,i)}function h(e,t,n){var r=i(n);r&&ht.unbind(e,t,r.$delegate)}o.on("canvas.destroy",function(e){!function(n){g(u,function(e,t){h(n,t,e)})}(e.svg)}),o.on("canvas.init",function(e){!function(n){g(u,function(e,t){p(n,t,e)})}(e.svg)}),o.on(["shape.added","connection.added"],function(e){var t=e.element,n=e.gfx;o.fire("interactionEvents.createHit",{element:t,gfx:n})}),o.on(["shape.changed","connection.changed"],500,function(e){var t=e.element,n=e.gfx;o.fire("interactionEvents.updateHit",{element:t,gfx:n})}),o.on("interactionEvents.createHit",500,function(e){var t=e.element,n=e.gfx;r.createDefaultHit(t,n)}),o.on("interactionEvents.updateHit",function(e){var t=e.element,n=e.gfx;r.updateDefaultHit(t,n)});var e=y("djs-hit djs-hit-stroke"),t=y("djs-hit djs-hit-click-stroke"),d={all:y("djs-hit djs-hit-all"),"click-stroke":t,stroke:e};function y(e,t){return t=k({stroke:"white",strokeWidth:15},t||{}),n.cls(e,["no-fill","no-border"],t)}function m(e,t){var n=d[t];if(!n)throw new Error("invalid hit type <"+t+">");return Kt(e,n),e}function v(e,t){Gt(e,t)}this.removeHits=function(e){g(function(e,t){return(t=t||document).querySelectorAll(e)}(".djs-hit",e),rn)},this.createDefaultHit=function(e,t){var n,r=e.waypoints,i=e.isFrame;return r?this.createWaypointsHit(t,r):(n=i?"stroke":"all",this.createBoxHit(t,n,{width:e.width,height:e.height}))},this.createWaypointsHit=function(e,t){var n=_n(t);return m(n,"stroke"),v(e,n),n},this.createBoxHit=function(e,t,n){n=k({x:0,y:0},n);var r=cn("rect");return m(r,t),Kt(r,n),v(e,r),r},this.updateDefaultHit=function(e,t){var n=vt(".djs-hit",t);if(n)return e.waypoints?function(e,t){Kt(e,{points:wn(t)})}(n,e.waypoints):Kt(n,{width:e.width,height:e.height}),n},this.fire=s,this.triggerMouseEvent=function(e,t,n){var r=u[e];if(!r)throw new Error("unmapped DOM event name <"+e+">");return s(r,t,n)},this.mouseHandler=i,this.registerEvent=p,this.unregisterEvent=h}Mr.$inject=["eventBus","elementRegistry","styles"];var Rr={__init__:["interactionEvents"],interactionEvents:["type",Mr]};function Ar(e,t,n){this.offset=6;var r=t.cls("djs-outline",["no-fill"]),i=this;function o(e){var t=cn("rect");return Kt(t,k({x:10,y:10,width:100,height:100},r)),Gt(e,t),t}e.on(["shape.added","shape.changed"],500,function(e){var t=e.element,n=e.gfx,r=vt(".djs-outline",n);r=r||o(n),i.updateShapeOutline(r,t)}),e.on(["connection.added","connection.changed"],function(e){var t=e.element,n=e.gfx,r=vt(".djs-outline",n);r=r||o(n),i.updateConnectionOutline(r,t)})}Ar.prototype.updateShapeOutline=function(e,t){Kt(e,{x:-this.offset,y:-this.offset,width:t.width+2*this.offset,height:t.height+2*this.offset})},Ar.prototype.updateConnectionOutline=function(e,t){var n=xn(t);Kt(e,{x:n.x-this.offset,y:n.y-this.offset,width:n.width+2*this.offset,height:n.height+2*this.offset})},Ar.$inject=["eventBus","styles","elementRegistry"];var Ir={__init__:["outline"],outline:["type",Ar]};function Br(e){this._eventBus=e,this._selectedElements=[];var n=this;e.on(["shape.remove","connection.remove"],function(e){var t=e.element;n.deselect(t)}),e.on(["diagram.clear"],function(e){n.select(null)})}Br.$inject=["eventBus"],Br.prototype.deselect=function(e){var t=this._selectedElements,n=t.indexOf(e);if(-1!==n){var r=t.slice();t.splice(n,1),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:t})}},Br.prototype.get=function(){return this._selectedElements},Br.prototype.isSelected=function(e){return-1!==this._selectedElements.indexOf(e)},Br.prototype.select=function(e,t){var n=this._selectedElements,r=n.slice();y(e)||(e=e?[e]:[]),t?g(e,function(e){-1===n.indexOf(e)&&n.push(e)}):this._selectedElements=n=e.slice(),this._eventBus.fire("selection.changed",{oldSelection:r,newSelection:n})};var Lr="selected";function $r(e,n,t,r){function i(e,t){n.addMarker(e,t)}function o(e,t){n.removeMarker(e,t)}this._multiSelectionBox=null,e.on("element.hover",function(e){i(e.element,"hover")}),e.on("element.out",function(e){o(e.element,"hover")}),e.on("selection.changed",function(e){var t=e.oldSelection,n=e.newSelection;g(t,function(e){-1===n.indexOf(e)&&function(e){o(e,Lr)}(e)}),g(n,function(e){-1===t.indexOf(e)&&function(e){i(e,Lr)}(e)})})}function Vr(e,o,a,r){e.on("create.end",500,function(e){var t=e.context,n=t.canExecute,r=t.elements,i=(t.hints||{}).autoSelect;if(n){if(!1===i)return;y(i)?o.select(i):o.select(r.filter(zr))}}),e.on("connect.end",500,function(e){var t=e.context,n=t.canExecute,r=t.hover;n&&r&&o.select(r)}),e.on("shape.move.end",500,function(e){var t=e.previousSelection||[],n=r.get(e.context.shape.id);v(t,function(e){return n.id===e.id})||o.select(n)}),e.on("element.click",function(e){if(Pr(e)){var t=e.element;t===a.getRootElement()&&(t=null);var n=o.isSelected(t),r=1<o.get().length,i=Tr(e)||function(e){var t=jr(e)||e;return Pr(e)&&t.shiftKey}(e);if(n&&r)return i?o.deselect(t):o.select(t);n?o.deselect(t):o.select(t,i)}})}function zr(e){return!e.hidden}$r.$inject=["eventBus","canvas","selection","styles"],Vr.$inject=["eventBus","selection","canvas","elementRegistry"];var Ur={__init__:["selectionVisuals","selectionBehavior"],__depends__:[Rr,Ir],selection:["type",Br],selectionVisuals:["type",$r],selectionBehavior:["type",Vr]};function Fr(e){this._counter=0,this._prefix=(e?e+"-":"")+Math.floor(1e9*Math.random())+"-"}Fr.prototype.next=function(){return this._prefix+ ++this._counter};var Wr=new Fr("ov");function qr(e,t,n,r){this._eventBus=t,this._canvas=n,this._elementRegistry=r,this._ids=Wr,this._overlayDefaults=k({show:null,scale:!0},e&&e.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=function(e){var t=dt('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return e.insertBefore(t,e.firstChild),t}(n.getContainer()),this._init()}function Gr(e,t,n){k(e.style,{left:t+"px",top:n+"px"})}function Hr(e,t){e.style.display=!1===t?"none":""}function Xr(t,n){t.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(e){t.style[e+"transform"]=n})}qr.$inject=["config.overlays","eventBus","canvas","elementRegistry"],qr.prototype.get=function(e){if(a(e)&&(e={id:e}),a(e.element)&&(e.element=this._elementRegistry.get(e.element)),e.element){var t=this._getOverlayContainer(e.element,!0);return t?e.type?f(t.overlays,h({type:e.type})):t.overlays.slice():[]}return e.type?f(this._overlays,h({type:e.type})):e.id?this._overlays[e.id]:null},qr.prototype.add=function(e,t,n){if(m(t)&&(n=t,t=null),e.id||(e=this._elementRegistry.get(e)),!n.position)throw new Error("must specifiy overlay position");if(!n.html)throw new Error("must specifiy overlay html");if(!e)throw new Error("invalid element specified");var r=this._ids.next();return n=k({},this._overlayDefaults,n,{id:r,type:t,element:e,html:n.html}),this._addOverlay(n),r},qr.prototype.remove=function(e){var t=this.get(e)||[];y(t)||(t=[t]);var r=this;g(t,function(e){var t=r._getOverlayContainer(e.element,!0);if(e&&(gt(e.html),gt(e.htmlContainer),delete e.htmlContainer,delete e.element,delete r._overlays[e.id]),t){var n=t.overlays.indexOf(e);-1!==n&&t.overlays.splice(n,1)}})},qr.prototype.show=function(){Hr(this._overlayRoot)},qr.prototype.hide=function(){Hr(this._overlayRoot,!1)},qr.prototype.clear=function(){this._overlays={},this._overlayContainers=[],nt(this._overlayRoot)},qr.prototype._updateOverlayContainer=function(e){var t=e.element,n=e.html,r=t.x,i=t.y;if(t.waypoints){var o=xn(t);r=o.x,i=o.y}Gr(n,r,i),Ye(e.html,"data-container-id",t.id)},qr.prototype._updateOverlay=function(e){var t,n,r=e.position,i=e.htmlContainer,o=e.element,a=r.left,s=r.top;void 0!==r.right&&(t=o.waypoints?xn(o).width:o.width,a=-1*r.right+t);void 0!==r.bottom&&(n=o.waypoints?xn(o).height:o.height,s=-1*r.bottom+n);Gr(i,a||0,s||0)},qr.prototype._createOverlayContainer=function(e){var t=dt('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(t);var n={html:t,element:e,overlays:[]};return this._updateOverlayContainer(n),this._overlayContainers.push(n),n},qr.prototype._updateRoot=function(e){var t=e.scale||1,n="matrix("+[t,0,0,t,-1*e.x*t,-1*e.y*t].join(",")+")";Xr(this._overlayRoot,n)},qr.prototype._getOverlayContainer=function(t,e){var n=v(this._overlayContainers,function(e){return e.element===t});return n||e?n:this._createOverlayContainer(t)},qr.prototype._addOverlay=function(e){var t,n,r=e.id,i=e.element,o=e.html;o.get&&o.constructor.prototype.jquery&&(o=o.get(0)),a(o)&&(o=dt(o)),n=this._getOverlayContainer(i),(t=dt('<div class="djs-overlay" data-overlay-id="'+r+'" style="position: absolute">')).appendChild(o),e.type&&et(t).add("djs-overlay-"+e.type),e.htmlContainer=t,n.overlays.push(e),n.html.appendChild(t),this._overlays[r]=e,this._updateOverlay(e),this._updateOverlayVisibilty(e,this._canvas.viewbox())},qr.prototype._updateOverlayVisibilty=function(e,t){var n=e.show,r=n&&n.minZoom,i=n&&n.maxZoom,o=e.htmlContainer,a=!0;n&&((c(r)&&r>t.scale||c(i)&&i<t.scale)&&(a=!1),Hr(o,a)),this._updateOverlayScale(e,t)},qr.prototype._updateOverlayScale=function(e,t){var n,r,i,o=e.scale,a=e.htmlContainer,s="";!0!==o&&(r=!1===o?n=1:(n=o.min,o.max),c(n)&&t.scale<n&&(i=(1/t.scale||1)*n),c(r)&&t.scale>r&&(i=(1/t.scale||1)*r)),c(i)&&(s="scale("+i+","+i+")"),Xr(a,s)},qr.prototype._updateOverlaysVisibilty=function(t){var n=this;g(this._overlays,function(e){n._updateOverlayVisibilty(e,t)})},qr.prototype._init=function(){var e=this._eventBus,i=this;e.on("canvas.viewbox.changing",function(e){i.hide()}),e.on("canvas.viewbox.changed",function(e){!function(e){i._updateRoot(e),i._updateOverlaysVisibilty(e),i.show()}(e.viewbox)}),e.on(["shape.remove","connection.remove"],function(e){var t=e.element;g(i.get({element:t}),function(e){i.remove(e.id)});var n=i._getOverlayContainer(t);if(n){gt(n.html);var r=i._overlayContainers.indexOf(n);-1!==r&&i._overlayContainers.splice(r,1)}}),e.on("element.changed",500,function(e){var t=e.element,n=i._getOverlayContainer(t,!0);n&&(g(n.overlays,function(e){i._updateOverlay(e)}),i._updateOverlayContainer(n))}),e.on("element.marker.update",function(e){var t=i._getOverlayContainer(e.element,!0);t&&et(t.html)[e.add?"add":"remove"](e.marker)}),e.on("diagram.clear",this.clear,this)};var Yr={__init__:["overlays"],overlays:["type",qr]};function Kr(e,t){this._eventBus=e,this._canvas=t,e.on("diagram.init",function(){this._init()},this),e.on("import.done",function(e){e.error||this.update()},this)}function Zr(e,n){function t(e,t){et(n.getContainer()).toggle(e,t)}e.on("palette.create",function(){t("with-palette",!0)}),e.on("palette.changed",function(e){t("with-palette-two-column",e.twoColumn)})}Kr.$inject=["eventBus","canvas"],Kr.prototype._init=function(){var e=this._canvas,t=this._eventBus,n=e.getContainer(),r=this._container=dt(Kr.HTML_MARKUP);n.appendChild(r),this.nameElement=vt(".dmn-definitions-name",this._container),this.idElement=vt(".dmn-definitions-id",this._container),ht.bind(r,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(e){e.stopPropagation()}),t.fire("definitionIdView.create",{html:r})},Kr.prototype.update=function(){var e=this._canvas.getRootElement().businessObject;this.nameElement.textContent=e.name,this.idElement.textContent=e.id},Kr.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>',Zr.$inject=["eventBus","canvas"];var Qr={__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",Kr],definitionPropertiesPaletteAdapter:["type",Zr]};function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ei=[{className:"dmn-icon-decision-table",matches:function(e){var t=e.businessObject;return rr(t,"dmn:Decision")&&rr(t.decisionLogic,"dmn:DecisionTable")}},{className:"dmn-icon-literal-expression",matches:function(e){var t=e.businessObject;return rr(t,"dmn:Decision")&&rr(t.decisionLogic,"dmn:LiteralExpression")}}],ti=function(){function i(e,t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this._injector=e,this._eventBus=t,this._overlays=n,this._config=r||{enabled:!0},t.on(["shape.added"],function(e){for(var t=e.element,n=0;n<ei.length;n++){var r=ei[n],i=r.matches,o=r.className;i&&i(t)&&a.addOverlay(t,o)}})}return function(e,t,n){t&&Jr(e.prototype,t),n&&Jr(e,n)}(i,[{key:"addOverlay",value:function(e,t){var n=dt('\n      <div class="drill-down-overlay">\n        <span class="'.concat(t,'"></span>\n      </div>\n    ')),r=this._overlays.add(e,{position:{top:2,left:2},html:n});!1!==this._config.enabled&&(et(n).add("interactive"),this.bindEventListener(e,n,r))}},{key:"bindEventListener",value:function(e,t,n){var r=this,i=this._overlays,o=this._eventBus,a=i._overlayRoot;ht.bind(a,'[data-overlay-id="'+n+'"]',"click",function(){!1!==o.fire("drillDown.click",{element:e})&&r.drillDown(e)})}},{key:"drillDown",value:function(e){var t=this._injector.get("_parent",!1);if(!t)return!1;var n=t.getView(e.businessObject);return!!n&&(t.open(n),!0)}}]),i}();ti.$inject=["injector","eventBus","overlays","config.drillDown"];var ni={__depends__:[Yr],__init__:["drillDown"],drillDown:["type",ti]},ri='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.02 5.57" width="53" height="21" style="vertical-align:middle"><path fill="#000000" d="M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"/><path fill="#000000" d="M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"/></svg>';
/**
   * This file must not be changed or exchanged.
   *
   * @see http://bpmn.io/license for more information.
   */function ii(e){return e.join(";")}var oi,ai='<div class="bjs-powered-by-lightbox" style="'+ii(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"])+'"><div class="backdrop" style="'+ii(["width: 100%","height: 100%","background: rgba(40,40,40,0.2)"])+'"></div><div class="notice" style="'+ii(["position: absolute","left: 50%","top: 40%","transform: translate(-50%)","width: 260px","padding: 10px","background: white","box-shadow: 0 1px 4px rgba(0,0,0,0.3)","font-family: Helvetica, Arial, sans-serif","font-size: 14px","display: flex","line-height: 1.3"])+'"><a href="https://bpmn.io" target="_blank" rel="noopener" style="margin: 15px 20px 15px 10px; align-self: center;">'+ri+'</a><span>Web-based tooling for BPMN, DMN and CMMN diagrams powered by <a href="https://bpmn.io" target="_blank" rel="noopener">bpmn.io</a>.</span></div></div>';function si(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?si(n,!0).forEach(function(e){ui(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):si(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function ui(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pi(e){this._container=this._createContainer(),
/**
   * Adds the project logo to the diagram container as
   * required by the bpmn.io license.
   *
   * @see http://bpmn.io/license
   *
   * @param {Element} container
   */
function(e){var t=dt('<a href="http://bpmn.io" target="_blank" class="bjs-powered-by" title="Powered by bpmn.io" style="position: absolute; bottom: 15px; right: 15px; z-index: 100;">'+ri+"</a>");e.appendChild(t),lt.bind(t,"click",function(e){oi||(oi=dt(ai),ht.bind(oi,".backdrop","click",function(e){document.body.removeChild(oi)})),document.body.appendChild(oi),e.preventDefault()})}(this._container),this._init(this._container,e)}function hi(e,t){return{x:e.x-t.x,y:e.y-t.y}}function di(e){return Math.log(e)/Math.log(10)}function yi(e,t){var n=di(e.min),r=di(e.max);return(Math.abs(n)+Math.abs(r))/t}Nt(pi,nr),pi.prototype.saveSVG=function(e,t){t||(t=e,e={});var n=this.get("canvas"),r=n.getDefaultLayer(),i=vt("defs",n._svg),o=vn(r),a=i&&i.outerHTML||"",s=r.getBBox();t(null,'<?xml version="1.0" encoding="utf-8"?>\n\x3c!-- created with dmn-js / http://bpmn.io --\x3e\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+s.width+'" height="'+s.height+'" viewBox="'+s.x+" "+s.y+" "+s.width+" "+s.height+'" version="1.1">'+a+o+"</svg>")},pi.prototype.getModules=function(){return this._modules},pi.prototype.destroy=function(){nr.prototype.destroy.call(this),gt(this._container)},pi.prototype.on=function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)},pi.prototype.off=function(e,t){this.get("eventBus").off(e,t)},pi.prototype._init=function(e,t){var n=t.additionalModules,r=t.canvas,i=fi(t,["additionalModules","canvas"]),o=t.modules||this.getModules(),a=[].concat([{drd:["value",this]}],li(o),li(n||[])),s=ci({},i,{canvas:ci({},r,{container:e}),modules:a});nr.call(this,s),t&&t.container&&this.attachTo(t.container)},pi.prototype._emit=function(e,t){return this.get("eventBus").fire(e,t)},pi.prototype._createContainer=function(){return dt('<div class="dmn-drd-container"></div>')},pi.prototype.open=function(e,t){var n;try{return this._definitions&&this.clear(),this._definitions=e,function(e,t,n){var r,i,o=e.get("drdImporter"),a=e.get("eventBus"),s=[];a.fire("import.start",{definitions:t});try{i=t,new ar({root:function(e){return o.root(e)},element:function(e,t){return o.add(e,t)},error:function(e,t){s.push({message:e,context:t})}}).handleDefinitions(i)}catch(e){r=e}a.fire("import.done",{error:r,warnings:s}),n(r,s)}(this,e,t)}catch(e){n=e}return t(n)},pi.prototype.attachTo=function(e){if(!e)throw new Error("parentNode required");this.detach();var t=this._container;e.appendChild(t),this._emit("attach",{}),this.get("canvas").resized()},pi.prototype.detach=function(){var e=this._container,t=e.parentNode;t&&(this._emit("detach",{}),t.removeChild(e))},pi.prototype._modules=[Er,kr,Ur,Yr,Qr,ni];var mi=Math.sign||function(e){return 0<=e?1:-1},vi={min:.2,max:4};function gi(t,e,n){t=t||{},this._enabled=!1,this._canvas=n,this._container=n._container,this._handleWheel=O(this._handleWheel,this),this._totalDelta=0,this._scale=t.scale||.75;var r=this;e.on("canvas.init",function(e){r._init(!1!==t.enabled)})}gi.$inject=["config.zoomScroll","eventBus","canvas"],gi.prototype.scroll=function(e){this._canvas.scroll(e)},gi.prototype.reset=function(){this._canvas.zoom("fit-viewport")},gi.prototype.zoom=function(e,t){var n=yi(vi,20);this._totalDelta+=e,.1<Math.abs(this._totalDelta)&&(this._zoom(e,t,n),this._totalDelta=0)},gi.prototype._handleWheel=function(e){if(!at(e.target,".djs-scrollable",!0)){var t=this._container;e.preventDefault();var n,r=e.ctrlKey,i=e.shiftKey,o=-1*this._scale;if(o*=r?0===e.deltaMode?.02:.32:0===e.deltaMode?1:16,r){var a=t.getBoundingClientRect(),s={x:e.clientX-a.left,y:e.clientY-a.top};n=Math.sqrt(Math.pow(e.deltaY,2)+Math.pow(e.deltaX,2))*mi(e.deltaY)*o,this.zoom(n,s)}else n=i?{dx:o*e.deltaY,dy:0}:{dx:o*e.deltaX,dy:o*e.deltaY},this.scroll(n)}},gi.prototype.stepZoom=function(e,t){var n=yi(vi,10);this._zoom(e,t,n)},gi.prototype._zoom=function(e,t,n){var r=this._canvas,i=0<e?1:-1,o=di(r.zoom()),a=Math.round(o/n)*n;a+=n*i;var s=Math.pow(10,a);r.zoom(function(e,t){return Math.max(e.min,Math.min(e.max,t))}(vi,s),t)},gi.prototype.toggle=function(e){var t=this._container,n=this._handleWheel,r=this._enabled;return void 0===e&&(e=!r),r!==e&&lt[e?"bind":"unbind"](t,"wheel",n,!1),this._enabled=e},gi.prototype._init=function(e){this.toggle(e)};var bi={__init__:["zoomScroll"],zoomScroll:["type",gi]},wi=/^djs-cursor-.*$/;function _i(e){var t=et(document.body);t.removeMatching(wi),e&&t.add("djs-cursor-"+e)}var xi=5e3;function Oi(o,a){var s;function n(e){var t=s.start,n=s.button,r=Sr(e),i=hi(r,t);!s.dragging&&15<function(e){return Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2))}(i)&&(s.dragging=!0,0===n&&function(e,t){function n(){return!1}t=t||"element.click",e.once(t,xi,n)}(o),_i("grab")),s.dragging&&(i=hi(r,s.last||s.start),a.scroll({dx:i.x,dy:i.y}),s.last=r);e.preventDefault()}function r(e){lt.unbind(document,"mousemove",n),lt.unbind(document,"mouseup",r),_i(s=null)}o.on("element.mousedown",500,function(e){return function(e){if(at(e.target,".djs-draggable"))return;var t=e.button;if(2<=t||e.ctrlKey||e.shiftKey||e.altKey)return;return s={button:t,start:Sr(e)},lt.bind(document,"mousemove",n),lt.bind(document,"mouseup",r),!0}(e.originalEvent)}),this.isActive=function(){return!!s}}Oi.$inject=["eventBus","canvas"];var Ei={__init__:["moveCanvas"],moveCanvas:["type",Oi]},ki=Dt(function(We){
/*! Hammer.JS - v2.0.7 - 2016-04-22
     * http://hammerjs.github.io/
     *
     * Copyright (c) 2016 Jorik Tangelder;
     * Licensed under the MIT license */
!function(o,i,e,f){var a,s=["","webkit","Moz","MS","ms","o"],t=i.createElement("div"),n="function",c=Math.round,p=Math.abs,h=Date.now;function u(e,t,n){return setTimeout(g(e,n),t)}function r(e,t,n){return!!Array.isArray(e)&&(l(e,n[t],n),!0)}function l(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==f)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function d(r,e,t){var i="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",n=o.console&&(o.console.warn||o.console.log);return n&&n.call(o.console,i,t),r.apply(this,arguments)}}a="function"!=typeof Object.assign?function(e){if(e===f||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==f&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var y=d(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===f)&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),m=d(function(e,t){return y(e,t,!0)},"merge","Use `assign`.");function v(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&a(r,n)}function g(e,t){return function(){return e.apply(t,arguments)}}function b(e,t){return qe(e)==n?e.apply(t&&t[0]||f,t):e}function w(e,t){return e===f?t:e}function _(t,e,n){l(k(e),function(e){t.addEventListener(e,n,!1)})}function x(t,e,n){l(k(e),function(e){t.removeEventListener(e,n,!1)})}function O(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function E(e,t){return-1<e.indexOf(t)}function k(e){return e.trim().split(/\s+/g)}function j(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function S(e){return Array.prototype.slice.call(e,0)}function C(e,n,t){for(var r=[],i=[],o=0;o<e.length;){var a=n?e[o][n]:e[o];j(i,a)<0&&r.push(e[o]),i[o]=a,o++}return t&&(r=n?r.sort(function(e,t){return e[n]>t[n]}):r.sort()),r}function P(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<s.length;){if((r=(n=s[o])?n+i:t)in e)return r;o++}return f}var T=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var N="ontouchstart"in o,M=P(o,"PointerEvent")!==f,R=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),A="touch",I=25,B=1,L=4,$=8,V=1,z=2,U=4,F=8,W=16,q=z|U,G=F|W,H=q|G,X=["x","y"],Y=["clientX","clientY"];function K(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){b(t.options.enable,[t])&&n.handler(e)},this.init()}function Z(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=t&B&&r-i==0,a=t&(L|$)&&r-i==0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=Q(t));1<i&&!n.firstMultiple?n.firstMultiple=Q(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,c=t.center=J(r);t.timeStamp=h(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=re(s,c),t.distance=ne(s,c),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};t.eventType!==B&&o.eventType!==L||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=te(t.deltaX,t.deltaY);var u=ee(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=p(u.x)>p(u.y)?u.x:u.y,t.scale=a?function(e,t){return ne(t[0],t[1],Y)/ne(e[0],e[1],Y)}(a.pointers,r):1,t.rotation=a?function(e,t){return re(t[1],t[0],Y)+re(e[1],e[0],Y)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(t.eventType!=$&&(I<s||a.velocity===f)){var c=t.deltaX-a.deltaX,u=t.deltaY-a.deltaY,l=ee(s,c,u);r=l.x,i=l.y,n=p(l.x)>p(l.y)?l.x:l.y,o=te(c,u),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var l=e.element;O(t.srcEvent.target,l)&&(l=t.srcEvent.target);t.target=l}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function Q(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:c(e.pointers[n].clientX),clientY:c(e.pointers[n].clientY)},n++;return{timeStamp:h(),pointers:t,center:J(t),deltaX:e.deltaX,deltaY:e.deltaY}}function J(e){var t=e.length;if(1===t)return{x:c(e[0].clientX),y:c(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:c(n/t),y:c(r/t)}}function ee(e,t,n){return{x:t/e||0,y:n/e||0}}function te(e,t){return e===t?V:p(e)>=p(t)?e<0?z:U:t<0?F:W}function ne(e,t,n){var r=t[(n=n||X)[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function re(e,t,n){var r=t[(n=n||X)[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}K.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(D(this.element),this.evWin,this.domHandler)}};var ie={mousedown:B,mousemove:2,mouseup:L},oe="mousedown",ae="mousemove mouseup";function se(){this.evEl=oe,this.evWin=ae,this.pressed=!1,K.apply(this,arguments)}v(se,K,{handler:function(e){var t=ie[e.type];t&B&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=L),this.pressed&&(t&L&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var ce={pointerdown:B,pointermove:2,pointerup:L,pointercancel:$,pointerout:$},ue={2:A,3:"pen",4:"mouse",5:"kinect"},le="pointerdown",fe="pointermove pointerup pointercancel";function pe(){this.evEl=le,this.evWin=fe,K.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(le="MSPointerDown",fe="MSPointerMove MSPointerUp MSPointerCancel"),v(pe,K,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=ce[r],o=ue[e.pointerType]||e.pointerType,a=o==A,s=j(t,e.pointerId,"pointerId");i&B&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):i&(L|$)&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))}});var he={touchstart:B,touchmove:2,touchend:L,touchcancel:$};function de(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,K.apply(this,arguments)}v(de,K,{handler:function(e){var t=he[e.type];if(t===B&&(this.started=!0),this.started){var n=function(e,t){var n=S(e.touches),r=S(e.changedTouches);t&(L|$)&&(n=C(n.concat(r),"identifier",!0));return[n,r]}.call(this,e,t);t&(L|$)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:A,srcEvent:e})}}});var ye={touchstart:B,touchmove:2,touchend:L,touchcancel:$},me="touchstart touchmove touchend touchcancel";function ve(){this.evTarget=me,this.targetIds={},K.apply(this,arguments)}v(ve,K,{handler:function(e){var t=ye[e.type],n=function(e,t){var n=S(e.touches),r=this.targetIds;if(t&(2|B)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,a=S(e.changedTouches),s=[],c=this.target;if(o=n.filter(function(e){return O(e.target,c)}),t===B)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;i=0;for(;i<a.length;)r[a[i].identifier]&&s.push(a[i]),t&(L|$)&&delete r[a[i].identifier],i++;return s.length?[C(o.concat(s),"identifier",!0),s]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:A,srcEvent:e})}});var ge=2500;function be(){K.apply(this,arguments);var e=g(this.handler,this);this.touch=new ve(this.manager,e),this.mouse=new se(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function we(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var e=r.indexOf(n);-1<e&&r.splice(e,1)},ge)}}v(be,K,{handler:function(e,t,n){var r=n.pointerType==A,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)(function(e,t){e&B?(this.primaryTouch=t.changedPointers[0].identifier,we.call(this,t)):e&(L|$)&&we.call(this,t)}).call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var _e=P(t.style,"touchAction"),xe=_e!==f,Oe="manipulation",Ee="none",ke="pan-x",je="pan-y",Se=function(){if(!xe)return!1;var t={},n=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!n||o.CSS.supports("touch-action",e)}),t}();function Ce(e,t){this.manager=e,this.set(t)}Ce.prototype={set:function(e){"compute"==e&&(e=this.compute()),xe&&this.manager.element.style&&Se[e]&&(this.manager.element.style[_e]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return l(this.manager.recognizers,function(e){b(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(e){if(E(e,Ee))return Ee;var t=E(e,ke),n=E(e,je);if(t&&n)return Ee;if(t||n)return t?ke:je;if(E(e,Oe))return Oe;return"auto"}(t.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=E(r,Ee)&&!Se.none,o=E(r,je)&&!Se[je],a=E(r,ke)&&!Se[ke];if(i){var s=1===e.pointers.length,c=e.distance<2,u=e.deltaTime<250;if(s&&c&&u)return}if(!a||!o)return i||o&&n&q||a&&n&G?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var Pe=1;function Te(e){this.options=a({},this.defaults,e||{}),this.id=T++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=Pe,this.simultaneous={},this.requireFail=[]}function De(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function Ne(e){return e==W?"down":e==F?"up":e==z?"left":e==U?"right":""}function Me(e,t){var n=t.manager;return n?n.get(e):e}function Re(){Te.apply(this,arguments)}function Ae(){Re.apply(this,arguments),this.pX=null,this.pY=null}function Ie(){Re.apply(this,arguments)}function Be(){Te.apply(this,arguments),this._timer=null,this._input=null}function Le(){Re.apply(this,arguments)}function $e(){Re.apply(this,arguments)}function Ve(){Te.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ze(e,t){return(t=t||{}).recognizers=w(t.recognizers,ze.defaults.preset),new Ue(e,t)}Te.prototype={defaults:{},set:function(e){return a(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(r(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Me(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return r(e,"dropRecognizeWith",this)||(e=Me(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(r(e,"requireFailure",this))return this;var t=this.requireFail;return-1===j(t,e=Me(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(r(e,"dropRequireFailure",this))return this;e=Me(e,this);var t=j(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){var n=this,e=this.state;function r(e){n.manager.emit(e,t)}e<8&&r(n.options.event+De(e)),r(n.options.event),t.additionalEvent&&r(t.additionalEvent),8<=e&&r(n.options.event+De(e))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|Pe)))return!1;e++}return!0},recognize:function(e){var t=a({},e);if(!b(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Pe),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(){},getTouchAction:function(){},reset:function(){}},v(Re,Te,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(n&$||!i)?16|t:r||i?n&L?8|t:2&t?4|t:2:32}}),v(Ae,Re,{defaults:{event:"pan",threshold:10,pointers:1,direction:H},getTouchAction:function(){var e=this.options.direction,t=[];return e&q&&t.push(je),e&G&&t.push(ke),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(r=t.direction&q?(i=0===o?V:o<0?z:U,n=o!=this.pX,Math.abs(e.deltaX)):(i=0===a?V:a<0?F:W,n=a!=this.pY,Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return Re.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Ne(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),v(Ie,Re,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),v(Be,Te,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||e.eventType&(L|$)&&!i)this.reset();else if(e.eventType&B)this.reset(),this._timer=u(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&L)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&L?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=h(),this.manager.emit(this.options.event,this._input)))}}),v(Le,Re,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ee]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),v($e,Re,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:q|G,pointers:1},getTouchAction:function(){return Ae.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(q|G)?t=e.overallVelocity:n&q?t=e.overallVelocityX:n&G&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&e.eventType&L},emit:function(e){var t=Ne(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),v(Ve,Te,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&B&&0===this.count)return this.failTimeout();if(r&&i&&n){if(e.eventType!=L)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||ne(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=u(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=u(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ze.VERSION="2.0.7",ze.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Le,{enable:!1}],[Ie,{enable:!1},["rotate"]],[$e,{direction:q}],[Ae,{direction:q},["swipe"]],[Ve],[Ve,{event:"doubletap",taps:2},["tap"]],[Be]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ue(e,t){this.options=a({},ze.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(M?pe:R?ve:N?be:se))(e,Z)}(this),this.touchAction=new Ce(this,this.options.touchAction),Fe(this,!0),l(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function Fe(n,r){var i,o=n.element;o.style&&(l(n.options.cssProps,function(e,t){i=P(o.style,t),r?(n.oldCssProps[i]=o.style[i],o.style[i]=e):o.style[i]=n.oldCssProps[i]||""}),r||(n.oldCssProps={}))}Ue.prototype={set:function(e){return a(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Te)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(r(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){if(r(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=j(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==f&&t!==f){var n=this.handlers;return l(k(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==f){var n=this.handlers;return l(k(e),function(e){t?n[e]&&n[e].splice(j(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),(n.gesture=t).target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Fe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(ze,{INPUT_START:B,INPUT_MOVE:2,INPUT_END:L,INPUT_CANCEL:$,STATE_POSSIBLE:Pe,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:V,DIRECTION_LEFT:z,DIRECTION_RIGHT:U,DIRECTION_UP:F,DIRECTION_DOWN:W,DIRECTION_HORIZONTAL:q,DIRECTION_VERTICAL:G,DIRECTION_ALL:H,Manager:Ue,Input:K,TouchAction:Ce,TouchInput:ve,MouseInput:se,PointerEventInput:pe,TouchMouseInput:be,SingleTouchInput:de,Recognizer:Te,AttrRecognizer:Re,Tap:Ve,Pan:Ae,Swipe:$e,Pinch:Ie,Rotate:Le,Press:Be,on:_,off:x,each:l,merge:m,extend:y,assign:a,inherit:v,bindFn:g,prefixed:P}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=ze,"function"==typeof f&&f.amd?f(function(){return ze}):We.exports?We.exports=ze:o.Hammer=ze}(window,document)}),ji=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];function Si(e,t){return t.get(e,!1)}function Ci(e){e.preventDefault(),"function"==typeof e.stopPropagation?e.stopPropagation():e.srcEvent&&"function"==typeof e.srcEvent.stopPropagation&&e.srcEvent.stopPropagation(),"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()}function Pi(t){function e(e){setTimeout(function(){g(ji,function(e){lt.unbind(t,e,Ci,!0)})},500)}lt.bind(t,"touchstart",function(e){g(ji,function(e){lt.bind(t,e,Ci,!0)})},!0),lt.bind(t,"touchend",e,!0),lt.bind(t,"touchcancel",e,!0);var i=new ki.Manager(t,{inputClass:ki.TouchInput,recognizers:[],domEvents:!0}),n=new ki.Tap,r=new ki.Pan({threshold:10}),o=new ki.Press,a=new ki.Pinch,s=new ki.Tap({event:"doubletap",taps:2});return a.requireFailure(r),a.requireFailure(o),i.add([r,o,a,s,n]),i.reset=function(e){var n=this.recognizers,r=this.session;r.stopped||(i.stop(e),setTimeout(function(){var e,t;for(e=0;t=n[e];e++)t.reset(),t.state=8;r.curRecognizer=null},0))},i.on("hammer.input",function(e){e.srcEvent.defaultPrevented&&i.reset(!0)}),i}function Ti(e,o,t,a,n){var s,c=Si("dragging",e),r=Si("move",e),i=Si("contextPad",e),u=Si("palette",e);function l(t){return function(e){n.fire(t,e)}}function f(e){return at(e,"svg, .djs-element",!0)}function p(e){function t(e){var t=f(e.target),n=t&&a.get(t);if(r&&o.getRootElement()!==n)return r.start(e,n,!0);!function(){var r=0,i=0;function t(e){var t=e.deltaX-r,n=e.deltaY-i;o.scroll({dx:t,dy:n}),r=e.deltaX,i=e.deltaY}function n(e){s.off("panmove",t),s.off("panend",n),s.off("pancancel",n)}s.on("panmove",t),s.on("panend",n),s.on("pancancel",n)}()}(s=Pi(e)).on("doubletap",l("element.dblclick")),s.on("tap",l("element.click")),s.on("panstart",t),s.on("press",t),s.on("pinchstart",function(e){var r=o.zoom(),i=e.center;function t(e){var t=1-(1-e.scale)/1.5,n=Math.max(.2,Math.min(4,t*r));o.zoom(n,i),Ci(e)}function n(e){s.off("pinchmove",t),s.off("pinchend",n),s.off("pinchcancel",n),s.reset(!0)}s.on("pinchmove",t),s.on("pinchend",n),s.on("pinchcancel",n)})}c&&t.on("drag.move",function(e){var t=e.originalEvent;if(t&&!(t instanceof MouseEvent)){var n=Sr(t),r=f(document.elementFromPoint(n.x,n.y)),i=r&&a.get(r);i!==e.hover&&(e.hover&&c.out(e),i&&(c.hover({element:i,gfx:r}),e.hover=i,e.hoverGfx=r))}}),i&&t.on("contextPad.create",function(e){var t=Pi(e.pad.html);t.on("panstart",function(e){i.trigger("dragstart",e,!0)}),t.on("press",function(e){i.trigger("dragstart",e,!0)}),t.on("tap",function(e){i.trigger("click",e)})}),u&&t.on("palette.create",function(e){var t=Pi(e.container);t.on("panstart",function(e){u.trigger("dragstart",e,!0)}),t.on("press",function(e){u.trigger("dragstart",e,!0)}),t.on("tap",function(e){u.trigger("click",e)})}),t.on("canvas.init",function(e){p(e.svg)})}function Di(e,t){var n=this;t.on("canvas.init",function(e){n.addBBoxMarker(e.svg)})}Ti.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"],Di.$inject=["canvas","eventBus"],Di.prototype.addBBoxMarker=function(e){var t={fill:"none",class:"outer-bound-marker"},n=cn("rect");Kt(n,{x:-1e4,y:1e4,width:10,height:10}),Kt(n,t),Gt(e,n);var r=cn("rect");Kt(r,{x:1e4,y:1e4,width:10,height:10}),Kt(r,t),Gt(e,r)};var Ni={__depends__:[{__depends__:[Rr],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",Ti],touchFix:["type",Di]}]};function Mi(e){pi.call(this,e)}function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Ai(e,t){return!t||"object"!==Ri(t)&&"function"!=typeof t?Bi(e):t}function Ii(e){return(Ii=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Li(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}function $i(e,t){return($i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Nt(Mi,pi),Mi.prototype._modules=[].concat(Mi.prototype._modules,Mi.prototype._navigationModules=[bi,Ei,Ni]);function zi(e){Vi(this,zi),k(this,e),Fi(this,"businessObject",{writable:!0})}var Ui={root:function(){function n(e){var t;return Vi(this,n),Fi(Bi(t=Ai(this,Ii(n).call(this,e))),"rows",{enumerable:!0,value:t.rows||[]}),Fi(Bi(t),"cols",{enumerable:!0,value:t.cols||[]}),t}return Li(n,zi),n}(),row:function(){function n(e){var t;return Vi(this,n),Fi(Bi(t=Ai(this,Ii(n).call(this,e))),"root",{writable:!0}),Fi(Bi(t),"cells",{enumerable:!0,value:t.cells||[]}),t}return Li(n,zi),n}(),col:function(){function n(e){var t;return Vi(this,n),Fi(Bi(t=Ai(this,Ii(n).call(this,e))),"root",{writable:!0}),Fi(Bi(t),"cells",{enumerable:!0,value:t.cells||[]}),t}return Li(n,zi),n}(),cell:function(){function n(e){var t;return Vi(this,n),Fi(Bi(t=Ai(this,Ii(n).call(this,e))),"row",{writable:!0}),Fi(Bi(t),"col",{writable:!0}),t}return Li(n,zi),n}()};function Fi(e,t,n){Object.defineProperty(e,t,n)}function Wi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var qi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uid=12}return function(e,t,n){t&&Wi(e.prototype,t),n&&Wi(e,n)}(e,[{key:"create",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};return n.id||(n.id=e+"_"+this._uid++),function(e,t){var n=Ui[e];if(!n)throw new Error("unknown type "+e);return new n(t)}(e,n)}},{key:"createRoot",value:function(e){return this.create("root",e)}},{key:"createRow",value:function(e){return this.create("row",e)}},{key:"createCol",value:function(e){return this.create("col",e)}},{key:"createCell",value:function(e){return this.create("cell",e)}}]),e}();function Gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hi=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._eventBus=e,this._elements={},e.on("table.clear",this.clear.bind(this))}return function(e,t,n){t&&Gi(e.prototype,t),n&&Gi(e,n)}(t,[{key:"add",value:function(e){var t=e.id;this._elements[t]=e}},{key:"remove",value:function(e){var t=e.id||e;delete this._elements[t]}},{key:"get",value:function(e){return this._elements[e]}},{key:"getAll",value:function(){return Xi(this._elements)}},{key:"forEach",value:function(t){Xi(this._elements).forEach(function(e){return t(e)})}},{key:"filter",value:function(t){return Xi(this._elements).filter(function(e){return t(e)})}},{key:"clear",value:function(){this._elements={}}},{key:"updateId",value:function(e,t){this._validateId(t),"string"==typeof e&&(e=this.get(e)),this._eventBus.fire("element.updateId",{element:e,newId:t}),this.remove(e),e.id=t,this.add(e)}},{key:"_validateId",value:function(e){if(!e)throw new Error("element must have an id");if(this._elements[e])throw new Error("element with id "+e+" already added")}}]),t}();function Xi(t){return Object.keys(t).map(function(e){return t[e]})}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Hi.$inject=["eventBus"];var Ki=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={},t.on("elements.changed",function(e){var t=e.elements;r.elementsChanged(t)}),t.on("root.remove",function(e){var n=e.root.id;r._listeners[n]&&t.once("root.add",function(e){var t=e.root.id;r.updateId(n,t)})}),t.on("element.updateId",function(e){var t=e.element,n=e.newId;r.updateId(t.id,n)})}return function(e,t,n){t&&Yi(e.prototype,t),n&&Yi(e,n)}(e,[{key:"elementsChanged",value:function(e){for(var t={},n=e.length,r=0;r<n;r++){var i=e[r].id;if(t[i])return;t[i]=!0;var o=this._listeners[i]&&this._listeners[i].length;if(o)for(var a=0;a<o;a++)this._listeners[i][a]&&this._listeners[i][a]()}}},{key:"onElementsChanged",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}},{key:"offElementsChanged",value:function(e,t){if(this._listeners[e])if(t){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}},{key:"updateId",value:function(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}]),e}();function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Ki.$inject=["eventBus"];var Qi=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={}}return function(e,t,n){t&&Zi(e.prototype,t),n&&Zi(e,n)}(e,[{key:"getComponent",value:function(e,t){var n=this._listeners[e];if(n){for(var r,i=0;i<n.length&&!(r=n[i].callback(t));i++);return r}}},{key:"getComponents",value:function(e,t){var n=this._listeners[e],r=[];if(!n)return r;for(var i=0;i<n.length;i++){var o=n[i].callback(t);o&&r.push(o)}return r.length,r}},{key:"onGetComponent",value:function(e,t,n){if(l(t)&&(n=t,t=1e3),!u(t))throw new Error("priority must be a number");var r,i,o=this._getListeners(e),a={priority:t,callback:n};for(i=0;r=o[i];i++)if(r.priority<t)return void o.splice(i,0,a);o.push(a)}},{key:"offGetComponent",value:function(e,t){var n,r,i=this._getListeners(e);if(t)for(r=i.length-1;n=i[r];r--)n.callback===t&&i.splice(r,1);else i.length=0}},{key:"_getListeners",value:function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}]),e}(),Ji="$NO_OP",eo="a runtime error occured! Use Inferno in development environment to find the error.",to=!("undefined"==typeof window||!window.document),no=Array.isArray;function ro(e){var t=qe(e);return"string"===t||"number"===t}function io(e){return lo(e)||uo(e)}function oo(e){return uo(e)||!1===e||function(e){return!0===e}(e)||lo(e)}function ao(e){return"function"==typeof e}function so(e){return"string"==typeof e}function co(e){return"number"==typeof e}function uo(e){return null===e}function lo(e){return void 0===e}function fo(e){throw e=e||eo,new Error("Inferno Error: "+e)}function po(e){console.error(e)}function ho(e,t){var n={};if(e)for(var r in e)n[r]=e[r];if(t)for(var i in t)n[i]=t[i];return n}function yo(e){var t;if(no(e))t="Array("+(3<e.length?e.slice(0,3).toString()+",...":e.toString())+")";else if(ro(e))t="Text("+e+")";else if(oo(e))t="InvalidVNode("+e+")";else{var n=e.flags;if(481&n)t="<"+e.type+(e.className?' class="'+e.className+'"':"")+">";else if(16&n)t="Text("+e.children+")";else if(1024&n)t="Portal*";else{var r=e.type;t="<"+(r.name||r.displayName||r.constructor.name||(r.toString().match(/^function\s*([^\s(]+)/)||[])[1])+" />"}}return">> "+t+"\n"}function mo(e){if(!(1&e.childFlags)&&(64&e.flags&&fo("input elements can't have children."),128&e.flags&&fo("textarea elements can't have children."),481&e.flags)){var t=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],n=e.type.toLowerCase();"media"===n&&fo("media elements can't have children.");var r=t.indexOf(n);-1!==r&&fo(t[r]+" elements can't have children.")}}function vo(e){if(!1===e.isValidated&&e.children&&481&e.flags){var t=function e(t,n){for(var r={},i=0,o=t.length;i<o;i++){var a=t[i];if(no(a))return"Encountered ARRAY in mount, array must be flattened, or normalize used. Location: \n"+yo(a);if(oo(a)){if(n)return"Encountered invalid node when preparing to keyed algorithm. Location: \n"+yo(a);if(0!==Object.keys(r).length)return"Encountered invalid node with mixed keys. Location: \n"+yo(a)}else{"object"===qe(a)&&(a.isValidated=!0);var s=a.key;if(!io(s)&&!ro(s))return"Encountered child vNode where key property is not string or number. Location: \n"+yo(a);var c=a.children,u=a.childFlags;if(!oo(c)){var l=void 0;if(12&u?l=e(c,8&a.childFlags):2===u&&(l=e([c],8&a.childFlags)),l)return l+=yo(a)}if(n&&io(s))return"Encountered child without key during keyed algorithm. If this error points to Array make sure children is flat list. Location: \n"+yo(a);if(n||!io(s)){if(r[s])return"Encountered two children with same key: {"+s+"}. Location: \n"+yo(a);r[s]=!0}else if(0!==Object.keys(r).length)return"Encountered children with key missing. Location: \n"+yo(a)}}}(Array.isArray(e.children)?e.children:[e.children],0<(8&e.childFlags));t&&fo(t+yo(e))}e.isValidated=!0}var go="$";function bo(e,t,n,r,i,o,a,s){return{childFlags:e,children:t,className:n,dom:null,flags:r,isValidated:!1,key:void 0===i?null:i,parentVNode:null,props:void 0===o?null:o,ref:void 0===a?null:a,type:s}}function wo(e,t,n,r,i,o,a,s){14&e&&fo("Creating Component vNodes using createVNode is not allowed. Use Inferno.createComponentVNode method.");var c=void 0===i?1:i,u=bo(c,r,n,e,a,o,s,t),l=Co.createVNode;return"function"==typeof l&&l(u),0===c&&So(u,u.children),mo(u),u}function _o(e,t,n,r,i){1&e&&fo("Creating element vNodes using createComponentVNode is not allowed. Use Inferno.createVNode method."),0<(2&e)&&(e=t.prototype&&ao(t.prototype.render)?4:8);var o=t.defaultProps;if(!io(o))for(var a in n=n||{},o)lo(n[a])&&(n[a]=o[a]);if(0<(8&e)){var s=t.defaultHooks;if(!io(s))if(i)for(var c in s)lo(i[c])&&(i[c]=s[c]);else i=s}var u=bo(1,null,null,e,r,n,i,t),l=Co.createVNode;return ao(l)&&l(u),u}function xo(e,t){return bo(1,io(e)?"":e,null,16,t,null,null,null)}function Oo(e){var t=e.props;if(t){var n=e.flags;481&n&&(void 0!==t.children&&io(e.children)&&So(e,t.children),void 0!==t.className&&(e.className=t.className||null,t.className=void 0)),void 0!==t.key&&(e.key=t.key,t.key=void 0),void 0!==t.ref&&(e.ref=8&n?ho(e.ref,t.ref):t.ref,t.ref=void 0)}return e}function Eo(e){var t,n=e.flags;if(14&n){var r,i=e.props;if(!uo(i))for(var o in r={},i)r[o]=i[o];t=_o(n,e.type,r,e.key,e.ref)}else 481&n?t=wo(n,e.type,e.className,e.children,e.childFlags,e.props,e.key,e.ref):16&n?t=xo(e.children,e.key):1024&n&&(t=e);return t}function ko(){return xo("",null)}function jo(e,t,n,r){for(var i=e.length;n<i;n++){var o=e[n];if(!oo(o)){var a=r+go+n;if(no(o))jo(o,t,0,a);else{if(ro(o))o=xo(o,a);else{var s=o.key,c=so(s)&&s[0]===go;uo(o.dom)&&!c||(o=Eo(o)),uo(s)||c?o.key=a:o.key=r+s}t.push(o)}}}}function So(e,t){var n,r=1;if(oo(t))n=t;else if(so(t))r=2,n=xo(t);else if(co(t))r=2,n=xo(t+"");else if(no(t)){var i=t.length;if(0===i)n=null,r=1;else{!Object.isFrozen(t)&&!0!==t.$||(t=t.slice()),r=8;for(var o=0;o<i;o++){var a=t[o];if(oo(a)||no(a)){n=n||t.slice(0,o),jo(t,n,o,"");break}if(ro(a))(n=n||t.slice(0,o)).push(xo(a,go+o));else{var s=a.key,c=uo(a.dom),u=uo(s),l=!u&&so(s)&&s[0]===go;!c||u||l?(n=n||t.slice(0,o),c&&!l||(a=Eo(a)),(u||l)&&(a.key=go+o),n.push(a)):n&&n.push(a)}}(n=n||t).$=!0}}else uo((n=t).dom)||(n=Eo(t)),r=2;return e.children=n,e.childFlags=r,mo(e),e}var Co={afterRender:null,beforeRender:null,createVNode:null,renderComplete:null},Po="http://www.w3.org/1999/xlink",To="http://www.w3.org/XML/1998/namespace",Do="http://www.w3.org/2000/svg",No={"xlink:actuate":Po,"xlink:arcrole":Po,"xlink:href":Po,"xlink:role":Po,"xlink:show":Po,"xlink:title":Po,"xlink:type":Po,"xml:base":To,"xml:lang":To,"xml:space":To},Mo={},Ro=[];function Ao(e,t){e.appendChild(t)}function Io(e,t,n){io(n)?Ao(e,t):e.insertBefore(t,n)}function Bo(e,t,n){e.replaceChild(t,n)}function Lo(e){for(var t;void 0!==(t=e.shift());)t()}Object.freeze(Mo);var $o={},Vo={};function zo(e,t,n){var r=$o[e],i=n.$EV;t?(r||(Vo[e]=function(i){function e(e){var t=e.type,n="click"===t||"dblclick"===t;if(n&&0!==e.button)return e.stopPropagation(),!1;e.stopPropagation=Fo;var r={dom:document};Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return r.dom}}),function(e,t,n,r,i){var o=t;for(;!uo(o);){if(n&&o.disabled)return;var a=o.$EV;if(a){var s=a[r];if(s&&(i.dom=o,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}o=o.parentNode}}(e,e.target,n,i,r)}return document.addEventListener(Uo(i),e),e}(e),$o[e]=0),(i=i||(n.$EV={}))[e]||$o[e]++,i[e]=t):i&&i[e]&&($o[e]--,1===r&&(document.removeEventListener(Uo(e),Vo[e]),Vo[e]=null),i[e]=t)}function Uo(e){return e.substr(2).toLowerCase()}function Fo(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function Wo(e,t){var n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}function qo(e,t,n){if(e[t]){var r=e[t];r.event?r.event(r.data,n):r(n)}else{var i=t.toLowerCase();e[i]&&e[i](n)}}function Go(s,c){function e(e){e.stopPropagation();var t=this.$V;if(t){var n=t.props||Mo,r=t.dom;if(so(s))qo(n,s,e);else for(var i=0;i<s.length;i++)qo(n,s[i],e);if(ao(c)){var o=this.$V,a=o.props||Mo;c(a,r,!1,o)}}}return Object.defineProperty(e,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),e}function Ho(e){return"checkbox"===e||"radio"===e}var Xo=Go("onInput",Zo),Yo=Go(["onClick","onChange"],Zo);function Ko(e){e.stopPropagation()}function Zo(e,t){var n=e.type,r=e.value,i=e.checked,o=e.multiple,a=e.defaultValue,s=!io(r);n&&n!==t.type&&t.setAttribute("type",n),io(o)||o===t.multiple||(t.multiple=o),io(a)||s||(t.defaultValue=a+""),Ho(n)?(s&&(t.value=r),io(i)||(t.checked=i)):s&&t.value!==r?(t.defaultValue=r,t.value=r):io(i)||(t.checked=i)}function Qo(e,t){if("optgroup"===e.type){var n=e.children,r=e.childFlags;if(12&r)for(var i=0,o=n.length;i<o;i++)Jo(n[i],t);else 2===r&&Jo(n,t)}else Jo(e,t)}function Jo(e,t){var n=e.props||Mo,r=e.dom;r.value=n.value,no(t)&&-1!==t.indexOf(n.value)||n.value===t?r.selected=!0:io(t)&&io(n.selected)||(r.selected=n.selected||!1)}Ko.wrapped=!0;var ea=Go("onChange",ta);function ta(e,t,n,r){var i=Boolean(e.multiple);io(e.multiple)||i===t.multiple||(t.multiple=i);var o=r.childFlags;if(0==(1&o)){var a=r.children,s=e.value;if(n&&io(s)&&(s=e.defaultValue),12&o)for(var c=0,u=a.length;c<u;c++)Qo(a[c],s);else 2===o&&Qo(a,s)}}var na=Go("onInput",ia),ra=Go("onChange");function ia(e,t,n){var r=e.value,i=t.value;if(io(r)){if(n){var o=e.defaultValue;io(o)||o===i||(t.defaultValue=o,t.value=o)}}else i!==r&&(t.defaultValue=r,t.value=r)}function oa(e,t,n,r,i,o){64&e?Zo(r,n):256&e?ta(r,n,i,t):128&e&&ia(r,n,i),o&&(n.$V=t)}function aa(e,t,n){64&e?function(e,t){Ho(t.type)?(e.onchange=Yo,e.onclick=Ko):e.oninput=Xo}(t,n):256&e?function(e){e.onchange=ea}(t):128&e&&function(e,t){e.oninput=na,t.onChange&&(e.onchange=ra)}(t,n)}function sa(e){return e.type&&Ho(e.type)?!io(e.checked):!io(e.value)}function ca(e,t){ua(e),t&&e.dom&&(function(e,t){e.removeChild(t)}(t,e.dom),e.dom=null)}function ua(e){var t=e.flags;if(481&t){var n=e.ref,r=e.props;ao(n)&&n(null);var i=e.children,o=e.childFlags;if(12&o?la(i):2===o&&ua(i),!uo(r))for(var a in r)switch(a){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":zo(a,null,e.dom)}}else{var s=e.children;if(s)if(14&t){var c=e.ref;4&t?(ao(s.componentWillUnmount)&&s.componentWillUnmount(),ao(c)&&c(null),s.$UN=!0,s.$LI&&ua(s.$LI)):(!io(c)&&ao(c.onComponentWillUnmount)&&c.onComponentWillUnmount(e.dom,e.props||Mo),ua(s))}else 1024&t&&ca(s,e.type)}}function la(e){for(var t=0,n=e.length;t<n;t++)ua(e[t])}function fa(e,t){la(t),e.textContent=""}function pa(e,t,n){var r=e.toLowerCase();if(ao(t)||io(t)){var i=n[r];i&&i.wrapped||(n[r]=t)}else{var o=t.event;o&&ao(o)?n[r]=function(t,n){return function(e){t(n.data,e)}}(o,t):fo('an event on a VNode "'+e+'". was not a function or a valid linkEvent.')}}function ha(e,t){switch(e){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return t;default:return t+"px"}}function da(e,t,n,r,i,o,a){switch(e){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":zo(e,n,r);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":break;case"autoFocus":r.autofocus=!!n;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":r[e]=!!n;break;case"defaultChecked":case"value":case"volume":if(o&&"value"===e)return;var s=io(n)?"":n;r[e]!==s&&(r[e]=s);break;case"dangerouslySetInnerHTML":var c=t&&t.__html||"",u=n&&n.__html||"";c!==u&&(io(u)||Wo(r,u)||(uo(a)||(12&a.childFlags?la(a.children):2===a.childFlags&&ua(a.children),a.children=null,a.childFlags=1),r.innerHTML=u));break;default:"o"===e[0]&&"n"===e[1]?pa(e,n,r):io(n)?r.removeAttribute(e):"style"===e?function(e,t,n){var r,i,o=n.style;if(so(t))o.cssText=t;else if(io(e)||so(e))for(r in t)i=t[r],o[r]=co(i)?ha(r,i):i;else{for(r in t)(i=t[r])!==e[r]&&(o[r]=co(i)?ha(r,i):i);for(r in e)io(t[r])&&(o[r]="")}}(t,n,r):i&&No[e]?r.setAttributeNS(No[e],e,n):r.setAttribute(e,n)}}function ya(e,t,n,r,i){var o=!1,a=0<(448&t);for(var s in a&&(o=sa(n))&&aa(t,r,n),n)da(s,null,n[s],r,i,o,null);a&&oa(t,e,r,n,!0,o)}function ma(e,t,n,r){var i=new t(n,r);if((e.children=i).$V=e,i.$BS=!1,i.context=r,i.props===Mo&&(i.props=n),i.$UN=!1,ao(i.componentWillMount)){if(i.$BR=!0,i.componentWillMount(),i.$PSS){var o=i.state,a=i.$PS;if(uo(o))i.state=a;else for(var s in a)o[s]=a[s];i.$PSS=!1,i.$PS=null}i.$BR=!1}ao(Co.beforeRender)&&Co.beforeRender(i);var c,u=va(i.render(n,i.state,r),e);return ao(i.getChildContext)&&(c=i.getChildContext()),io(c)?i.$CX=r:i.$CX=ho(r,c),ao(Co.afterRender)&&Co.afterRender(i),i.$LI=u,i}function va(e,t){return no(e)&&fo("a valid Inferno VNode (or null) must be returned from a component render. You may have returned an array or an invalid object."),oo(e)?e=ko():ro(e)?e=xo(e,null):(e.dom&&(e=Eo(e)),14&e.flags&&(e.parentVNode=t)),e}function ga(e,t,n,r){var i=e.flags;return 481&i?wa(e,t,n,r):14&i?function(e,t,n,r,i){var o,a=e.type,s=e.props||Mo,c=e.ref;if(i){var u=ma(e,a,s,n);e.dom=o=ga(u.$LI,null,u.$CX,r),xa(e,c,u),u.$UPD=!1}else{var l=va(a(s,n),e);e.children=l,e.dom=o=ga(l,null,n,r),Oa(s,c,o)}uo(t)||Ao(t,o);return o}(e,t,n,r,0<(4&i)):512&i||16&i?ba(e,t):1024&i?(ga(e.children,e.type,n,!1),e.dom=ba(ko(),t)):void("object"===qe(e)?fo("mount() received an object that's not a valid VNode, you should stringify it first, fix createVNode flags or call normalizeChildren. Object: \""+JSON.stringify(e)+'".'):fo('mount() expects a valid VNode, instead it received an object with the type "'+qe(e)+'".'))}function ba(e,t){var n=e.dom=document.createTextNode(e.children);return uo(t)||Ao(t,n),n}function wa(e,t,n,r){var i=e.flags,o=e.children,a=e.props,s=e.className,c=e.ref,u=e.childFlags;r=r||0<(32&i);var l=function(e,t){return t?document.createElementNS(Do,e):document.createElement(e)}(e.type,r);if(e.dom=l,io(s)||""===s||(r?l.setAttribute("class",s):l.className=s),vo(e),uo(t)||Ao(t,l),0==(1&u)){var f=!0===r&&"foreignObject"!==e.type;2===u?ga(o,l,n,f):12&u&&_a(o,l,n,f)}return uo(a)||ya(e,i,a,l,r),so(c)&&fo('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'),ao(c)&&Ea(l,c),l}function _a(e,t,n,r){for(var i=0,o=e.length;i<o;i++){var a=e[i];uo(a.dom)||(e[i]=a=Eo(a)),ga(a,t,n,r)}}function xa(e,t,n){ao(t)?t(n):ro(t)?fo('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.'):!io(t)&&function(e){return"object"===qe(e)}(t)&&4&e.flags&&fo("functional component lifecycle events are not supported on ES2015 class components."),ao(n.componentDidMount)&&Ro.push(function(e){return function(){e.$UPD=!0,e.componentDidMount(),e.$UPD=!1}}(n))}function Oa(e,t,n){io(t)||(ao(t.onComponentWillMount)&&t.onComponentWillMount(e),ao(t.onComponentDidMount)&&Ro.push(function(e,t,n){return function(){return e.onComponentDidMount(t,n)}}(t,n,e)))}function Ea(e,t){Ro.push(function(){return t(e)})}function ka(e,t,n,r){var i=e.children,o=e.props,a=e.className,s=e.flags,c=e.ref;if(r=r||0<(32&s),1!==t.nodeType||t.tagName.toLowerCase()!==e.type){po("Inferno hydration: Server-side markup doesn't match client-side markup or Initial render target is not empty");var u=wa(e,null,n,r);e.dom=u,Bo(t.parentNode,u,t)}else{var l=(e.dom=t).firstChild,f=e.childFlags;if(0==(1&f)){for(var p=null;l;)p=l.nextSibling,8===l.nodeType&&("!"===l.data?t.replaceChild(document.createTextNode(""),l):t.removeChild(l)),l=p;if(l=t.firstChild,2===f)uo(l)?ga(i,t,n,r):(p=l.nextSibling,ja(i,l,n,r),l=p);else if(12&f)for(var h=0,d=i.length;h<d;h++){var y=i[h];uo(l)?ga(y,t,n,r):(p=l.nextSibling,ja(y,l,n,r),l=p)}for(;l;)p=l.nextSibling,t.removeChild(l),l=p}else uo(t.firstChild)||function(e,t){return Boolean(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&Wo(e,t.dangerouslySetInnerHTML.__html))}(t,o)||(t.textContent="",448&s&&(t.defaultValue=""));uo(o)||ya(e,s,o,t,r),io(a)?""!==t.className&&t.removeAttribute("class"):r?t.setAttribute("class",a):t.className=a,ao(c)?Ea(t,c):so(c)&&fo('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}function ja(e,t,n,r){var i=e.flags;14&i?function(e,t,n,r,i){var o=e.type,a=e.ref,s=e.props||Mo;if(i){var c=ma(e,o,s,n),u=c.$LI;ja(u,t,c.$CX,r),e.dom=u.dom,xa(e,a,c),c.$UPD=!1}else{var l=va(o(s,n),e);ja(l,t,n,r),e.children=l,e.dom=l.dom,Oa(s,a,t)}}(e,t,n,r,0<(4&i)):481&i?ka(e,t,n,r):16&i?function(e,t){if(3!==t.nodeType){var n=ba(e,null);e.dom=n,Bo(t.parentNode,n,t)}else{var r=e.children;t.nodeValue!==r&&(t.nodeValue=r),e.dom=t}}(e,t):512&i?e.dom=t:(fo('hydrate() expects a valid VNode, instead it received an object with the type "'+qe(e)+'".'),fo())}function Sa(e,t,n,r,i){ua(e),Bo(n,ga(t,null,r,i),e.dom)}function Ca(e,t,n,r,i){var o=0|t.flags;e.flags!==o||2048&o?Sa(e,t,n,r,i):481&o?function(e,t,n,r,i,o){var a=t.type;if(e.type!==a)Sa(e,t,n,r,i);else{var s,c=e.dom,u=e.props,l=t.props,f=!1,p=!1;if(t.dom=c,i=i||0<(32&o),u!==l){var h=u||Mo;if((s=l||Mo)!==Mo)for(var d in(f=0<(448&o))&&(p=sa(s)),s){var y=h[d],m=s[d];y!==m&&da(d,y,m,c,i,p,e)}if(h!==Mo)for(var v in h)s.hasOwnProperty(v)||io(h[v])||da(v,h[v],null,c,i,p,e)}var g=e.children,b=t.children,w=t.ref,_=e.className,x=t.className;vo(t),4096&o?function(e,t){e.textContent!==t.children&&(e.textContent=t.children)}(c,b):Pa(e.childFlags,t.childFlags,g,b,c,r,i&&"foreignObject"!==a),f&&oa(o,t,c,s,!1,p),_!==x&&(io(x)?c.removeAttribute("class"):i?c.setAttribute("class",x):c.className=x),ao(w)&&e.ref!==w?Ea(c,w):so(w)&&fo('string "refs" are not supported in Inferno 1.0. Use callback "refs" instead.')}}(e,t,n,r,i,o):14&o?function(e,t,n,r,i,o){var a=t.type,s=e.key,c=t.key;if(e.type!==a||s!==c)Sa(e,t,n,r,i);else{var u=t.props||Mo;if(o){var l=e.children;l.$UPD=!0,l.$V=t,Ta(l,l.state,t,u,n,r,i,!1,!1),l.$UPD=!1}else{var f=!0,p=e.props,h=t.ref,d=!io(h),y=e.children;if(t.dom=e.dom,t.children=y,d&&ao(h.onComponentShouldUpdate)&&(f=h.onComponentShouldUpdate(p,u)),!1!==f){d&&ao(h.onComponentWillUpdate)&&h.onComponentWillUpdate(p,u);var m=a(u,r);m!==Ji&&(m=va(m,t),Ca(y,m,n,r,i),t.children=m,t.dom=m.dom,d&&ao(h.onComponentDidUpdate)&&h.onComponentDidUpdate(p,u))}else 14&y.flags&&(y.parentVNode=t)}}}(e,t,n,r,i,0<(4&o)):16&o?function(e,t){var n=t.children,r=e.dom;n!==e.children&&(r.nodeValue=n);t.dom=r}(e,t):512&o?t.dom=e.dom:function(e,t,n){var r=e.type,i=t.type,o=t.children;if(Pa(e.childFlags,t.childFlags,e.children,o,r,n,!1),t.dom=e.dom,r!==i&&!oo(o)){var a=o.dom;r.removeChild(a),i.appendChild(a)}}(e,t,r)}function Pa(e,t,n,r,i,o,a){switch(e){case 2:switch(t){case 2:Ca(n,r,i,o,a);break;case 1:ca(n,i);break;default:ca(n,i),_a(r,i,o,a)}break;case 1:switch(t){case 2:ga(r,i,o,a);break;case 1:break;default:_a(r,i,o,a)}break;default:if(12&t){var s=n.length,c=r.length;0===s?0<c&&_a(r,i,o,a):0===c?fa(i,n):8===t&&8===e?function(e,t,n,r,i,o,a){var s,c,u=o-1,l=a-1,f=0,p=e[f],h=t[f];e:{for(;p.key===h.key;){if(h.dom&&(t[f]=h=Eo(h)),Ca(p,h,n,r,i),e[f]=h,u<++f||l<f)break e;p=e[f],h=t[f]}for(p=e[u],h=t[l];p.key===h.key;){if(h.dom&&(t[l]=h=Eo(h)),Ca(p,h,n,r,i),e[u]=h,l--,--u<f||l<f)break e;p=e[u],h=t[l]}}if(u<f){if(f<=l)for(var d=(c=l+1)<a?t[c].dom:null;f<=l;)(h=t[f]).dom&&(t[f]=h=Eo(h)),f++,Io(n,ga(h,null,r,i),d)}else if(l<f)for(;f<=u;)ca(e[f++],n);else{var y=f,m=f,v=u-f+1,g=l-f+1,b=[];for(s=0;s<g;s++)b.push(0);var w=v===o,_=!1,x=0,O=0;if(a<4||(v|g)<32)for(s=y;s<=u;s++)if(p=e[s],O<g){for(f=m;f<=l;f++)if(h=t[f],p.key===h.key){if(b[f-m]=s+1,w)for(w=!1;y<s;)ca(e[y++],n);f<x?_=!0:x=f,h.dom&&(t[f]=h=Eo(h)),Ca(p,h,n,r,i),O++;break}!w&&l<f&&ca(p,n)}else w||ca(p,n);else{var E={};for(s=m;s<=l;s++)E[t[s].key]=s;for(s=y;s<=u;s++)if(p=e[s],O<g)if(void 0!==(f=E[p.key])){if(w)for(w=!1;y<s;)ca(e[y++],n);h=t[f],b[f-m]=s+1,f<x?_=!0:x=f,h.dom&&(t[f]=h=Eo(h)),Ca(p,h,n,r,i),O++}else w||ca(p,n);else w||ca(p,n)}if(w)fa(n,e),_a(t,n,r,i);else if(_){var k=function(e){var t,n,r,i,o,a=e.slice(),s=[0],c=e.length;for(t=0;t<c;t++){var u=e[t];if(0!==u){if(n=s[s.length-1],e[n]<u){a[t]=n,s.push(t);continue}for(r=0,i=s.length-1;r<i;)e[s[o=(r+i)/2|0]]<u?r=1+o:i=o;u<e[s[r]]&&(0<r&&(a[t]=s[r-1]),s[r]=t)}}r=s.length,i=s[r-1];for(;0<r--;)s[r]=i,i=a[i];return s}(b);for(f=k.length-1,s=g-1;0<=s;s--)0===b[s]?((h=t[x=s+m]).dom&&(t[x]=h=Eo(h)),c=x+1,Io(n,ga(h,null,r,i),c<a?t[c].dom:null)):f<0||s!==k[f]?(h=t[x=s+m],c=x+1,Io(n,h.dom,c<a?t[c].dom:null)):f--}else if(O!==g)for(s=g-1;0<=s;s--)0===b[s]&&((h=t[x=s+m]).dom&&(t[x]=h=Eo(h)),c=x+1,Io(n,ga(h,null,r,i),c<a?t[c].dom:null))}}(n,r,i,o,a,s,c):function(e,t,n,r,i,o,a){for(var s,c,u=a<o?a:o,l=0;l<u;l++)s=t[l],c=e[l],s.dom&&(s=t[l]=Eo(s)),Ca(c,s,n,r,i),e[l]=s;if(o<a)for(l=u;l<a;l++)(s=t[l]).dom&&(s=t[l]=Eo(s)),ga(s,n,r,i);else if(a<o)for(l=u;l<o;l++)ca(e[l],n)}(n,r,i,o,a,s,c)}else 1===t?fa(i,n):2===t&&(fa(i,n),ga(r,i,o,a))}}function Ta(e,t,n,r,i,o,a,s,c){var u,l=e.state,f=e.props;if((n.children=e).$UN)po("Inferno Error: Can only update a mounted or mounting component. This usually means you called setState() or forceUpdate() on an unmounted component. This is a no-op.");else{if(f!==r||r===Mo){if(!c&&ao(e.componentWillReceiveProps)){if(e.$BR=!0,e.componentWillReceiveProps(r,o),e.$UN)return;e.$BR=!1}e.$PSS&&(t=ho(t,e.$PS),e.$PSS=!1,e.$PS=null)}var p=Boolean(e.shouldComponentUpdate);if(s||!p||p&&e.shouldComponentUpdate(r,t,o)){ao(e.componentWillUpdate)&&(e.$BS=!0,e.componentWillUpdate(r,t,o),e.$BS=!1),e.props=r,e.state=t,e.context=o,ao(Co.beforeRender)&&Co.beforeRender(e),u=e.render(r,t,o),ao(Co.afterRender)&&Co.afterRender(e);var h,d=u!==Ji;if(ao(e.getChildContext)&&(h=e.getChildContext()),h=io(h)?o:ho(o,h),e.$CX=h,d){var y=e.$LI,m=va(u,n);Ca(y,m,i,h,a),e.$LI=m,ao(e.componentDidUpdate)&&e.componentDidUpdate(f,l)}}else e.props=r,e.state=t,e.context=o;n.dom=e.$LI.dom}}to&&null===document.body&&po('Inferno warning: you cannot initialize inferno without "document.body". Wait on "DOMContentLoaded" event, add script to bottom of body, or use async/defer attributes on script tag.');var Da=to?document.body:null;function Na(e,t,n){if(Da===t&&fo('you cannot render() to the "document.body". Use an empty element as a container instead.'),e!==Ji){var r=t.$V;return io(r)?oo(e)||(e.dom&&(e=Eo(e)),uo(t.firstChild)?(ga(e,t,Mo,!1),t.$V=e):function(e,t,n){var r=t.firstChild;if(!uo(r))for(oo(e)||ja(e,r,Mo,!1),r=t.firstChild;r=r.nextSibling;)t.removeChild(r);0<Ro.length&&Lo(Ro),t.$V=e,ao(n)&&n()}(e,t),r=e):io(e)?(ca(r,t),t.$V=null):(e.dom&&(e=Eo(e)),Ca(r,e,t,Mo,!1),r=t.$V=e),0<Ro.length&&Lo(Ro),ao(n)&&n(),ao(Co.renderComplete)&&Co.renderComplete(r),r&&14&r.flags?r.children:void 0}}var Ma="undefined"==typeof Promise?null:Promise.resolve(),Ra="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window);function Aa(e,t,n,r){ao(t)&&(t=t(e.state,e.props,e.context));var i=e.$PS;if(io(i))e.$PS=t;else for(var o in t)i[o]=t[o];if(e.$PSS||e.$BR)e.$PSS=!0,e.$BR&&ao(n)&&Ro.push(n.bind(e));else if(e.$UPD){var a=e.$QU;uo(a)&&(a=e.$QU=[],function(e){Ma?Ma.then(e):Ra(e)}(function(n,r){return function(){n.$QU=null,n.$UPD=!0,Ia(n,!1,function(){for(var e=0,t=r.length;e<t;e++)r[e].call(n)}),n.$UPD=!1}}(e,a))),ao(n)&&a.push(n)}else e.$PSS=!0,e.$UPD=!0,Ia(e,r,n),e.$UPD=!1}function Ia(e,t,n){if(!e.$UN){if(t||!e.$BR){e.$PSS=!1;var r=e.$PS,i=ho(e.state,r),o=e.props,a=e.context;e.$PS=null;var s=e.$V,c=e.$LI;if(Ta(e,i,s,o,c.dom&&c.dom.parentNode,a,0<(32&s.flags),t,!0),e.$UN)return;if(0==(1024&e.$LI.flags))for(var u=e.$LI.dom;!uo(s=s.parentVNode);)0<(14&s.flags)&&(s.dom=u);0<Ro.length&&Lo(Ro)}else e.state=e.$PS,e.$PS=null;ao(n)&&n.call(e)}}function Ba(e,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=e||Mo,this.context=t||Mo}Ba.prototype.forceUpdate=function(e){this.$UN||Aa(this,{},e,!0)},Ba.prototype.setState=function(e,t){this.$UN||(this.$BS?fo("cannot update state via setState() in componentWillUpdate() or constructor."):Aa(this,e,t,!1))},Ba.prototype.render=function(){};function La(){}function $a(e){return($a="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Va(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e){return(za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ua(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e,t){return(Fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}console.info("Inferno is in development mode."),-1===(La.name||La.toString()).indexOf("testFn")&&po("It looks like you're using a minified copy of the development build of Inferno. When deploying Inferno apps to production, make sure to use the production build which skips development warnings and is faster. See http://infernojs.org for more details.");var Wa=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=(t=function(e,t){return!t||"object"!==$a(t)&&"function"!=typeof t?Ua(e):t}(this,za(r).call(this,e)))._injector=e.injector;return t._sheet=n.get("sheet"),t._changeSupport=n.get("changeSupport"),t._components=n.get("components"),t.onElementsChanged=t.onElementsChanged.bind(Ua(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fa(e,t)}(r,Ba),function(e,t,n){t&&Va(e.prototype,t),n&&Va(e,n)}(r,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}},{key:"componentWillMount",value:function(){var e=this._sheet.getRoot().id;this._changeSupport.onElementsChanged(e,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this._sheet.getRoot().id;this._changeSupport.offElementsChanged(e,this.onElementsChanged)}},{key:"render",value:function(){var e=this._sheet.getRoot(),t=e.rows,n=e.cols,r=this._components.getComponents("table.before"),i=this._components.getComponents("table.after"),o=this._components.getComponent("table.head"),a=this._components.getComponent("table.body"),s=this._components.getComponent("table.foot");return wo(1,"div","tjs-container",[r&&r.map(function(e,t){return _o(2,e,null,t)}),wo(1,"div","tjs-table-container",wo(1,"table","tjs-table",[o&&_o(2,o,{rows:t,cols:n}),a&&_o(2,a,{rows:t,cols:n}),s&&_o(2,s,{rows:t,cols:n})],0),2),i&&i.map(function(e,t){return _o(2,e,null,t)})],0)}}]),r}();function qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ga=function(){function a(e,t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o=n.container;this._container=o,r.on("root.added",function(){Na(_o(2,Wa,{injector:i}),o)}),r.on("root.remove",function(){Na(null,o)})}return function(e,t,n){t&&qa(e.prototype,t),n&&qa(e,n)}(a,[{key:"getContainer",value:function(){return this._container}}]),a}();Ga.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var Ha={__init__:["changeSupport","components","renderer"],changeSupport:["type",Ki],components:["type",Qi],renderer:["type",Ga]};function Xa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ya=function(){function r(e,t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._elementRegistry=e,this._eventBus=t,this._root=null,t.on("table.clear",function(){n.setRoot(null)})}return function(e,t,n){t&&Xa(e.prototype,t),n&&Xa(e,n)}(r,[{key:"setRoot",value:function(e){if(this._root){var t=this._root;this._eventBus.fire("root.remove",{root:t}),this._root=null,this._eventBus.fire("root.removed",{root:t})}e&&this._eventBus.fire("root.add",{root:e}),(this._root=e)&&this._eventBus.fire("root.added",{root:e})}},{key:"getRoot",value:function(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}},{key:"addRow",value:function(n,r){var i=this,o=this.getRoot();if(o.cols.length!=n.cells.length)throw new Error("number of cells is not equal to number of cols");return void 0===r&&(r=o.rows.length),Ka(r,o.rows,n),n.root=o,this._elementRegistry.add(n),n.cells.forEach(function(e,t){i._elementRegistry.add(e),e.row=n,e.col=o.cols[t],Ka(r,o.cols[t].cells,e)}),this._eventBus.fire("row.add",{row:n}),n}},{key:"removeRow",value:function(e){var n=this,r=this.getRoot();"string"==typeof e&&(e=this._elementRegistry.get(e));var i=r.rows.indexOf(e);-1!==i&&(Za(i,r.rows),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach(function(e,t){n._elementRegistry.remove(e),e.col=void 0,Za(i,r.cols[t].cells)}),this._eventBus.fire("row.remove",{row:e}))}},{key:"addCol",value:function(n,r){var i=this,o=this.getRoot();if(this._elementRegistry.add(n),o.rows.length!=n.cells.length)throw new Error("number of cells is not equal to number of rows");return void 0===r&&(r=o.cols.length),Ka(r,o.cols,n),n.root=o,n.cells.forEach(function(e,t){i._elementRegistry.add(e),e.col=n,e.row=o.rows[t],Ka(r,o.rows[t].cells,e)}),this._eventBus.fire("col.add",{col:n}),n}},{key:"removeCol",value:function(e){var n=this,r=this.getRoot();"string"==typeof e&&(e=this._elementRegistry.get(e));var i=r.cols.indexOf(e);-1!==i&&(Za(i,r.cols),e.root=void 0,this._elementRegistry.remove(e),e.cells.forEach(function(e,t){n._elementRegistry.remove(e),e.row=void 0,Za(i,r.rows[t].cells)}),this._eventBus.fire("col.remove",{col:e}))}},{key:"resized",value:function(){this._eventBus.fire("sheet.resized")}}]),r}();function Ka(e,t,n){return t.splice(e,0,n)}function Za(e,t){return t.splice(e,1)}Ya.$inject=["elementRegistry","eventBus"];var Qa={__depends__:[Ha],__init__:["elementFactory","sheet"],elementFactory:["type",qi],elementRegistry:["type",Hi],eventBus:["type",C],sheet:["type",Ya]};function Ja(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function es(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var ts=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.injector;if(!t){var n=this._init(e),r=n.modules;t=function(e,t){return function(e){var n=[],r=[];function i(e){return 0<=n.indexOf(e)}e.forEach(function e(t){i(t)||((t.__depends__||[]).forEach(e),i(t)||(function(e){n.push(e)}(t),(t.__init__||[]).forEach(function(e){r.push(e)})))});var t=new zt(n);return r.forEach(function(e){try{t["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}}),t}([{config:["value",e]},Qa].concat(t||[]))}(n.config,r)}this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}return function(e,t,n){t&&es(e.prototype,t),n&&es(e,n)}(i,[{key:"_init",value:function(e){return{modules:e.modules,config:Ja(e,["modules"])}}},{key:"destroy",value:function(){var e=this.get("eventBus");e.fire("table.destroy"),e.fire("diagram.destroy")}},{key:"clear",value:function(){var e=this.get("eventBus");e.fire("table.clear"),e.fire("diagram.clear")}}]),i}();function ns(e){if(!e)return"<null>";var t=e.id?' id="'.concat(e.id,'"'):"";return"<".concat(e.$type).concat(t," />")}function rs(r,e){function i(e,t,n){if(e.gfx)throw new Error("already rendered ".concat(ns(e)));return r.element(e,t,n)}function o(e,t,n){g(e,function(e){i(e,t,n)})}function a(e,t,n){g(e,function(e){i(e,t,n)})}return{handleDecision:function(e){e.id||(e.id="decision");var t=e.decisionLogic;if(!t)throw new Error("no table for ".concat(ns(e)));if(!t.output)throw new Error("missing output for ".concat(ns(t)));var n=function(e){return r.table(e)}(t);t.input&&o(t.input,n,t),o(t.output,n,t),function(e,t,n){g(e,function(e){i(e,t,n),a(e.inputEntry,e),a(e.outputEntry,e)})}(t.rule,n,t)}}}function is(e){return(is="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function os(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ss(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function cs(e,t){var n=e.elements,r=e.index;return r[t]?e:{elements:[].concat(ss(n),[t]),index:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?os(n,!0).forEach(function(e){as(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):os(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},r,as({},t,!0))}}function us(){for(var n={elements:[],index:{}},e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.forEach(function(t){var e=is(t);"string"===e&&0<t.length?n=cs(n,t):"object"===e&&null!==t&&Object.keys(t).forEach(function(e){t[e]&&(n=cs(n,e))})}),function(e,t){return e.elements.join(t)}(n," ")}function ls(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function fs(e){return ps(e.constructor,e)}function ps(e,a){var s=e.$inject;if(s){var t=a.context.injector,n=[].concat(ls(s),[function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r in t){var i=s[r],o=t[r];a[i]=o}}]);t.invoke(n)}}function hs(r,i){Object.keys(i).forEach(function(e){if("$inject"!==e&&"__init"!==e){var t=i[e];"constructor"===e&&t.call(r,r.props,r.context);var n=r[e];if(void 0!==n){if("function"!=typeof n)throw new Error("failed to mixin <".concat(e,">: cannot combine with non-fn component value"));r[e]=function(i){for(var e=arguments.length,o=new Array(1<e?e-1:0),t=1;t<e;t++)o[t-1]=arguments[t];return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;return o.forEach(function(e){if(void 0!==(r=e.call.apply(e,[i].concat(t))))return!1}),r}.bind(i)}(r,n,t)}else r[e]=t.bind(r)}}),"$inject"in i&&ps(i,r),"__init"in i&&i.__init.call(r,r.props,r.context)}var ds={getSelectionClasses:function(){var e=this.state;return us({selected:e.selected,"selected-secondary":e.selectedSecondary,focussed:e.focussed})},selectionChanged:function(e){this.setState(e)},componentWillUpdate:function(e){e.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate:function(e){e.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount:function(){this.updateSelectionSubscription(!0)},componentWillUnmount:function(){this.updateSelectionSubscription(!1)},updateSelectionSubscription:function(e){var t=this.props.elementId;t&&t&&this.eventBus[e?"on":"off"]("selection.".concat(t,".changed"),this.selectionChanged)}};function ys(e){return(ys="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function ms(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ws(e){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xs(e,t){return(xs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}ds.$inject=["eventBus"];var Os=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(e,t){return!t||"object"!==ys(t)&&"function"!=typeof t?_s(e):t}(this,ws(r).call(this,e,t)),hs(_s(n),ds),fs(_s(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xs(e,t)}(r,Ba),function(e,t,n){t&&bs(e.prototype,t),n&&bs(e,n)}(r,[{key:"getRenderProps",value:function(){for(var e=this.props,t=e.className,n=e.elementId,r=e.coords,i=gs(e,["className","elementId","coords"]),o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];var c={className:us.apply(void 0,a.concat([this.getSelectionClasses(),t]))};return n&&(c["data-element-id"]=n),r&&(c["data-coords"]=r),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ms(n,!0).forEach(function(e){vs(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ms(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},c,{},i)}}]),r}();function Es(e){return(Es="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function ks(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function js(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ss(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cs(e,t){return!t||"object"!==Es(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Ps(e){return(Ps=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ts(e,t){return(Ts=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ds=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Cs(this,Ps(r).call(this,e,t))).state={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ts(e,t)}(r,Os),function(e,t,n){t&&Ss(e.prototype,t),n&&Ss(e,n)}(r,[{key:"render",value:function(){return Oo(wo(1,"td",null,this.props.children,0,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ks(n,!0).forEach(function(e){js(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ks(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.getRenderProps("cell"))))}}]),r}();function Ns(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ms(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ns(n,!0).forEach(function(e){Rs(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ns(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Rs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function As(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Is={slotFill:function(e,t){var n=e.type,r=e.context,i=As(e,["type","context"]),o=this.components.getComponent(n,r)||t;return o?Oo(_o(2,o,Ms({},r,{},i))):null},slotFills:function(e){var t=e.type,n=e.context,r=As(e,["type","context"]);return this.components.getComponents(t,n).map(function(e){return Oo(_o(2,e,Ms({},n,{},r)))})}};function Bs(e){return(Bs="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Ls(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $s(e){return($s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vs(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zs(e,t){return(zs=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Is.$inject=["components"];var Us=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(e,t){return!t||"object"!==Bs(t)&&"function"!=typeof t?Vs(e):t}(this,$s(r).call(this,e,t)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Vs(n),"onElementsChanged",function(){n.forceUpdate()}),hs(Vs(n),Is),fs(Vs(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zs(e,t)}(r,Ba),function(e,t,n){t&&Ls(e.prototype,t),n&&Ls(e,n)}(r,[{key:"componentDidMount",value:function(){this.changeSupport.onElementsChanged(this.getRoot(),this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){this.changeSupport.offElementsChanged(this.getRoot(),this.onElementsChanged)}},{key:"getRoot",value:function(){return this.sheet.getRoot()}},{key:"render",value:function(){var e=(this.getRoot().businessObject.get("annotationsWidth")||400)+"px";return wo(1,"th","annotation header",[this.slotFills({type:"cell-inner",context:{cellType:"annotations",col:this.sheet.getRoot(),minWidth:400}}),this.translate("Annotations")],0,{style:{width:e}})}}]),r}();function Fs(e){var t=e.row.businessObject,n=t.id,r=t.description;return _o(2,Ds,{className:"annotation",elementId:n,children:r||"-"})}function Ws(e){e.onGetComponent("cell",function(e){var t=e.cellType;return"after-label-cells"===t?Us:"after-rule-cells"===t?Fs:void 0})}Us.$inject=["changeSupport","sheet","translate"],Ws.$inject=["components"];var qs={__init__:["annotationsProvider"],annotationsProvider:["type",Ws]};function Gs(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Hs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xs(e,t){return k({id:e.id,type:e.$type,businessObject:e},t)}var Ys=function(){function r(e,t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this._elementFactory=e,this._eventBus=t,this._sheet=n}return function(e,t,n){t&&Hs(e.prototype,t),n&&Hs(e,n)}(r,[{key:"add",value:function(e){var t,n=this;if(rr(e,"dmn:DecisionTable"))t=this._elementFactory.createRoot(Xs(e)),this._sheet.setRoot(t);else if(rr(e,"dmn:InputClause"))t=this._elementFactory.createCol(Xs(e)),this._sheet.addCol(t);else if(rr(e,"dmn:OutputClause"))t=this._elementFactory.createCol(Xs(e)),this._sheet.addCol(t);else if(rr(e,"dmn:DecisionRule")){e.inputEntry||(e.inputEntry=[]),e.outputEntry||(e.outputEntry=[]);var r=[].concat(Gs(e.inputEntry),Gs(e.outputEntry)).map(function(e){return n._elementFactory.createCell(Xs(e))});t=this._elementFactory.createRow(k(Xs(e),{cells:r})),this._sheet.addRow(t)}return this._eventBus.fire("dmnElement.added",{element:t}),t}}]),r}();Ys.$inject=["elementFactory","eventBus","sheet"];var Ks={__depends__:[{__depends__:[kr],tableImporter:["type",Ys]},Ha]};function Zs(e){return(Zs="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Qs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Js(e){return(Js=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ec(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tc(e,t){return(tc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nc=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(e,t){return!t||"object"!==Zs(t)&&"function"!=typeof t?ec(e):t}(this,Js(r).call(this,e,t)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ec(n),"onElementsChanged",function(){n.forceUpdate()}),hs(ec(n),Is),n._sheet=t.injector.get("sheet"),n._changeSupport=t.changeSupport,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t)}(r,Ba),function(e,t,n){t&&Qs(e.prototype,t),n&&Qs(e,n)}(r,[{key:"componentWillMount",value:function(){var e=this._sheet.getRoot();this._changeSupport.onElementsChanged(e.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var e=this._sheet.getRoot();this._changeSupport.offElementsChanged(e.id,this.onElementsChanged)}},{key:"render",value:function(){var r=this,e=this._sheet.getRoot();if(!rr(e,"dmn:DMNElement"))return null;var t=ir(e),i=t.input,n=t.output;return wo(1,"thead",null,wo(1,"tr",null,[wo(1,"th","index-column"),this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),i&&i.map(function(e,t){var n=e.width||"192px";return r.slotFill({type:"cell",context:{cellType:"input-header",input:e,index:t,inputsLength:i.length,width:n},key:e.id},rc)}),n.map(function(e,t){return r.slotFill({type:"cell",context:{cellType:"output-header",output:e,index:t,outputsLength:n.length},key:e.id},ic)}),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),2)}}]),r}();function rc(e,t){var n=e.input,r=e.className,i=e.index,o=n.label,a=n.inputExpression,s=n.inputValues,c=t.injector.get("translate");return wo(1,"th",(r||"")+" input-cell",[wo(1,"div","clause",c(0===i?"When":"And"),0),o?wo(1,"div","input-label",o,0,{title:c("Input Label")}):wo(1,"div","input-expression",a.text,0,{title:c("Input Expression")}),wo(1,"div","input-variable",s&&s.text||a.typeRef,0,{title:s&&s.text?c("Input Values"):c("Input Type")})],0,{"data-col-id":n.id},n.id)}function ic(e,t){var n=e.output,r=e.className,i=e.index,o=n.label,a=n.name,s=n.outputValues,c=n.typeRef,u=t.injector.get("translate");return wo(1,"th",(r||"")+" output-cell",[wo(1,"div","clause",u(0===i?"Then":"And"),0),o?wo(1,"div","output-label",o,0,{title:u("Output Label")}):wo(1,"div","output-name",a,0,{title:u("Output Name")}),wo(1,"div","output-variable",s&&s.text||c,0,{title:s&&s.text?u("Output Values"):u("Output Type")})],0,null,n.id)}function oc(e){e.onGetComponent("table.head",function(){return nc})}oc.$inject=["components"];var ac={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",oc]};function sc(e){return(sc="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function cc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e,t){return(fc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pc=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(e,t){return!t||"object"!==sc(t)&&"function"!=typeof t?lc(e):t}(this,uc(r).call(this,e,t)),fs(lc(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fc(e,t)}(r,Ba),function(e,t,n){t&&cc(e.prototype,t),n&&cc(e,n)}(r,[{key:"render",value:function(){var e=this.sheet.getRoot();if(!rr(e,"dmn:DMNElement"))return null;var t=e.businessObject.$parent.name,n=this.components.getComponent("hit-policy")||hc;return wo(1,"div","decision-table-properties",[wo(1,"div","decision-table-name",t,0,{title:"Decision Name: "+t}),wo(1,"div","decision-table-header-separator"),_o(2,n)],4)}}]),r}();function hc(){return null}pc.$inject=["sheet","components"];function dc(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,dc),e.onGetComponent("table.before",500,function(){return pc})}dc.$inject=["components"];var yc={__init__:["decisionTableProperties"],decisionTableProperties:["type",dc]};function mc(e){return(mc="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function vc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gc(e,t){return!t||"object"!==mc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wc(e,t){return(wc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _c=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),gc(this,bc(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wc(e,t)}(e,Ba),function(e,t,n){t&&vc(e.prototype,t),n&&vc(e,n)}(e,[{key:"render",value:function(){var e=this.props,t=e.row,n=e.rowIndex,r=this.context.components.getComponents("cell-inner",{cellType:"rule-index",row:t,rowIndex:n});return wo(1,"td","rule-index",[r&&r.map(function(e){return _o(2,e,{row:t,rowIndex:n})}),n+1],0,{"data-element-id":t.id,"data-row-id":t.id})}}]),e}();function xc(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,xc),e.onGetComponent("cell",function(e){if("before-rule-cells"===e.cellType)return _c})}xc.$inject=["components"];var Oc={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",xc]};function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var kc=[{label:"FEEL",value:"feel"},{label:"JUEL",value:"juel"},{label:"JavaScript",value:"javascript"},{label:"Groovy",value:"groovy"},{label:"Python",value:"python"},{label:"JRuby",value:"jruby"}],jc=function(){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=(this._injector=e).get("config.expressionLanguages")||{};this._config={options:kc,defaults:{editor:"feel"}},t.options&&(this._config.options=t.options);var n=this._getLegacyDefaults();k(this._config.defaults,n,t.defaults)}return function(e,t,n){t&&Ec(e.prototype,t),n&&Ec(e,n)}(r,[{key:"getDefault",value:function(e){var t=this._config.defaults,n=t[e]||t.editor;return this._getLanguageByValue(n)||this.getAll()[0]}},{key:"getLabel",value:function(e){var t=this._getLanguageByValue(e);return t?t.label:e}},{key:"getAll",value:function(){return this._config.options}},{key:"_getLegacyDefaults",value:function(){var e={},t=this._injector,n=t.get("config.defaultInputExpressionLanguage"),r=t.get("config.defaultOutputExpressionLanguage");return n&&(e.inputCell=n),r&&(e.outputCell=r),e}},{key:"_getLanguageByValue",value:function(t){return v(this.getAll(),function(e){return t===e.value})}}]),r}();jc.$inject=["injector"];var Sc={__init__:["expressionLanguages"],expressionLanguages:["type",jc]};function Cc(e){return(Cc="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Pc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tc(e,t){return!t||"object"!==Cc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Mc=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Tc(this,Dc(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nc(e,t)}(e,Ba),function(e,t,n){t&&Pc(e.prototype,t),n&&Pc(e,n)}(e,[{key:"render",value:function(e){var t=e.rows,r=e.cols,i=this.context.components;return wo(1,"tbody",null,t.map(function(e,t){var n=i.getComponent("row",{rowType:"rule"});return n&&_o(2,n,{row:e,rowIndex:t,cols:r},e.id)}),0)}}]),e}();function Rc(e){return(Rc="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lc(e,t){return(Lc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $c=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(e,t){return!t||"object"!==Rc(t)&&"function"!=typeof t?Bc(e):t}(this,Ic(r).call(this,e,t)),hs(Bc(n),Is),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lc(e,t)}(r,Ba),function(e,t,n){t&&Ac(e.prototype,t),n&&Ac(e,n)}(r,[{key:"render",value:function(){var n=this,e=this.props,r=e.row,i=e.rowIndex,o=e.cols,t=r.cells;return wo(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:r,rowIndex:i}}),t.map(function(e,t){return n.slotFill({type:"cell",context:{cellType:"rule",cell:e,rowIndex:i,colIndex:t},key:e.id,row:r,col:o[t]})}),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:r,rowIndex:i}})],0)}}]),r}();function Vc(e){return(Vc="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function zc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Uc(e,t){return!t||"object"!==Vc(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wc(e,t){return(Wc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var qc=function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Uc(this,Fc(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wc(e,t)}(e,Ba),function(e,t,n){t&&zc(e.prototype,t),n&&zc(e,n)}(e,[{key:"render",value:function(){var e=this.props,t=e.cell,n=e.row,r=e.col;return rr(t,"dmn:UnaryTests")?_o(2,Ds,{className:"input-cell",elementId:t.id,"data-row-id":n.id,"data-col-id":r.id,children:t.businessObject.text}):_o(2,Ds,{className:"output-cell",elementId:t.id,"data-row-id":n.id,"data-col-id":r.id,children:t.businessObject.text})}}]),e}();function Gc(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Gc),e.onGetComponent("table.body",function(){return Mc}),e.onGetComponent("row",function(e){if("rule"===e.rowType)return $c}),e.onGetComponent("cell",function(e){if("rule"===e.cellType)return qc})}Gc.$inject=["components"];var Hc={__depends__:[Sc],__init__:["decisionRules"],decisionRules:["type",Gc]},Xc=[{label:"Unique",value:{hitPolicy:"UNIQUE",aggregation:void 0},explanation:"No overlap is possible and all rules are disjoint. Only a single rule can be matched"},{label:"First",value:{hitPolicy:"FIRST",aggregation:void 0},explanation:"Rules may overlap. The first matching rule will be chosen"},{label:"Priority",value:{hitPolicy:"PRIORITY",aggregation:void 0},explanation:"Rules may overlap. The one with the highest priority will be chosen"},{label:"Any",value:{hitPolicy:"ANY",aggregation:void 0},explanation:"Rules may overlap. Their output have to match"},{label:"Collect",value:{hitPolicy:"COLLECT",aggregation:void 0},explanation:"Collects the values of all matching rules"},{label:"Collect (Sum)",value:{hitPolicy:"COLLECT",aggregation:"SUM"},explanation:"Collects the values of all matching rules and sums up to a single value"},{label:"Collect (Min)",value:{hitPolicy:"COLLECT",aggregation:"MIN"},explanation:"Collects the values of all matching rules and uses the lowest value"},{label:"Collect (Max)",value:{hitPolicy:"COLLECT",aggregation:"MAX"},explanation:"Collects the values of all matching rules and uses the highest value"},{label:"Collect (Count)",value:{hitPolicy:"COLLECT",aggregation:"COUNT"},explanation:"Collects the values of all matching rules and counts the number of them"},{label:"Rule order",value:{hitPolicy:"RULE ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in rule order"},{label:"Output order",value:{hitPolicy:"OUTPUT ORDER",aggregation:void 0},explanation:"Collects the values of all matching rules in decreasing output priority order"}];function Yc(e){return(Yc="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zc(e){return(Zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jc(e,t){return(Jc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var eu=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n=function(e,t){return!t||"object"!==Yc(t)&&"function"!=typeof t?Qc(e):t}(this,Zc(r).call(this,e,t)),fs(Qc(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jc(e,t)}(r,Ba),function(e,t,n){t&&Kc(e.prototype,t),n&&Kc(e,n)}(r,[{key:"getRoot",value:function(){return this.sheet.getRoot()}},{key:"render",value:function(){var e=this.getRoot().businessObject,t=e.aggregation,n=e.hitPolicy,r=v(Xc,function(e){return function(e,t){return e.hitPolicy===t.hitPolicy&&e.aggregation===t.aggregation}(e.value,{aggregation:t,hitPolicy:n})});return wo(1,"div","hit-policy header",[wo(1,"label","dms-label",xo("Hit Policy:"),2),wo(1,"span","hit-policy-value",r.label,0)],4,{title:r.explanation})}}]),r}();function tu(e){e.onGetComponent("hit-policy",function(){return eu})}eu.$inject=["sheet"],tu.$inject=["components"];var nu={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",tu]};function ru(e){return(ru="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function iu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function au(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(e,t){return(su=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cu=function(){function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=function(e,t){return!t||"object"!==ru(t)&&"function"!=typeof t?au(e):t}(this,ou(i).call(this,e,t)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(au(n),"onClick",function(){n._eventBus.fire("showDrd")});var r=t.injector;return n._eventBus=r.get("eventBus"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t)}(i,Ba),function(e,t,n){t&&iu(e.prototype,t),n&&iu(e,n)}(i,[{key:"render",value:function(){var t=this;return wo(1,"div","view-drd",wo(1,"button","view-drd-button",xo("View DRD"),2,{onClick:this.onClick}),2,null,null,function(e){return t.node=e})}}]),i}();function uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var lu=function(){function o(e,t,r,i){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._injector=r,this._sheet=i,e.onGetComponent("table.before",function(){if(n.canViewDrd())return cu}),t.on("showDrd",function(){var e=r.get("_parent",!1),t=fu(i.getRoot());if(t){var n=e.getView(t);e.open(n)}})}return function(e,t,n){t&&uu(e.prototype,t),n&&uu(e,n)}(o,[{key:"canViewDrd",value:function(){var e=this._injector.get("_parent",!1);if(!e)return!1;var t=fu(this._sheet.getRoot());return!!e.getView(t)}}]),o}();function fu(e){var t=e.businessObject;if(t)return t.$parent.$parent}lu.$inject=["components","eventBus","injector","sheet"];var pu={__init__:["viewDrd"],viewDrd:["type",lu]};function hu(){return wo(32,"svg",null,[wo(1,"path",null,null,1,{fill:"#000000",d:"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z"}),wo(1,"path",null,null,1,{fill:"#000000",d:"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z"})],4,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14.02 5.57",width:"53",height:"21",style:"vertical-align:middle"})}function du(e){return(du="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function yu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mu(e){return(mu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gu(e,t){return(gu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var bu=function(){function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=function(e,t){return!t||"object"!==du(t)&&"function"!=typeof t?vu(e):t}(this,mu(i).call(this,e,t)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(vu(n),"onClick",function(){n._eventBus.fire("poweredBy.show")});var r=t.injector;return n._eventBus=r.get("eventBus"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gu(e,t)}(i,Ba),function(e,t,n){t&&yu(e.prototype,t),n&&yu(e,n)}(i,[{key:"render",value:function(){var t=this;return wo(1,"div","powered-by",wo(1,"div","powered-by__logo",_o(2,hu),2,{title:"Powered by bpmn.io",onClick:this.onClick},null,function(e){return t.node=e}),2)}}]),i}();function wu(e){return(wu="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function _u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xu(e){return(xu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ou(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eu(e,t){return(Eu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ku=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==wu(t)&&"function"!=typeof t?Ou(e):t}(this,xu(n).call(this,e))).state={show:!1},t.onClick=t.onClick.bind(Ou(t)),t.onShow=t.onShow.bind(Ou(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t)}(n,Ba),function(e,t,n){t&&_u(e.prototype,t),n&&_u(e,n)}(n,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){(this._eventBus=this.context.injector.get("eventBus")).on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){return this.state.show&&wo(1,"div","powered-by-overlay",wo(1,"div","powered-by-overlay-content",[wo(1,"a","logo",_o(2,hu),2,{href:"https://bpmn.io",target:"_blank",rel:"noopener"}),wo(1,"span",null,[xo("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),wo(1,"a",null,xo("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),xo(".")],4)],4,{onClick:function(e){return e.stopPropagation()}}),2,{onClick:this.onClick})}}]),n}();function ju(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ju),e.onGetComponent("table.before",function(){return bu}),e.onGetComponent("table.before",function(){return ku})}ju.$inject=["components","eventBus"];var Su={__init__:["poweredBy"],poweredBy:["type",ju]};function Cu(e){return(Cu="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Pu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Tu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Du(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nu(e,t){return!t||"object"!==Cu(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Mu(e,t,n){return(Mu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ru(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ru(e){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Au(e,t){return(Au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Iu=function(){function r(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=r._createContainer();return(e=Nu(this,Ru(r).call(this,k(t,{renderer:{container:n}}))))._container=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Au(e,t)}(r,ts),function(e,t,n){t&&Du(e.prototype,t),n&&Du(e,n)}(r,[{key:"open",value:function(e,t){var n;try{return this._decision&&this.clear(),this._decision=e,function(e,t,n){var r,i,o=e.get("tableImporter"),a=e.get("eventBus"),s=e.get("sheet"),c=e.get("modeling",!1),u=[];a.fire("import.render.start",{decision:t});try{i=t,new rs({create:function(e,t,n,r){return o.create(e,t,n,r)},table:function(e){return o.add(e)},element:function(e,t,n){return o.add(e,t,n)},error:function(e,t){u.push({message:e,context:t})}},{canAddMissingEntries:c}).handleDecision(i)}catch(e){r=e}a.fire("import.render.complete",{error:r,warnings:u}),a.fire("elements.changed",{elements:[s.getRoot()]}),n(r,u)}(this,e,t)}catch(e){n=e}return t(n)}},{key:"_init",value:function(e){var t=e.modules,n=e.additionalModules,r=Tu(e,["modules","additionalModules"]),i=t||this.getModules(),o=n||[],a=[{decisionTable:["value",this]}];return{modules:[Su].concat(Pu(i),Pu(o),a),config:r}}},{key:"on",value:function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_emit",value:function(e,t){return this.get("eventBus").fire(e,t)}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach();var t=this._container;e.appendChild(t),this._emit("attach",{})}},{key:"detach",value:function(){var e=this._container;e.parentNode&&(this._emit("detach",{}),gt(e))}},{key:"destroy",value:function(){Mu(Ru(r.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return r._getModules()}}],[{key:"_getModules",value:function(){return[qs,Ks,kr,ac,yc,Oc,Hc,nu,pu]}},{key:"_createContainer",value:function(){return dt('<div class="dmn-decision-table-container"></div>')}}]),r}();function Bu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Lu=function(){function t(e){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this._listeners={},e.on("elements.changed",function(e){var t=e.elements;r.elementsChanged(t)}),e.on("element.updateId",function(e){var t=e.element,n=e.newId;r.updateId(t.id,n)})}return function(e,t,n){t&&Bu(e.prototype,t),n&&Bu(e,n)}(t,[{key:"elementsChanged",value:function(e){for(var t={},n=e.length,r=0;r<n;r++){var i=e[r].id;if(t[i])return;t[i]=!0;var o=this._listeners[i]&&this._listeners[i].length;if(o)for(var a=0;a<o;a++)this._listeners[i][a]&&this._listeners[i][a]()}}},{key:"onElementsChanged",value:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e][this._listeners[e].length]=t}},{key:"offElementsChanged",value:function(e,t){if(this._listeners[e])if(t){var n=this._listeners[e].indexOf(t);-1!==n&&this._listeners[e].splice(n,1)}else this._listeners[e].length=0}},{key:"updateId",value:function(e,t){this._listeners[e]&&(this._listeners[t]=this._listeners[e],delete this._listeners[e])}}]),t}();function $u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Lu.$inject=["eventBus"];var Vu=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._listeners={}}return function(e,t,n){t&&$u(e.prototype,t),n&&$u(e,n)}(e,[{key:"getComponent",value:function(e,t){var n=this._listeners[e];if(n){for(var r,i=0;i<n.length&&!(r=n[i].callback(t));i++);return r}}},{key:"getComponents",value:function(e,t){var n=this._listeners[e];if(n){for(var r=[],i=0;i<n.length;i++){var o=n[i].callback(t);o&&r.push(o)}if(r.length)return r}}},{key:"onGetComponent",value:function(e,t,n){if(l(t)&&(n=t,t=1e3),!u(t))throw new Error("priority must be a number");var r,i,o=this._getListeners(e),a={priority:t,callback:n};for(i=0;r=o[i];i++)if(r.priority<t)return void o.splice(i,0,a);o.push(a)}},{key:"offGetComponent",value:function(e,t){var n,r,i=this._getListeners(e);if(t)for(r=i.length-1;n=i[r];r--)n.callback===t&&i.splice(r,1);else i.length=0}},{key:"_getListeners",value:function(e){var t=this._listeners[e];return t||(this._listeners[e]=t=[]),t}}]),e}();function zu(e){return(zu="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Uu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fu(e,t){return!t||"object"!==zu(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qu(e,t){return(qu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gu=function(){function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=(t=Fu(this,Wu(r).call(this,e)))._injector=e.injector;return t._changeSupport=n.get("changeSupport"),t._components=n.get("components"),t._renderer=n.get("renderer"),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qu(e,t)}(r,Ba),function(e,t,n){t&&Uu(e.prototype,t),n&&Uu(e,n)}(r,[{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}},{key:"render",value:function(){var e=this._components.getComponents("viewer");return wo(1,"div","viewer-container",e&&e.map(function(e,t){return _o(2,e,null,t)}),0)}}]),r}();function Hu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Xu=function(){function a(e,t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var o=n.container;this._container=o,r.on("renderer.mount",function(){Na(_o(2,Gu,{injector:i}),o)}),r.on("renderer.unmount",function(){Na(null,o)})}return function(e,t,n){t&&Hu(e.prototype,t),n&&Hu(e,n)}(a,[{key:"getContainer",value:function(){return this._container}}]),a}();Xu.$inject=["changeSupport","components","config.renderer","eventBus","injector"];var Yu={__init__:["changeSupport","components","renderer"],changeSupport:["type",Lu],components:["type",Vu],eventBus:["type",C],renderer:["type",Xu]};function Ku(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Qu=function(){function i(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t=e.injector;if(!t){var n=this._init(e),r=n.modules;t=function(e,t){return function(e){var n=[],r=[];function i(e){return 0<=n.indexOf(e)}e.forEach(function e(t){i(t)||((t.__depends__||[]).forEach(e),i(t)||(function(e){n.push(e)}(t),(t.__init__||[]).forEach(function(e){r.push(e)})))});var t=new zt(n);return r.forEach(function(e){try{t["string"==typeof e?"get":"invoke"](e)}catch(e){throw console.error("Failed to instantiate component"),console.error(e.stack),e}}),t}([{config:["value",e]},Yu].concat(t||[]))}(n.config,r)}this.get=t.get,this.invoke=t.invoke,this.get("eventBus").fire("viewer.init")}return function(e,t,n){t&&Zu(e.prototype,t),n&&Zu(e,n)}(i,[{key:"_init",value:function(e){return{modules:e.modules,config:Ku(e,["modules"])}}},{key:"destroy",value:function(){this.get("eventBus").fire("viewer.destroy")}},{key:"clear",value:function(){this.get("eventBus").fire("viewer.clear")}}]),i}();function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var el=function(){function n(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this._eventBus=t,this._viewer=e}return function(e,t,n){t&&Ju(e.prototype,t),n&&Ju(e,n)}(n,[{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"updateId",value:function(e,t){if(e!==this.getDecision())throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:e,newId:t}),e.id=t}}]),n}();el.$inject=["viewer","eventBus"];var tl={__init__:["elementRegistry"],elementRegistry:["type",el]};function nl(e){return(nl="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function rl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function il(e,t){return!t||"object"!==nl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ol(e){return(ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function al(e,t){return(al=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var sl=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=il(this,ol(r).call(this,e,t)))._viewer=t.injector.get("viewer"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&al(e,t)}(r,Ba),function(e,t,n){t&&rl(e.prototype,t),n&&rl(e,n)}(r,[{key:"render",value:function(){return wo(1,"div","decision-properties",wo(1,"h3","decision-name",this._viewer.getDecision().name,0),2)}}]),r}();function cl(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,cl),e.onGetComponent("viewer",1500,function(){return sl})}cl.$inject=["components"];var ul={__init__:["decisionProperties"],decisionProperties:["type",cl]};function ll(e){return(ll="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function fl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pl(e,t){return!t||"object"!==ll(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function hl(e){return(hl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dl(e,t){return(dl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var yl=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=pl(this,hl(r).call(this,e,t)))._viewer=t.injector.get("viewer"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dl(e,t)}(r,Ba),function(e,t,n){t&&fl(e.prototype,t),n&&fl(e,n)}(r,[{key:"render",value:function(){var e=this._viewer.getDecision(),t=e.decisionLogic,n=e.variable;return wo(1,"div","literal-expression-properties",wo(1,"table",null,[wo(1,"tr",null,[wo(1,"td",null,xo("Variable Name:"),2),wo(1,"td",null,wo(1,"span",null,n.name||"-",0),2)],4),wo(1,"tr",null,[wo(1,"td",null,xo("Variable Type:"),2),wo(1,"td",null,wo(1,"span",null,n.typeRef||"-",0),2)],4),wo(1,"tr",null,[wo(1,"td",null,xo("Expression Language:"),2),wo(1,"td",null,wo(1,"span",null,t.expressionLanguage||"-",0),2)],4)],4),2)}}]),r}();function ml(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ml),e.onGetComponent("viewer",500,function(){return yl})}ml.$inject=["components"];var vl={__depends__:[Sc],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",ml]};function gl(e){return(gl="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function bl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wl(e){return(wl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xl(e,t){return(xl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ol=function(){function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=function(e,t){return!t||"object"!==gl(t)&&"function"!=typeof t?_l(e):t}(this,wl(i).call(this,e,t)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(_l(n),"onClick",function(){n._eventBus.fire("poweredBy.show")});var r=t.injector;return n._eventBus=r.get("eventBus"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xl(e,t)}(i,Ba),function(e,t,n){t&&bl(e.prototype,t),n&&bl(e,n)}(i,[{key:"render",value:function(){var t=this;return wo(1,"div","powered-by",wo(1,"div","powered-by__logo",_o(2,hu),2),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,function(e){return t.node=e})}}]),i}();function El(e){return(El="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function kl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jl(e){return(jl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cl(e,t){return(Cl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Pl=function(){function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==El(t)&&"function"!=typeof t?Sl(e):t}(this,jl(n).call(this,e))).state={show:!1},t.onClick=t.onClick.bind(Sl(t)),t.onShow=t.onShow.bind(Sl(t)),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cl(e,t)}(n,Ba),function(e,t,n){t&&kl(e.prototype,t),n&&kl(e,n)}(n,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){(this._eventBus=this.context.injector.get("eventBus")).on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){return this.state.show&&wo(1,"div","powered-by-overlay",wo(1,"div","powered-by-overlay-content",[wo(1,"a","logo",_o(2,hu),2,{href:"https://bpmn.io",target:"_blank",rel:"noopener"}),wo(1,"span",null,[xo("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),wo(1,"a",null,xo("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),xo(".")],4)],4,{onClick:function(e){return e.stopPropagation()}}),2,{onClick:this.onClick})}}]),n}();function Tl(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Tl),e.onGetComponent("viewer",2e3,function(){return Ol}),e.onGetComponent("viewer",function(){return Pl})}Tl.$inject=["components","eventBus"];var Dl={__init__:["poweredBy"],poweredBy:["type",Tl]};function Nl(e){return(Nl="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Ml(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t){return!t||"object"!==Nl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function Al(e){return(Al=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Il(e,t){return(Il=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Bl=function(){function r(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(n=Rl(this,Al(r).call(this,e,t)))._viewer=t.injector.get("viewer"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Il(e,t)}(r,Ba),function(e,t,n){t&&Ml(e.prototype,t),n&&Ml(e,n)}(r,[{key:"render",value:function(){return wo(1,"div","textarea",wo(1,"div","content",this._viewer.getDecision().decisionLogic.text,0),2)}}]),r}();function Ll(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ll),e.onGetComponent("viewer",function(){return Bl})}Ll.$inject=["components"];var $l={__init__:["textarea"],textarea:["type",Ll]};function Vl(e){return(Vl="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function zl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ul(e){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fl(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wl(e,t){return(Wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ql=function(){function i(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),n=function(e,t){return!t||"object"!==Vl(t)&&"function"!=typeof t?Fl(e):t}(this,Ul(i).call(this,e,t)),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fl(n),"onClick",function(){n._eventBus.fire("showDrd")});var r=t.injector;return n._eventBus=r.get("eventBus"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wl(e,t)}(i,Ba),function(e,t,n){t&&zl(e.prototype,t),n&&zl(e,n)}(i,[{key:"render",value:function(){var t=this;return wo(1,"div","view-drd",wo(1,"button","view-drd-button",xo("View DRD"),2,{onClick:this.onClick}),2,null,null,function(e){return t.node=e})}}]),i}();function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Hl=function(){function o(e,t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this._injector=r,this._viewer=t,e.onGetComponent("viewer",2e3,function(){if(i.canViewDrd())return ql}),n.on("showDrd",function(){var e=r.get("_parent",!1),t=i.getDefinitions(),n=e.getView(t);e.open(n)})}return function(e,t,n){t&&Gl(e.prototype,t),n&&Gl(e,n)}(o,[{key:"canViewDrd",value:function(){var e=this._injector.get("_parent",!1);if(e){var t=this.getDefinitions();return!!e.getView(t)}}},{key:"getDefinitions",value:function(){return function(e){return e.$parent}(this._viewer.getDecision())}}]),o}();Hl.$inject=["components","viewer","eventBus","injector"];var Xl={__init__:["viewDrd"],viewDrd:["type",Hl]};function Yl(e){return(Yl="function"==typeof Symbol&&"symbol"===qe(Symbol.iterator)?function(e){return qe(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":qe(e)})(e)}function Kl(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Zl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ql(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jl(e,t){return!t||"object"!==Yl(t)&&"function"!=typeof t?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e):t}function ef(e,t,n){return(ef="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tf(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function tf(e){return(tf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nf(e,t){return(nf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var rf=function(){function r(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var n=r._createContainer();return(e=Jl(this,tf(r).call(this,k(t,{renderer:{container:n}}))))._container=n,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nf(e,t)}(r,Qu),function(e,t,n){t&&Ql(e.prototype,t),n&&Ql(e,n)}(r,[{key:"open",value:function(e,t){var n;try{this._decision&&(this.clear(),this.get("eventBus").fire("renderer.unmount")),this._decision=e,this.get("eventBus").fire("import",e),this.get("eventBus").fire("renderer.mount")}catch(e){n=e}return t(n)}},{key:"_init",value:function(e){var t=e.modules,n=e.additionalModules,r=Zl(e,["modules","additionalModules"]),i=t||this.getModules(),o=n||[],a=[{viewer:["value",this]}];return{modules:[].concat(Kl(i),Kl(o),a),config:r}}},{key:"on",value:function(e,t,n,r){return this.get("eventBus").on(e,t,n,r)}},{key:"off",value:function(e,t){this.get("eventBus").off(e,t)}},{key:"_emit",value:function(e,t){return this.get("eventBus").fire(e,t)}},{key:"getDecision",value:function(){return this._decision}},{key:"attachTo",value:function(e){if(!e)throw new Error("parentNode required");this.detach(),e.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){var e=this._container;e.parentNode&&(this._emit("detach",{}),gt(e))}},{key:"destroy",value:function(){ef(tf(r.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return r._getModules()}}],[{key:"_getModules",value:function(){return[tl,ul,vl,Dl,$l,Xl]}},{key:"_createContainer",value:function(){return dt('<div class="dmn-literal-expression-container"></div>')}}]),r}();return function(){function e(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,t(e).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}(e,kt),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(e,[{key:"_getViewProviders",value:function(){return[{id:"drd",constructor:Mi,opens:function(e){return rr(e,"dmn:Definitions")&&function(e){return e.dmnDI&&e.dmnDI.diagrams&&e.dmnDI.diagrams[0]}(e)}},{id:"decisionTable",constructor:Iu,opens:function(e){return rr(e,"dmn:Decision")&&rr(e.decisionLogic,"dmn:DecisionTable")}},{id:"literalExpression",constructor:rf,opens:function(e){return rr(e,"dmn:Decision")&&rr(e.decisionLogic,"dmn:LiteralExpression")}}]}}]),e}()});
